import{a5 as Hd,a6 as ng,a7 as Xi,a8 as ig,a9 as og,aa as ag,ab as sg,ac as bf,ad as fg,ae as Zi,af as Qi,ag as cg,ah as ug,ai as dg,aj as lg,ak as hg,al as gg,am as pg,an as Qo,ao as mg,ap as bg,aq as mr,ar as yg,as as vg,at as Eg,au as wg,av as xg,aw as Sg,ax as yf,ay as Ag,az as _g,aA as Pg,aB as Ig,aC as Tg,aD as Og,aE as Dg,aF as Bg,aG as ir,aH as Cg,aI as Ng,aJ as Rg,aK as ea,aL as Fg,aM as Lg,aN as Pt,aO as vf,aP as $g,aQ as Mg,aR as kg,aS as Ug,aT as jg,aU as Hg,aV as Gg,aW as zg,aX as Vg,aY as qg,aZ as Kg,a_ as Wg,a$ as Jg,b0 as Yg,b1 as Xg,b2 as Zg,b3 as Qg,b4 as ep,b5 as tp,b6 as rp,b7 as np,b8 as ip,b9 as op,ba as ap,bb as sp,bc as fp,bd as cp,be as up,bf as dp,bg as lp,bh as hp,bi as gp,bj as pp,bk as mp,bl as bp,bm as yp,bn as vp,bo as Ep,bp as wp,bq as xp,br as Sp,bs as Ap,bt as _p,bu as Pp,bv as Ip,bw as Tp,bx as Op,by as Dp,bz as Bp,bA as Cp,bB as Np,a1 as hi,H as Rs,a0 as Rp,_ as wt,C as gi,a as Ar,J as Gd,p as zd,f as Pc,l as gn,g as Fp,r as Vt,m as Vd,b as ta,c as dr,n as qd,a2 as _o}from"./base.esm-47809bc2.js";import{_ as kn}from"./defineProperty-0f7e3690.js";import{g as ra,h as pt,i as eo}from"./vendor-e80652ae.js";import{w as Lp,H as $p,i as Ic,j as Mp,k as Tc,l as Oc,a as Dc,t as kp,g as Up,b as jp,s as Hp,m as Gp,n as zp,o as Vp,p as qp,B as Ke}from"./bn-7ed28666.js";import{s as Kd,c as Pi,r as Kp,g as Wd,t as Wp,a as Jp,b as na,i as Yp,o as Jd,e as Xp,d as Zp,h as Qp,f as em,j as un,k as tm,l as Ef}from"./keccak-ebac2ad3.js";import{c as Yd}from"./_commonjs-dynamic-modules-302442b1.js";import{B as Xd,a as Zt,s as rm,c as nm}from"./modal.esm-dc74f401.js";import{f as im,s as Ii,u as om,l as am}from"./secp256k1-e5c7fdd6.js";import{w as sm,k as Tn,e as Kn,u as fm,d as cm}from"./index-cdbc9963.js";function um(e){return vn(e,"empty",t=>{const r=Zd(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Zd(e){return e instanceof Map||e instanceof Set?e.size:e.length}function dm(e,t,r={}){const{exclusive:n}=r;return vn(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function lm(e,t,r={}){const{exclusive:n}=r;return vn(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function hm(e){return vn(e,"nonempty",t=>Zd(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Br(e,t){return vn(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Qd(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return vn(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:s}=o;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}const{length:a}=o;return t<=a&&a<=r||`${n} with a length ${i} but received one with a length of \`${a}\``})}function vn(e,t,r){return new Hd({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),a=ng(o,i,e,n);for(const s of a)yield{...s,refinement:t}}})}const gm=Object.freeze(Object.defineProperty({__proto__:null,Struct:Hd,StructError:Xi,any:ig,array:og,assert:ag,assign:sg,bigint:bf,boolean:fg,coerce:Zi,create:Qi,date:cg,defaulted:ug,define:dg,deprecated:lg,dynamic:hg,empty:um,enums:gg,func:pg,instance:Qo,integer:mg,intersection:bg,is:mr,lazy:yg,literal:vg,map:Eg,mask:wg,max:dm,min:lm,never:xg,nonempty:hm,nullable:Sg,number:yf,object:Ag,omit:_g,optional:Pg,partial:Ig,pattern:Br,pick:Tg,record:Og,refine:vn,regexp:Dg,set:Bg,size:Qd,string:ir,trimmed:Cg,tuple:Ng,type:Rg,union:ea,unknown:Fg,validate:Lg},Symbol.toStringTag,{value:"Module"})),el=(e,t={})=>{const r=t.paddingRequired??!1,n=t.characterSet??"base64";let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(Pt(n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let o;return r?o=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):o=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),Br(e,o)};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function tl(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(r=>typeof r=="string"):t.every(r=>Number.isSafeInteger(r)):!1}function Lo(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function wf(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function Fs(e){if(!Array.isArray(e))throw new Error("array expected")}function $o(e,t){if(!tl(!0,t))throw new Error(`${e}: array of strings expected`)}function mm(e,t){if(!tl(!1,t))throw new Error(`${e}: array of numbers expected`)}function bm(...e){const t=o=>o,r=(o,a)=>s=>o(a(s)),n=e.map(o=>o.encode).reduceRight(r,t),i=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:i}}function ym(e){const t=typeof e=="string"?e.split(""):e,r=t.length;$o("alphabet",t);const n=new Map(t.map((i,o)=>[i,o]));return{encode:i=>(Fs(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:i=>(Fs(i),i.map(o=>{Lo("alphabet.decode",o);const a=n.get(o);if(a===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return a}))}}function vm(e=""){return Lo("join",e),{encode:t=>($o("join.decode",t),t.join(e)),decode:t=>(Lo("join.decode",t),t.split(e))}}function Em(e,t="="){return wf(e),Lo("padding",t),{encode(r){for($o("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){$o("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const rl=(e,t)=>t===0?e:rl(t,e%t),Mo=(e,t)=>e+(t-rl(e,t)),Ha=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Bc(e,t,r,n){if(Fs(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Mo(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Mo(t,r)}`);let i=0,o=0;const a=Ha[t],s=Ha[r]-1,f=[];for(const c of e){if(wf(c),c>=a)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)f.push((i>>o-r&s)>>>0);const l=Ha[o];if(l===void 0)throw new Error("invalid carry");i&=l-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&f.push(i>>>0),f}function wm(e,t=!1){if(wf(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Mo(8,e)>32||Mo(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!pm(r))throw new Error("radix2.encode input should be Uint8Array");return Bc(Array.from(r),8,e,!t)},decode:r=>(mm("radix2.decode",r),Uint8Array.from(Bc(r,e,8,t)))}}const nl=bm(wm(6),ym("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Em(6),vm("")),il=[],ol=[],al=[],xm=BigInt(0),Ri=BigInt(1),Sm=BigInt(2),Am=BigInt(7),_m=BigInt(256),Pm=BigInt(113);for(let e=0,t=Ri,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],il.push(2*(5*n+r)),ol.push((e+1)*(e+2)/2%64);let i=xm;for(let o=0;o<7;o++)t=(t<<Ri^(t>>Am)*Pm)%_m,t&Sm&&(i^=Ri<<(Ri<<BigInt(o))-Ri);al.push(i)}const[Im,Tm]=Hp(al,!0),Cc=(e,t,r)=>r>32?Gp(e,t,r):zp(e,t,r),Nc=(e,t,r)=>r>32?Vp(e,t,r):qp(e,t,r);function Om(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,f=(a+2)%10,c=r[f],l=r[f+1],g=Cc(c,l,1)^r[s],y=Nc(c,l,1)^r[s+1];for(let v=0;v<50;v+=10)e[a+v]^=g,e[a+v+1]^=y}let i=e[2],o=e[3];for(let a=0;a<24;a++){const s=ol[a],f=Cc(i,o,s),c=Nc(i,o,s),l=il[a];i=e[l],o=e[l+1],e[l]=f,e[l+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=e[a+s];for(let s=0;s<10;s++)e[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}e[0]^=Im[n],e[1]^=Tm[n]}r.fill(0)}class xf extends $p{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ic(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Mp(this.state)}keccak(){Tc||Oc(this.state32),Om(this.state32,this.rounds),Tc||Oc(this.state32),this.posOut=0,this.pos=0}update(t){Dc(this);const{blockLen:r,state:n}=this;t=kp(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Dc(this,!1),Up(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ic(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(jp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return t||(t=new xf(r,n,i,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}}const Dm=(e,t,r)=>Lp(()=>new xf(t,e,r)),Bm=Dm(1,136,256/8),sl=Br(ir(),/^(?:0x)?[0-9a-f]+$/iu),Ti=Br(ir(),/^0x[0-9a-f]+$/iu),fl=Br(ir(),/^0x[0-9a-f]{40}$/u),Sf=Br(ir(),/^0x[0-9a-fA-F]{40}$/u);function cl(e){return mr(e,sl)}function ul(e){return mr(e,Ti)}function ia(e){Pt(cl(e),"Value must be a hexadecimal string.")}function Cm(e){Pt(ul(e),'Value must be a hexadecimal string, starting with "0x".')}function Nm(e){return mr(e,fl)||ll(e)}function dl(e){Pt(mr(e,Sf),"Invalid hex address.");const t=ko(e.toLowerCase()),r=ko(oa(Bm(t)));return`0x${t.split("").map((n,i)=>{const o=r[i];return Pt(mr(o,ir()),"Hash shorter than address."),parseInt(o,16)>7?n.toUpperCase():n}).join("")}`}function ll(e){return mr(e,Sf)?dl(e)===e:!1}function to(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function ko(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}const Rc=48,Fc=58,Lc=87;function Rm(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const Fm=Rm();function Af(e){return e instanceof Uint8Array}function ti(e){Pt(Af(e),"Value must be a Uint8Array.")}function oa(e){if(ti(e),e.length===0)return"0x";const t=Fm(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return to(r.join(""))}function hl(e){ti(e);const t=oa(e);return BigInt(t)}function Lm(e){ti(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function $m(e){ti(e);const t=hl(e);return Pt(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function Mm(e){return ti(e),new TextDecoder().decode(e)}function km(e){return ti(e),nl.encode(e)}function ro(e){var i;if(((i=e==null?void 0:e.toLowerCase)==null?void 0:i.call(e))==="0x")return new Uint8Array;ia(e);const t=ko(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let o=0;o<n.length;o++){const a=r.charCodeAt(o*2),s=r.charCodeAt(o*2+1),f=a-(a<Fc?Rc:Lc),c=s-(s<Fc?Rc:Lc);n[o]=f*16+c}return n}function gl(e){Pt(typeof e=="bigint","Value must be a bigint."),Pt(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return ro(t)}function Um(e,t){Pt(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function jm(e,t){Pt(typeof e=="bigint","Value must be a bigint."),Pt(typeof t=="number","Byte length must be a number."),Pt(t>0,"Byte length must be greater than 0."),Pt(Um(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function pl(e){Pt(typeof e=="number","Value must be a number."),Pt(e>=0,"Value must be a non-negative number."),Pt(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return ro(t)}function ml(e){return Pt(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function Hm(e){return Pt(typeof e=="string","Value must be a string."),nl.decode(e)}function bl(e){if(typeof e=="bigint")return gl(e);if(typeof e=="number")return pl(e);if(typeof e=="string")return e.startsWith("0x")?ro(e):ml(e);if(Af(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function Gm(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const o=bl(e[i]);t[i]=o,r+=o.length}const n=new Uint8Array(r);for(let i=0,o=0;i<t.length;i++)n.set(t[i],o),o+=t[i].length;return n}function zm(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}const _f=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Pf=/^[-a-z0-9]{3,8}$/u,If=/^[-_a-zA-Z0-9]{1,32}$/u,Tf=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,yl=/^[-.%a-zA-Z0-9]{1,128}$/u,vl=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,El=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,wl=Br(ir(),_f),xl=Br(ir(),Pf),Sl=Br(ir(),If),Al=Br(ir(),Tf),_l=Br(ir(),yl),Pl=Br(ir(),vl),Il=Br(ir(),El);var Po;(function(e){e.Bip122="bip122",e.Eip155="eip155",e.Wallet="wallet"})(Po=Po||(Po={}));function Vm(e){return mr(e,wl)}function Tl(e){return mr(e,xl)}function Ol(e){return mr(e,Sl)}function qm(e){return mr(e,Al)}function Km(e){return mr(e,_l)}function Wm(e){return mr(e,Pl)}function Jm(e){return mr(e,Il)}function Ym(e){const t=_f.exec(e);if(!(t!=null&&t.groups))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function Xm(e){const t=Tf.exec(e);if(!(t!=null&&t.groups))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function Zm(e,t){if(!Tl(e))throw new Error(`Invalid "namespace", must match: ${Pf.toString()}`);if(!Ol(t))throw new Error(`Invalid "reference", must match: ${If.toString()}`);return`${e}:${t}`}const Qm=Qd(el(ir(),{paddingRequired:!0}),44,44),Dl=ea([yf(),bf(),ir(),Ti]),eb=Zi(yf(),Dl,Number),tb=Zi(bf(),Dl,BigInt);ea([Ti,Qo(Uint8Array)]);const rb=Zi(Qo(Uint8Array),ea([Ti]),ro),nb=Zi(Ti,Qo(Uint8Array),oa);function ib(e){try{const t=Qi(e,eb);return Pt(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Xi?new Error(`Expected a number-like value, got "${e}".`):t}}function ob(e){try{return Qi(e,tb)}catch(t){throw t instanceof Xi?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function ab(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return Qi(e,rb)}catch(t){throw t instanceof Xi?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function sb(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return Qi(e,nb)}catch(t){throw t instanceof Xi?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}var yr=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Bl=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Hr,Xr;class Of{get size(){return yr(this,Hr,"f").size}[(Hr=new WeakMap,Symbol.iterator)](){return yr(this,Hr,"f")[Symbol.iterator]()}constructor(t){Hr.set(this,void 0),Bl(this,Hr,new Map(t),"f"),Object.freeze(this)}entries(){return yr(this,Hr,"f").entries()}forEach(t,r){return yr(this,Hr,"f").forEach((n,i,o)=>t.call(r,n,i,this))}get(t){return yr(this,Hr,"f").get(t)}has(t){return yr(this,Hr,"f").has(t)}keys(){return yr(this,Hr,"f").keys()}values(){return yr(this,Hr,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}class Df{get size(){return yr(this,Xr,"f").size}[(Xr=new WeakMap,Symbol.iterator)](){return yr(this,Xr,"f")[Symbol.iterator]()}constructor(t){Xr.set(this,void 0),Bl(this,Xr,new Set(t),"f"),Object.freeze(this)}entries(){return yr(this,Xr,"f").entries()}forEach(t,r){return yr(this,Xr,"f").forEach((n,i,o)=>t.call(r,n,i,this))}has(t){return yr(this,Xr,"f").has(t)}keys(){return yr(this,Xr,"f").keys()}values(){return yr(this,Xr,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Object.freeze(Of);Object.freeze(Of.prototype);Object.freeze(Df);Object.freeze(Df.prototype);var Ls={exports:{}},Ga,$c;function fb(){if($c)return Ga;$c=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,o=n*365.25;Ga=function(l,g){g=g||{};var y=typeof l;if(y==="string"&&l.length>0)return a(l);if(y==="number"&&isFinite(l))return g.long?f(l):s(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function a(l){if(l=String(l),!(l.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(g){var y=parseFloat(g[1]),v=(g[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return y*o;case"weeks":case"week":case"w":return y*i;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*t;case"seconds":case"second":case"secs":case"sec":case"s":return y*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function s(l){var g=Math.abs(l);return g>=n?Math.round(l/n)+"d":g>=r?Math.round(l/r)+"h":g>=t?Math.round(l/t)+"m":g>=e?Math.round(l/e)+"s":l+"ms"}function f(l){var g=Math.abs(l);return g>=n?c(l,g,n,"day"):g>=r?c(l,g,r,"hour"):g>=t?c(l,g,t,"minute"):g>=e?c(l,g,e,"second"):l+" ms"}function c(l,g,y,v){var _=g>=y*1.5;return Math.round(l/y)+" "+v+(_?"s":"")}return Ga}function cb(e){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=i,r.enabled=s,r.humanize=fb(),r.destroy=c,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let g=0;for(let y=0;y<l.length;y++)g=(g<<5)-g+l.charCodeAt(y),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=t;function r(l){let g,y=null,v,_;function j(...z){if(!j.enabled)return;const Z=j,k=Number(new Date),K=k-(g||k);Z.diff=K,Z.prev=g,Z.curr=k,g=k,z[0]=r.coerce(z[0]),typeof z[0]!="string"&&z.unshift("%O");let $=0;z[0]=z[0].replace(/%([a-zA-Z%])/g,(D,h)=>{if(D==="%%")return"%";$++;const A=r.formatters[h];if(typeof A=="function"){const q=z[$];D=A.call(Z,q),z.splice($,1),$--}return D}),r.formatArgs.call(Z,z),(Z.log||r.log).apply(Z,z)}return j.namespace=l,j.useColors=r.useColors(),j.color=r.selectColor(l),j.extend=n,j.destroy=r.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(v!==r.namespaces&&(v=r.namespaces,_=r.enabled(l)),_),set:z=>{y=z}}),typeof r.init=="function"&&r.init(j),j}function n(l,g){const y=r(this.namespace+(typeof g>"u"?":":g)+l);return y.log=this.log,y}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];const g=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(const y of g)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function o(l,g){let y=0,v=0,_=-1,j=0;for(;y<l.length;)if(v<g.length&&(g[v]===l[y]||g[v]==="*"))g[v]==="*"?(_=v,j=y,v++):(y++,v++);else if(_!==-1)v=_+1,j++,y=j;else return!1;for(;v<g.length&&g[v]==="*";)v++;return v===g.length}function a(){const l=[...r.names,...r.skips.map(g=>"-"+g)].join(",");return r.enable(""),l}function s(l){for(const g of r.skips)if(o(l,g))return!1;for(const g of r.names)if(o(l,g))return!0;return!1}function f(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var ub=cb;(function(e,t){t.formatArgs=n,t.save=i,t.load=o,t.useColors=r,t.storage=a(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;f.splice(1,0,c,"color: inherit");let l=0,g=0;f[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(l++,y==="%c"&&(g=l))}),f.splice(g,0,c)}t.log=console.debug||console.log||(()=>{});function i(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function o(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f={}.DEBUG),f}function a(){try{return localStorage}catch{}}e.exports=ub(t);const{formatters:s}=e.exports;s.j=function(f){try{return JSON.stringify(f)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ls,Ls.exports);var db=Ls.exports;const lb=ra(db),hb=lb("metamask");function gb(e){return hb.extend(e)}function pb(e,t){return e.extend(t)}const mb=e=>(Pt(typeof e=="number","Value must be a number."),Pt(e>=0,"Value must be a non-negative number."),Pt(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),to(e.toString(16))),bb=e=>(Pt(typeof e=="bigint","Value must be a bigint."),Pt(e>=0,"Value must be a non-negative bigint."),to(e.toString(16))),yb=e=>{ia(e);const t=parseInt(e,16);return Pt(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},vb=e=>(ia(e),BigInt(to(e)));function Eb({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,o)=>{t=i,r=o});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}var Io;(function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"})(Io=Io||(Io={}));const wb=e=>Number.isInteger(e)&&e>=0,Cl=(e,t)=>{if(!wb(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function xb(e,t){return Cl(e,"count"),e*t}function Sb(e){return Cl(e,"timestamp"),Date.now()-e}var $s={exports:{}};const Ab="2.0.0",Nl=256,_b=Number.MAX_SAFE_INTEGER||9007199254740991,Pb=16,Ib=Nl-6,Tb=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var aa={MAX_LENGTH:Nl,MAX_SAFE_COMPONENT_LENGTH:Pb,MAX_SAFE_BUILD_LENGTH:Ib,MAX_SAFE_INTEGER:_b,RELEASE_TYPES:Tb,SEMVER_SPEC_VERSION:Ab,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Ob=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var sa=Ob;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=aa,o=sa;t=e.exports={};const a=t.re=[],s=t.safeRe=[],f=t.src=[],c=t.t={};let l=0;const g="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",i],[g,n]],v=j=>{for(const[z,Z]of y)j=j.split(`${z}*`).join(`${z}{0,${Z}}`).split(`${z}+`).join(`${z}{1,${Z}}`);return j},_=(j,z,Z)=>{const k=v(z),K=l++;o(j,K,z),c[j]=K,f[K]=z,a[K]=new RegExp(z,Z?"g":void 0),s[K]=new RegExp(k,Z?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),_("MAINVERSION",`(${f[c.NUMERICIDENTIFIER]})\\.(${f[c.NUMERICIDENTIFIER]})\\.(${f[c.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${f[c.NUMERICIDENTIFIERLOOSE]})\\.(${f[c.NUMERICIDENTIFIERLOOSE]})\\.(${f[c.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${f[c.NUMERICIDENTIFIER]}|${f[c.NONNUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${f[c.NUMERICIDENTIFIERLOOSE]}|${f[c.NONNUMERICIDENTIFIER]})`),_("PRERELEASE",`(?:-(${f[c.PRERELEASEIDENTIFIER]}(?:\\.${f[c.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${f[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[c.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${g}+`),_("BUILD",`(?:\\+(${f[c.BUILDIDENTIFIER]}(?:\\.${f[c.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${f[c.MAINVERSION]}${f[c.PRERELEASE]}?${f[c.BUILD]}?`),_("FULL",`^${f[c.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${f[c.MAINVERSIONLOOSE]}${f[c.PRERELEASELOOSE]}?${f[c.BUILD]}?`),_("LOOSE",`^${f[c.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${f[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${f[c.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${f[c.XRANGEIDENTIFIER]})(?:\\.(${f[c.XRANGEIDENTIFIER]})(?:\\.(${f[c.XRANGEIDENTIFIER]})(?:${f[c.PRERELEASE]})?${f[c.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${f[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[c.XRANGEIDENTIFIERLOOSE]})(?:${f[c.PRERELEASELOOSE]})?${f[c.BUILD]}?)?)?`),_("XRANGE",`^${f[c.GTLT]}\\s*${f[c.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${f[c.GTLT]}\\s*${f[c.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${f[c.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",f[c.COERCEPLAIN]+`(?:${f[c.PRERELEASE]})?(?:${f[c.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",f[c.COERCE],!0),_("COERCERTLFULL",f[c.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${f[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${f[c.LONETILDE]}${f[c.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${f[c.LONETILDE]}${f[c.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${f[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${f[c.LONECARET]}${f[c.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${f[c.LONECARET]}${f[c.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${f[c.GTLT]}\\s*(${f[c.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${f[c.GTLT]}\\s*(${f[c.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${f[c.GTLT]}\\s*(${f[c.LOOSEPLAIN]}|${f[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${f[c.XRANGEPLAIN]})\\s+-\\s+(${f[c.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${f[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[c.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})($s,$s.exports);var no=$s.exports;const Db=Object.freeze({loose:!0}),Bb=Object.freeze({}),Cb=e=>e?typeof e!="object"?Db:e:Bb;var Bf=Cb;const Mc=/^[0-9]+$/,Rl=(e,t)=>{const r=Mc.test(e),n=Mc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Nb=(e,t)=>Rl(t,e);var Fl={compareIdentifiers:Rl,rcompareIdentifiers:Nb};const yo=sa,{MAX_LENGTH:kc,MAX_SAFE_INTEGER:vo}=aa,{safeRe:Uc,t:jc}=no,Rb=Bf,{compareIdentifiers:fi}=Fl;let Fb=class en{constructor(t,r){if(r=Rb(r),t instanceof en){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>kc)throw new TypeError(`version is longer than ${kc} characters`);yo("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Uc[jc.LOOSE]:Uc[jc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>vo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vo||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<vo)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(yo("SemVer.compare",this.version,this.options,t),!(t instanceof en)){if(typeof t=="string"&&t===this.version)return 0;t=new en(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof en||(t=new en(t,this.options)),fi(this.major,t.major)||fi(this.minor,t.minor)||fi(this.patch,t.patch)}comparePre(t){if(t instanceof en||(t=new en(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(yo("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return fi(n,i)}while(++r)}compareBuild(t){t instanceof en||(t=new en(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(yo("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return fi(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),fi(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var wr=Fb;const Hc=wr,Lb=(e,t,r=!1)=>{if(e instanceof Hc)return e;try{return new Hc(e,t)}catch(n){if(!r)return null;throw n}};var Oi=Lb;const $b=Oi,Mb=(e,t)=>{const r=$b(e,t);return r?r.version:null};var kb=Mb;const Ub=Oi,jb=(e,t)=>{const r=Ub(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Hb=jb;const Gc=wr,Gb=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Gc(e instanceof Gc?e.version:e,r).inc(t,n,i).version}catch{return null}};var zb=Gb;const zc=Oi,Vb=(e,t)=>{const r=zc(e,null,!0),n=zc(t,null,!0),i=r.compare(n);if(i===0)return null;const o=i>0,a=o?r:n,s=o?n:r,f=!!a.prerelease.length;if(!!s.prerelease.length&&!f)return!s.patch&&!s.minor?"major":a.patch?"patch":a.minor?"minor":"major";const l=f?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var qb=Vb;const Kb=wr,Wb=(e,t)=>new Kb(e,t).major;var Jb=Wb;const Yb=wr,Xb=(e,t)=>new Yb(e,t).minor;var Zb=Xb;const Qb=wr,e1=(e,t)=>new Qb(e,t).patch;var t1=e1;const r1=Oi,n1=(e,t)=>{const r=r1(e,t);return r&&r.prerelease.length?r.prerelease:null};var i1=n1;const Vc=wr,o1=(e,t,r)=>new Vc(e,r).compare(new Vc(t,r));var Wr=o1;const a1=Wr,s1=(e,t,r)=>a1(t,e,r);var f1=s1;const c1=Wr,u1=(e,t)=>c1(e,t,!0);var d1=u1;const qc=wr,l1=(e,t,r)=>{const n=new qc(e,r),i=new qc(t,r);return n.compare(i)||n.compareBuild(i)};var Cf=l1;const h1=Cf,g1=(e,t)=>e.sort((r,n)=>h1(r,n,t));var p1=g1;const m1=Cf,b1=(e,t)=>e.sort((r,n)=>m1(n,r,t));var y1=b1;const v1=Wr,E1=(e,t,r)=>v1(e,t,r)>0;var fa=E1;const w1=Wr,x1=(e,t,r)=>w1(e,t,r)<0;var Nf=x1;const S1=Wr,A1=(e,t,r)=>S1(e,t,r)===0;var Ll=A1;const _1=Wr,P1=(e,t,r)=>_1(e,t,r)!==0;var $l=P1;const I1=Wr,T1=(e,t,r)=>I1(e,t,r)>=0;var Rf=T1;const O1=Wr,D1=(e,t,r)=>O1(e,t,r)<=0;var Ff=D1;const B1=Ll,C1=$l,N1=fa,R1=Rf,F1=Nf,L1=Ff,$1=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return B1(e,r,n);case"!=":return C1(e,r,n);case">":return N1(e,r,n);case">=":return R1(e,r,n);case"<":return F1(e,r,n);case"<=":return L1(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ml=$1;const M1=wr,k1=Oi,{safeRe:Eo,t:wo}=no,U1=(e,t)=>{if(e instanceof M1)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Eo[wo.COERCEFULL]:Eo[wo.COERCE]);else{const f=t.includePrerelease?Eo[wo.COERCERTLFULL]:Eo[wo.COERCERTL];let c;for(;(c=f.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),f.lastIndex=c.index+c[1].length+c[2].length;f.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",o=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",s=t.includePrerelease&&r[6]?`+${r[6]}`:"";return k1(`${n}.${i}.${o}${a}${s}`,t)};var j1=U1;class H1{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var G1=H1,za,Kc;function Jr(){if(Kc)return za;Kc=1;const e=/\s+/g;class t{constructor(x,M){if(M=i(M),x instanceof t)return x.loose===!!M.loose&&x.includePrerelease===!!M.includePrerelease?x:new t(x.raw,M);if(x instanceof o)return this.raw=x.value,this.set=[[x]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=x.trim().replace(e," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(G=>!j(G[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&z(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let x=0;x<this.set.length;x++){x>0&&(this.formatted+="||");const M=this.set[x];for(let H=0;H<M.length;H++)H>0&&(this.formatted+=" "),this.formatted+=M[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(x){const H=((this.options.includePrerelease&&v)|(this.options.loose&&_))+":"+x,G=n.get(H);if(G)return G;const L=this.options.loose,U=L?f[c.HYPHENRANGELOOSE]:f[c.HYPHENRANGE];x=x.replace(U,T(this.options.includePrerelease)),a("hyphen replace",x),x=x.replace(f[c.COMPARATORTRIM],l),a("comparator trim",x),x=x.replace(f[c.TILDETRIM],g),a("tilde trim",x),x=x.replace(f[c.CARETTRIM],y),a("caret trim",x);let te=x.split(" ").map(m=>k(m,this.options)).join(" ").split(/\s+/).map(m=>fe(m,this.options));L&&(te=te.filter(m=>(a("loose invalid filter",m,this.options),!!m.match(f[c.COMPARATORLOOSE])))),a("range list",te);const R=new Map,F=te.map(m=>new o(m,this.options));for(const m of F){if(j(m))return[m];R.set(m.value,m)}R.size>1&&R.has("")&&R.delete("");const Y=[...R.values()];return n.set(H,Y),Y}intersects(x,M){if(!(x instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>Z(H,M)&&x.set.some(G=>Z(G,M)&&H.every(L=>G.every(U=>L.intersects(U,M)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new s(x,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(N(this.set[M],x,this.options))return!0;return!1}}za=t;const r=G1,n=new r,i=Bf,o=ca(),a=sa,s=wr,{safeRe:f,t:c,comparatorTrimReplace:l,tildeTrimReplace:g,caretTrimReplace:y}=no,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:_}=aa,j=p=>p.value==="<0.0.0-0",z=p=>p.value==="",Z=(p,x)=>{let M=!0;const H=p.slice();let G=H.pop();for(;M&&H.length;)M=H.every(L=>G.intersects(L,x)),G=H.pop();return M},k=(p,x)=>(a("comp",p,x),p=D(p,x),a("caret",p),p=$(p,x),a("tildes",p),p=A(p,x),a("xrange",p),p=re(p,x),a("stars",p),p),K=p=>!p||p.toLowerCase()==="x"||p==="*",$=(p,x)=>p.trim().split(/\s+/).map(M=>B(M,x)).join(" "),B=(p,x)=>{const M=x.loose?f[c.TILDELOOSE]:f[c.TILDE];return p.replace(M,(H,G,L,U,te)=>{a("tilde",p,H,G,L,U,te);let R;return K(G)?R="":K(L)?R=`>=${G}.0.0 <${+G+1}.0.0-0`:K(U)?R=`>=${G}.${L}.0 <${G}.${+L+1}.0-0`:te?(a("replaceTilde pr",te),R=`>=${G}.${L}.${U}-${te} <${G}.${+L+1}.0-0`):R=`>=${G}.${L}.${U} <${G}.${+L+1}.0-0`,a("tilde return",R),R})},D=(p,x)=>p.trim().split(/\s+/).map(M=>h(M,x)).join(" "),h=(p,x)=>{a("caret",p,x);const M=x.loose?f[c.CARETLOOSE]:f[c.CARET],H=x.includePrerelease?"-0":"";return p.replace(M,(G,L,U,te,R)=>{a("caret",p,G,L,U,te,R);let F;return K(L)?F="":K(U)?F=`>=${L}.0.0${H} <${+L+1}.0.0-0`:K(te)?L==="0"?F=`>=${L}.${U}.0${H} <${L}.${+U+1}.0-0`:F=`>=${L}.${U}.0${H} <${+L+1}.0.0-0`:R?(a("replaceCaret pr",R),L==="0"?U==="0"?F=`>=${L}.${U}.${te}-${R} <${L}.${U}.${+te+1}-0`:F=`>=${L}.${U}.${te}-${R} <${L}.${+U+1}.0-0`:F=`>=${L}.${U}.${te}-${R} <${+L+1}.0.0-0`):(a("no pr"),L==="0"?U==="0"?F=`>=${L}.${U}.${te}${H} <${L}.${U}.${+te+1}-0`:F=`>=${L}.${U}.${te}${H} <${L}.${+U+1}.0-0`:F=`>=${L}.${U}.${te} <${+L+1}.0.0-0`),a("caret return",F),F})},A=(p,x)=>(a("replaceXRanges",p,x),p.split(/\s+/).map(M=>q(M,x)).join(" ")),q=(p,x)=>{p=p.trim();const M=x.loose?f[c.XRANGELOOSE]:f[c.XRANGE];return p.replace(M,(H,G,L,U,te,R)=>{a("xRange",p,H,G,L,U,te,R);const F=K(L),Y=F||K(U),m=Y||K(te),W=m;return G==="="&&W&&(G=""),R=x.includePrerelease?"-0":"",F?G===">"||G==="<"?H="<0.0.0-0":H="*":G&&W?(Y&&(U=0),te=0,G===">"?(G=">=",Y?(L=+L+1,U=0,te=0):(U=+U+1,te=0)):G==="<="&&(G="<",Y?L=+L+1:U=+U+1),G==="<"&&(R="-0"),H=`${G+L}.${U}.${te}${R}`):Y?H=`>=${L}.0.0${R} <${+L+1}.0.0-0`:m&&(H=`>=${L}.${U}.0${R} <${L}.${+U+1}.0-0`),a("xRange return",H),H})},re=(p,x)=>(a("replaceStars",p,x),p.trim().replace(f[c.STAR],"")),fe=(p,x)=>(a("replaceGTE0",p,x),p.trim().replace(f[x.includePrerelease?c.GTE0PRE:c.GTE0],"")),T=p=>(x,M,H,G,L,U,te,R,F,Y,m,W)=>(K(H)?M="":K(G)?M=`>=${H}.0.0${p?"-0":""}`:K(L)?M=`>=${H}.${G}.0${p?"-0":""}`:U?M=`>=${M}`:M=`>=${M}${p?"-0":""}`,K(F)?R="":K(Y)?R=`<${+F+1}.0.0-0`:K(m)?R=`<${F}.${+Y+1}.0-0`:W?R=`<=${F}.${Y}.${m}-${W}`:p?R=`<${F}.${Y}.${+m+1}-0`:R=`<=${R}`,`${M} ${R}`.trim()),N=(p,x,M)=>{for(let H=0;H<p.length;H++)if(!p[H].test(x))return!1;if(x.prerelease.length&&!M.includePrerelease){for(let H=0;H<p.length;H++)if(a(p[H].semver),p[H].semver!==o.ANY&&p[H].semver.prerelease.length>0){const G=p[H].semver;if(G.major===x.major&&G.minor===x.minor&&G.patch===x.patch)return!0}return!1}return!0};return za}var Va,Wc;function ca(){if(Wc)return Va;Wc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,g){if(g=r(g),l instanceof t){if(l.loose===!!g.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),a("comparator",l,g),this.options=g,this.loose=!!g.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(l){const g=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],y=l.match(g);if(!y)throw new TypeError(`Invalid comparator: ${l}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new s(y[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(a("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new s(l,this.options)}catch{return!1}return o(l,this.operator,this.semver,this.options)}intersects(l,g){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(l.value,g).test(this.value):l.operator===""?l.value===""?!0:new f(this.value,g).test(l.semver):(g=r(g),g.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||o(this.semver,"<",l.semver,g)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||o(this.semver,">",l.semver,g)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Va=t;const r=Bf,{safeRe:n,t:i}=no,o=Ml,a=sa,s=wr,f=Jr();return Va}const z1=Jr(),V1=(e,t,r)=>{try{t=new z1(t,r)}catch{return!1}return t.test(e)};var ua=V1;const q1=Jr(),K1=(e,t)=>new q1(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var W1=K1;const J1=wr,Y1=Jr(),X1=(e,t,r)=>{let n=null,i=null,o=null;try{o=new Y1(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new J1(n,r))}),n};var Z1=X1;const Q1=wr,ey=Jr(),ty=(e,t,r)=>{let n=null,i=null,o=null;try{o=new ey(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new Q1(n,r))}),n};var ry=ty;const qa=wr,ny=Jr(),Jc=fa,iy=(e,t)=>{e=new ny(e,t);let r=new qa("0.0.0");if(e.test(r)||(r=new qa("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let o=null;i.forEach(a=>{const s=new qa(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!o||Jc(s,o))&&(o=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||Jc(r,o))&&(r=o)}return r&&e.test(r)?r:null};var oy=iy;const ay=Jr(),sy=(e,t)=>{try{return new ay(e,t).range||"*"}catch{return null}};var fy=sy;const cy=wr,kl=ca(),{ANY:uy}=kl,dy=Jr(),ly=ua,Yc=fa,Xc=Nf,hy=Ff,gy=Rf,py=(e,t,r,n)=>{e=new cy(e,n),t=new dy(t,n);let i,o,a,s,f;switch(r){case">":i=Yc,o=hy,a=Xc,s=">",f=">=";break;case"<":i=Xc,o=gy,a=Yc,s="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ly(e,t,n))return!1;for(let c=0;c<t.set.length;++c){const l=t.set[c];let g=null,y=null;if(l.forEach(v=>{v.semver===uy&&(v=new kl(">=0.0.0")),g=g||v,y=y||v,i(v.semver,g.semver,n)?g=v:a(v.semver,y.semver,n)&&(y=v)}),g.operator===s||g.operator===f||(!y.operator||y.operator===s)&&o(e,y.semver))return!1;if(y.operator===f&&a(e,y.semver))return!1}return!0};var Lf=py;const my=Lf,by=(e,t,r)=>my(e,t,">",r);var yy=by;const vy=Lf,Ey=(e,t,r)=>vy(e,t,"<",r);var wy=Ey;const Zc=Jr(),xy=(e,t,r)=>(e=new Zc(e,r),t=new Zc(t,r),e.intersects(t,r));var Sy=xy;const Ay=ua,_y=Wr;var Py=(e,t,r)=>{const n=[];let i=null,o=null;const a=e.sort((l,g)=>_y(l,g,r));for(const l of a)Ay(l,t,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const s=[];for(const[l,g]of n)l===g?s.push(l):!g&&l===a[0]?s.push("*"):g?l===a[0]?s.push(`<=${g}`):s.push(`${l} - ${g}`):s.push(`>=${l}`);const f=s.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return f.length<c.length?f:t};const Qc=Jr(),$f=ca(),{ANY:Ka}=$f,Fi=ua,Mf=Wr,Iy=(e,t,r={})=>{if(e===t)return!0;e=new Qc(e,r),t=new Qc(t,r);let n=!1;e:for(const i of e.set){for(const o of t.set){const a=Oy(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Ty=[new $f(">=0.0.0-0")],eu=[new $f(">=0.0.0")],Oy=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ka){if(t.length===1&&t[0].semver===Ka)return!0;r.includePrerelease?e=Ty:e=eu}if(t.length===1&&t[0].semver===Ka){if(r.includePrerelease)return!0;t=eu}const n=new Set;let i,o;for(const v of e)v.operator===">"||v.operator===">="?i=tu(i,v,r):v.operator==="<"||v.operator==="<="?o=ru(o,v,r):n.add(v.semver);if(n.size>1)return null;let a;if(i&&o){if(a=Mf(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const v of n){if(i&&!Fi(v,String(i),r)||o&&!Fi(v,String(o),r))return null;for(const _ of t)if(!Fi(v,String(_),r))return!1;return!0}let s,f,c,l,g=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,y=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;g&&g.prerelease.length===1&&o.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(const v of t){if(l=l||v.operator===">"||v.operator===">=",c=c||v.operator==="<"||v.operator==="<=",i){if(y&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===y.major&&v.semver.minor===y.minor&&v.semver.patch===y.patch&&(y=!1),v.operator===">"||v.operator===">="){if(s=tu(i,v,r),s===v&&s!==i)return!1}else if(i.operator===">="&&!Fi(i.semver,String(v),r))return!1}if(o){if(g&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===g.major&&v.semver.minor===g.minor&&v.semver.patch===g.patch&&(g=!1),v.operator==="<"||v.operator==="<="){if(f=ru(o,v,r),f===v&&f!==o)return!1}else if(o.operator==="<="&&!Fi(o.semver,String(v),r))return!1}if(!v.operator&&(o||i)&&a!==0)return!1}return!(i&&c&&!o&&a!==0||o&&l&&!i&&a!==0||y||g)},tu=(e,t,r)=>{if(!e)return t;const n=Mf(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},ru=(e,t,r)=>{if(!e)return t;const n=Mf(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Dy=Iy;const Wa=no,nu=aa,By=wr,iu=Fl,Cy=Oi,Ny=kb,Ry=Hb,Fy=zb,Ly=qb,$y=Jb,My=Zb,ky=t1,Uy=i1,jy=Wr,Hy=f1,Gy=d1,zy=Cf,Vy=p1,qy=y1,Ky=fa,Wy=Nf,Jy=Ll,Yy=$l,Xy=Rf,Zy=Ff,Qy=Ml,ev=j1,tv=ca(),rv=Jr(),nv=ua,iv=W1,ov=Z1,av=ry,sv=oy,fv=fy,cv=Lf,uv=yy,dv=wy,lv=Sy,hv=Py,gv=Dy;var pv={parse:Cy,valid:Ny,clean:Ry,inc:Fy,diff:Ly,major:$y,minor:My,patch:ky,prerelease:Uy,compare:jy,rcompare:Hy,compareLoose:Gy,compareBuild:zy,sort:Vy,rsort:qy,gt:Ky,lt:Wy,eq:Jy,neq:Yy,gte:Xy,lte:Zy,cmp:Qy,coerce:ev,Comparator:tv,Range:rv,satisfies:nv,toComparators:iv,maxSatisfying:ov,minSatisfying:av,minVersion:sv,validRange:fv,outside:cv,gtr:uv,ltr:dv,intersects:lv,simplifyRange:hv,subset:gv,SemVer:By,re:Wa.re,src:Wa.src,tokens:Wa.t,SEMVER_SPEC_VERSION:nu.SEMVER_SPEC_VERSION,RELEASE_TYPES:nu.RELEASE_TYPES,compareIdentifiers:iu.compareIdentifiers,rcompareIdentifiers:iu.rcompareIdentifiers};const mv=ra(pv),{gt:bv,gtr:yv,satisfies:vv,valid:Ev,validRange:wv}=mv,kf=vn(ir(),"Version",e=>Ev(e)===null?`Expected SemVer version, got "${e}"`:!0),Uf=vn(ir(),"Version range",e=>wv(e)===null?`Expected SemVer range, got "${e}"`:!0);function xv(e){return mr(e,kf)}function Sv(e){return mr(e,Uf)}function Av(e){vf(e,kf)}function _v(e){vf(e,Uf)}function Pv(e,t){return bv(e,t)}function Iv(e,t){return yv(e,t)}function Tv(e,t){return vv(e,t,{includePrerelease:!0})}const Ov=Object.freeze(Object.defineProperty({__proto__:null,AssertionError:$g,CAIP_ACCOUNT_ADDRESS_REGEX:yl,CAIP_ACCOUNT_ID_REGEX:Tf,CAIP_ASSET_ID_REGEX:El,CAIP_ASSET_TYPE_REGEX:vl,CAIP_CHAIN_ID_REGEX:_f,CAIP_NAMESPACE_REGEX:Pf,CAIP_REFERENCE_REGEX:If,CaipAccountAddressStruct:_l,CaipAccountIdStruct:Al,CaipAssetIdStruct:Il,CaipAssetTypeStruct:Pl,CaipChainIdStruct:wl,CaipNamespaceStruct:xl,CaipReferenceStruct:Sl,ChecksumStruct:Qm,get Duration(){return Io},ESCAPE_CHARACTERS_REGEXP:Mg,FrozenMap:Of,FrozenSet:Df,HexAddressStruct:fl,HexChecksumAddressStruct:Sf,HexStruct:sl,JsonRpcErrorStruct:kg,JsonRpcFailureStruct:Ug,JsonRpcIdStruct:jg,JsonRpcNotificationStruct:Hg,JsonRpcParamsStruct:Gg,JsonRpcRequestStruct:zg,JsonRpcResponseStruct:Vg,JsonRpcSuccessStruct:qg,JsonRpcVersionStruct:Kg,get JsonSize(){return Wg},JsonStruct:Jg,get KnownCaipNamespace(){return Po},PendingJsonRpcResponseStruct:Yg,StrictHexStruct:Ti,UnsafeJsonStruct:Xg,VersionRangeStruct:Uf,VersionStruct:kf,add0x:to,assert:Pt,assertExhaustive:Zg,assertIsBytes:ti,assertIsHexString:ia,assertIsJsonRpcError:Qg,assertIsJsonRpcFailure:ep,assertIsJsonRpcNotification:tp,assertIsJsonRpcRequest:rp,assertIsJsonRpcResponse:np,assertIsJsonRpcSuccess:ip,assertIsPendingJsonRpcResponse:op,assertIsSemVerRange:_v,assertIsSemVerVersion:Av,assertIsStrictHexString:Cm,assertStruct:vf,base64:el,base64ToBytes:Hm,bigIntToBytes:gl,bigIntToHex:bb,bytesToBase64:km,bytesToBigInt:hl,bytesToHex:oa,bytesToNumber:$m,bytesToSignedBigInt:Lm,bytesToString:Mm,calculateNumberSize:ap,calculateStringSize:sp,concatBytes:Gm,createBigInt:ob,createBytes:ab,createDataView:zm,createDeferredPromise:Eb,createHex:sb,createModuleLogger:pb,createNumber:ib,createProjectLogger:gb,exactOptional:fp,getChecksumAddress:dl,getErrorMessage:cp,getJsonRpcIdValidator:up,getJsonSize:dp,getKnownPropertyNames:lp,getSafeJson:hp,gtRange:Iv,gtVersion:Pv,hasProperty:gp,hexToBigInt:vb,hexToBytes:ro,hexToNumber:yb,inMilliseconds:xb,isASCII:pp,isBytes:Af,isCaipAccountAddress:Km,isCaipAccountId:qm,isCaipAssetId:Jm,isCaipAssetType:Wm,isCaipChainId:Vm,isCaipNamespace:Tl,isCaipReference:Ol,isErrorWithCode:mp,isErrorWithMessage:bp,isErrorWithStack:yp,isHexString:cl,isJsonRpcError:vp,isJsonRpcFailure:Ep,isJsonRpcNotification:wp,isJsonRpcRequest:xp,isJsonRpcResponse:Sp,isJsonRpcSuccess:Ap,isNonEmptyArray:_p,isNullOrUndefined:Pp,isObject:Ip,isPendingJsonRpcResponse:Tp,isPlainObject:Op,isStrictHexString:ul,isValidChecksumAddress:ll,isValidHexAddress:Nm,isValidJson:Dp,isValidSemVerRange:Sv,isValidSemVerVersion:xv,jsonrpc2:Bp,numberToBytes:pl,numberToHex:mb,object:Cp,parseCaipAccountId:Xm,parseCaipChainId:Ym,remove0x:ko,satisfiesVersionRange:Tv,signedBigIntToBytes:jm,stringToBytes:ml,timeSince:Sb,toCaipChainId:Zm,valueToBytes:bl,wrapError:Np},Symbol.toStringTag,{value:"Module"})),Dv=sm(im),Bv="logger/5.7.0";let ou=!1,au=!1;const To={debug:1,default:2,info:2,warning:3,error:4,off:5};let su=To.default,Ja=null;function Cv(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const fu=Cv();var Ms;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(Ms||(Ms={}));var Gr;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Gr||(Gr={}));const cu="0123456789abcdef";class Ct{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();To[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(su>To[n])&&console.log.apply(console,r)}debug(...t){this._log(Ct.levels.DEBUG,t)}info(...t){this._log(Ct.levels.INFO,t)}warn(...t){this._log(Ct.levels.WARNING,t)}makeError(t,r,n){if(au)return this.makeError("censored error",r,{});r||(r=Ct.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const c=n[f];try{if(c instanceof Uint8Array){let l="";for(let g=0;g<c.length;g++)l+=cu[c[g]>>4],l+=cu[c[g]&15];i.push(f+"=Uint8Array(0x"+l+")")}else i.push(f+"="+JSON.stringify(c))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=t;let a="";switch(r){case Gr.NUMERIC_FAULT:{a="NUMERIC_FAULT";const f=t;switch(f){case"overflow":case"underflow":case"division-by-zero":a+="-"+f;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case Gr.CALL_EXCEPTION:case Gr.INSUFFICIENT_FUNDS:case Gr.MISSING_NEW:case Gr.NONCE_EXPIRED:case Gr.REPLACEMENT_UNDERPRICED:case Gr.TRANSACTION_REPLACED:case Gr.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(t+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const s=new Error(t);return s.reason=o,s.code=r,Object.keys(n).forEach(function(f){s[f]=n[f]}),s}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,Ct.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,i){t||this.throwError(r,n,i)}assertArgument(t,r,n,i){t||this.throwArgumentError(r,n,i)}checkNormalize(t){fu&&this.throwError("platform missing String.prototype.normalize",Ct.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:fu})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Ct.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Ct.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,Ct.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,Ct.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Ct.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ct.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Ct.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ja||(Ja=new Ct(Bv)),Ja}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ct.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ou){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ct.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}au=!!t,ou=!!r}static setLogLevel(t){const r=To[t.toLowerCase()];if(r==null){Ct.globalLogger().warn("invalid log level - "+t);return}su=r}static from(t){return new Ct(t)}}Ct.errors=Gr;Ct.levels=Ms;const Nv="bytes/5.7.0",Jt=new Ct(Nv);function Ul(e){return!!e.toHexString}function bi(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return bi(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Rv(e){return an(e)&&!(e.length%2)||jf(e)}function uu(e){return typeof e=="number"&&e==e&&e%1===0}function jf(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!uu(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!uu(r)||r<0||r>=256)return!1}return!0}function Yt(e,t){if(t||(t={}),typeof e=="number"){Jt.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),bi(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ul(e)&&(e=e.toHexString()),an(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Jt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return bi(new Uint8Array(n))}return jf(e)?bi(new Uint8Array(e)):Jt.throwArgumentError("invalid arrayify value","value",e)}function Fv(e){const t=e.map(i=>Yt(i)),r=t.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return t.reduce((i,o)=>(n.set(o,i),i+o.length),0),bi(n)}function Lv(e,t){e=Yt(e),e.length>t&&Jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),bi(r)}function an(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Ya="0123456789abcdef";function Sr(e,t){if(t||(t={}),typeof e=="number"){Jt.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Ya[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ul(e))return e.toHexString();if(an(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Jt.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(jf(e)){let r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=Ya[(i&240)>>4]+Ya[i&15]}return r}return Jt.throwArgumentError("invalid hexlify value","value",e)}function $v(e){if(typeof e!="string")e=Sr(e);else if(!an(e)||e.length%2)return null;return(e.length-2)/2}function du(e,t,r){return typeof e!="string"?e=Sr(e):(!an(e)||e.length%2)&&Jt.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function yi(e,t){for(typeof e!="string"?e=Sr(e):an(e)||Jt.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Jt.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function jl(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Rv(e)){let r=Yt(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Sr(r.slice(0,32)),t.s=Sr(r.slice(32,64))):r.length===65?(t.r=Sr(r.slice(0,32)),t.s=Sr(r.slice(32,64)),t.v=r[64]):Jt.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:Jt.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Sr(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const i=Lv(Yt(t._vs),32);t._vs=Sr(i);const o=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=o:t.recoveryParam!==o&&Jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;const a=Sr(i);t.s==null?t.s=a:t.s!==a&&Jt.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?Jt.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&Jt.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!an(t.r)?Jt.throwArgumentError("signature missing or invalid r","signature",e):t.r=yi(t.r,32),t.s==null||!an(t.s)?Jt.throwArgumentError("signature missing or invalid s","signature",e):t.s=yi(t.s,32);const r=Yt(t.s);r[0]>=128&&Jt.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=Sr(r);t._vs&&(an(t._vs)||Jt.throwArgumentError("signature invalid _vs","signature",e),t._vs=yi(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&Jt.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var Mv=Ke.BN;function kv(e){return new Mv(e,36).toString(16)}var Hl={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=pt:o&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],g=[4,1024,262144,67108864],y=[1,256,65536,16777216],v=[6,1536,393216,100663296],_=[0,8,16,24],j=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],z=[224,256,384,512],Z=[128,256],k=["hex","buffer","arrayBuffer","array","digest"],K={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});for(var $=function(m,W,S){return function(E){return new R(m,W,m).update(E)[S]()}},B=function(m,W,S){return function(E,w){return new R(m,W,w).update(E)[S]()}},D=function(m,W,S){return function(E,w,u,O){return p["cshake"+m].update(E,w,u,O)[S]()}},h=function(m,W,S){return function(E,w,u,O){return p["kmac"+m].update(E,w,u,O)[S]()}},A=function(m,W,S,E){for(var w=0;w<k.length;++w){var u=k[w];m[u]=W(S,E,u)}return m},q=function(m,W){var S=$(m,W,"hex");return S.create=function(){return new R(m,W,m)},S.update=function(E){return S.create().update(E)},A(S,$,m,W)},re=function(m,W){var S=B(m,W,"hex");return S.create=function(E){return new R(m,W,E)},S.update=function(E,w){return S.create(w).update(E)},A(S,B,m,W)},fe=function(m,W){var S=K[m],E=D(m,W,"hex");return E.create=function(w,u,O){return!u&&!O?p["shake"+m].create(w):new R(m,W,w).bytepad([u,O],S)},E.update=function(w,u,O,X){return E.create(u,O,X).update(w)},A(E,D,m,W)},T=function(m,W){var S=K[m],E=h(m,W,"hex");return E.create=function(w,u,O){return new F(m,W,u).bytepad(["KMAC",O],S).bytepad([w],S)},E.update=function(w,u,O,X){return E.create(w,O,X).update(u)},A(E,h,m,W)},N=[{name:"keccak",padding:y,bits:z,createMethod:q},{name:"sha3",padding:v,bits:z,createMethod:q},{name:"shake",padding:l,bits:Z,createMethod:re},{name:"cshake",padding:g,bits:Z,createMethod:fe},{name:"kmac",padding:g,bits:Z,createMethod:T}],p={},x=[],M=0;M<N.length;++M)for(var H=N[M],G=H.bits,L=0;L<G.length;++L){var U=H.name+"_"+G[L];if(x.push(U),p[U]=H.createMethod(G[L],H.padding),H.name!=="sha3"){var te=H.name+G[L];x.push(te),p[te]=p[U]}}function R(m,W,S){this.blocks=[],this.s=[],this.padding=W,this.outputBits=S,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(m<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=S>>5,this.extraBytes=(S&31)>>3;for(var E=0;E<50;++E)this.s[E]=0}R.prototype.update=function(m){if(this.finalized)throw new Error(r);var W,S=typeof m;if(S!=="string"){if(S==="object"){if(m===null)throw new Error(t);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(t)}else throw new Error(t);W=!0}for(var E=this.blocks,w=this.byteCount,u=m.length,O=this.blockCount,X=0,se=this.s,de,ve;X<u;){if(this.reset)for(this.reset=!1,E[0]=this.block,de=1;de<O+1;++de)E[de]=0;if(W)for(de=this.start;X<u&&de<w;++X)E[de>>2]|=m[X]<<_[de++&3];else for(de=this.start;X<u&&de<w;++X)ve=m.charCodeAt(X),ve<128?E[de>>2]|=ve<<_[de++&3]:ve<2048?(E[de>>2]|=(192|ve>>6)<<_[de++&3],E[de>>2]|=(128|ve&63)<<_[de++&3]):ve<55296||ve>=57344?(E[de>>2]|=(224|ve>>12)<<_[de++&3],E[de>>2]|=(128|ve>>6&63)<<_[de++&3],E[de>>2]|=(128|ve&63)<<_[de++&3]):(ve=65536+((ve&1023)<<10|m.charCodeAt(++X)&1023),E[de>>2]|=(240|ve>>18)<<_[de++&3],E[de>>2]|=(128|ve>>12&63)<<_[de++&3],E[de>>2]|=(128|ve>>6&63)<<_[de++&3],E[de>>2]|=(128|ve&63)<<_[de++&3]);if(this.lastByteIndex=de,de>=w){for(this.start=de-w,this.block=E[O],de=0;de<O;++de)se[de]^=E[de];Y(se),this.reset=!0}else this.start=de}return this},R.prototype.encode=function(m,W){var S=m&255,E=1,w=[S];for(m=m>>8,S=m&255;S>0;)w.unshift(S),m=m>>8,S=m&255,++E;return W?w.push(E):w.unshift(E),this.update(w),w.length},R.prototype.encodeString=function(m){var W,S=typeof m;if(S!=="string"){if(S==="object"){if(m===null)throw new Error(t);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(t)}else throw new Error(t);W=!0}var E=0,w=m.length;if(W)E=w;else for(var u=0;u<m.length;++u){var O=m.charCodeAt(u);O<128?E+=1:O<2048?E+=2:O<55296||O>=57344?E+=3:(O=65536+((O&1023)<<10|m.charCodeAt(++u)&1023),E+=4)}return E+=this.encode(E*8),this.update(m),E},R.prototype.bytepad=function(m,W){for(var S=this.encode(W),E=0;E<m.length;++E)S+=this.encodeString(m[E]);var w=W-S%W,u=[];return u.length=w,this.update(u),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,W=this.lastByteIndex,S=this.blockCount,E=this.s;if(m[W>>2]|=this.padding[W&3],this.lastByteIndex===this.byteCount)for(m[0]=m[S],W=1;W<S+1;++W)m[W]=0;for(m[S-1]|=2147483648,W=0;W<S;++W)E[W]^=m[W];Y(E)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var m=this.blockCount,W=this.s,S=this.outputBlocks,E=this.extraBytes,w=0,u=0,O="",X;u<S;){for(w=0;w<m&&u<S;++w,++u)X=W[w],O+=c[X>>4&15]+c[X&15]+c[X>>12&15]+c[X>>8&15]+c[X>>20&15]+c[X>>16&15]+c[X>>28&15]+c[X>>24&15];u%m===0&&(Y(W),w=0)}return E&&(X=W[w],O+=c[X>>4&15]+c[X&15],E>1&&(O+=c[X>>12&15]+c[X>>8&15]),E>2&&(O+=c[X>>20&15]+c[X>>16&15])),O},R.prototype.arrayBuffer=function(){this.finalize();var m=this.blockCount,W=this.s,S=this.outputBlocks,E=this.extraBytes,w=0,u=0,O=this.outputBits>>3,X;E?X=new ArrayBuffer(S+1<<2):X=new ArrayBuffer(O);for(var se=new Uint32Array(X);u<S;){for(w=0;w<m&&u<S;++w,++u)se[u]=W[w];u%m===0&&Y(W)}return E&&(se[w]=W[w],X=X.slice(0,O)),X},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var m=this.blockCount,W=this.s,S=this.outputBlocks,E=this.extraBytes,w=0,u=0,O=[],X,se;u<S;){for(w=0;w<m&&u<S;++w,++u)X=u<<2,se=W[w],O[X]=se&255,O[X+1]=se>>8&255,O[X+2]=se>>16&255,O[X+3]=se>>24&255;u%m===0&&Y(W)}return E&&(X=u<<2,se=W[w],O[X]=se&255,E>1&&(O[X+1]=se>>8&255),E>2&&(O[X+2]=se>>16&255)),O};function F(m,W,S){R.call(this,m,W,S)}F.prototype=new R,F.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var Y=function(m){var W,S,E,w,u,O,X,se,de,ve,Me,Ve,Qe,ie,ze,Fe,je,Le,J,ee,ce,ge,me,we,Ee,_e,Pe,Re,$e,Xe,It,Lt,St,kt,Ir,jr,cn,$t,yt,vt,xt,Dt,Bt,Nt,Mt,ut,Rt,b,I,P,d,C,Q,ne,ue,be,Te,xe,ft,Ae,ke,He,qe;for(E=0;E<48;E+=2)w=m[0]^m[10]^m[20]^m[30]^m[40],u=m[1]^m[11]^m[21]^m[31]^m[41],O=m[2]^m[12]^m[22]^m[32]^m[42],X=m[3]^m[13]^m[23]^m[33]^m[43],se=m[4]^m[14]^m[24]^m[34]^m[44],de=m[5]^m[15]^m[25]^m[35]^m[45],ve=m[6]^m[16]^m[26]^m[36]^m[46],Me=m[7]^m[17]^m[27]^m[37]^m[47],Ve=m[8]^m[18]^m[28]^m[38]^m[48],Qe=m[9]^m[19]^m[29]^m[39]^m[49],W=Ve^(O<<1|X>>>31),S=Qe^(X<<1|O>>>31),m[0]^=W,m[1]^=S,m[10]^=W,m[11]^=S,m[20]^=W,m[21]^=S,m[30]^=W,m[31]^=S,m[40]^=W,m[41]^=S,W=w^(se<<1|de>>>31),S=u^(de<<1|se>>>31),m[2]^=W,m[3]^=S,m[12]^=W,m[13]^=S,m[22]^=W,m[23]^=S,m[32]^=W,m[33]^=S,m[42]^=W,m[43]^=S,W=O^(ve<<1|Me>>>31),S=X^(Me<<1|ve>>>31),m[4]^=W,m[5]^=S,m[14]^=W,m[15]^=S,m[24]^=W,m[25]^=S,m[34]^=W,m[35]^=S,m[44]^=W,m[45]^=S,W=se^(Ve<<1|Qe>>>31),S=de^(Qe<<1|Ve>>>31),m[6]^=W,m[7]^=S,m[16]^=W,m[17]^=S,m[26]^=W,m[27]^=S,m[36]^=W,m[37]^=S,m[46]^=W,m[47]^=S,W=ve^(w<<1|u>>>31),S=Me^(u<<1|w>>>31),m[8]^=W,m[9]^=S,m[18]^=W,m[19]^=S,m[28]^=W,m[29]^=S,m[38]^=W,m[39]^=S,m[48]^=W,m[49]^=S,ie=m[0],ze=m[1],ut=m[11]<<4|m[10]>>>28,Rt=m[10]<<4|m[11]>>>28,Re=m[20]<<3|m[21]>>>29,$e=m[21]<<3|m[20]>>>29,Ae=m[31]<<9|m[30]>>>23,ke=m[30]<<9|m[31]>>>23,Dt=m[40]<<18|m[41]>>>14,Bt=m[41]<<18|m[40]>>>14,kt=m[2]<<1|m[3]>>>31,Ir=m[3]<<1|m[2]>>>31,Fe=m[13]<<12|m[12]>>>20,je=m[12]<<12|m[13]>>>20,b=m[22]<<10|m[23]>>>22,I=m[23]<<10|m[22]>>>22,Xe=m[33]<<13|m[32]>>>19,It=m[32]<<13|m[33]>>>19,He=m[42]<<2|m[43]>>>30,qe=m[43]<<2|m[42]>>>30,ne=m[5]<<30|m[4]>>>2,ue=m[4]<<30|m[5]>>>2,jr=m[14]<<6|m[15]>>>26,cn=m[15]<<6|m[14]>>>26,Le=m[25]<<11|m[24]>>>21,J=m[24]<<11|m[25]>>>21,P=m[34]<<15|m[35]>>>17,d=m[35]<<15|m[34]>>>17,Lt=m[45]<<29|m[44]>>>3,St=m[44]<<29|m[45]>>>3,we=m[6]<<28|m[7]>>>4,Ee=m[7]<<28|m[6]>>>4,be=m[17]<<23|m[16]>>>9,Te=m[16]<<23|m[17]>>>9,$t=m[26]<<25|m[27]>>>7,yt=m[27]<<25|m[26]>>>7,ee=m[36]<<21|m[37]>>>11,ce=m[37]<<21|m[36]>>>11,C=m[47]<<24|m[46]>>>8,Q=m[46]<<24|m[47]>>>8,Nt=m[8]<<27|m[9]>>>5,Mt=m[9]<<27|m[8]>>>5,_e=m[18]<<20|m[19]>>>12,Pe=m[19]<<20|m[18]>>>12,xe=m[29]<<7|m[28]>>>25,ft=m[28]<<7|m[29]>>>25,vt=m[38]<<8|m[39]>>>24,xt=m[39]<<8|m[38]>>>24,ge=m[48]<<14|m[49]>>>18,me=m[49]<<14|m[48]>>>18,m[0]=ie^~Fe&Le,m[1]=ze^~je&J,m[10]=we^~_e&Re,m[11]=Ee^~Pe&$e,m[20]=kt^~jr&$t,m[21]=Ir^~cn&yt,m[30]=Nt^~ut&b,m[31]=Mt^~Rt&I,m[40]=ne^~be&xe,m[41]=ue^~Te&ft,m[2]=Fe^~Le&ee,m[3]=je^~J&ce,m[12]=_e^~Re&Xe,m[13]=Pe^~$e&It,m[22]=jr^~$t&vt,m[23]=cn^~yt&xt,m[32]=ut^~b&P,m[33]=Rt^~I&d,m[42]=be^~xe&Ae,m[43]=Te^~ft&ke,m[4]=Le^~ee&ge,m[5]=J^~ce&me,m[14]=Re^~Xe&Lt,m[15]=$e^~It&St,m[24]=$t^~vt&Dt,m[25]=yt^~xt&Bt,m[34]=b^~P&C,m[35]=I^~d&Q,m[44]=xe^~Ae&He,m[45]=ft^~ke&qe,m[6]=ee^~ge&ie,m[7]=ce^~me&ze,m[16]=Xe^~Lt&we,m[17]=It^~St&Ee,m[26]=vt^~Dt&kt,m[27]=xt^~Bt&Ir,m[36]=P^~C&Nt,m[37]=d^~Q&Mt,m[46]=Ae^~He&ne,m[47]=ke^~qe&ue,m[8]=ge^~ie&Fe,m[9]=me^~ze&je,m[18]=Lt^~we&_e,m[19]=St^~Ee&Pe,m[28]=Dt^~kt&jr,m[29]=Bt^~Ir&cn,m[38]=C^~Nt&ut,m[39]=Q^~Mt&Rt,m[48]=He^~ne&be,m[49]=qe^~ue&Te,m[0]^=j[E],m[1]^=j[E+1]};if(s)e.exports=p;else for(M=0;M<x.length;++M)i[x[M]]=p[x[M]]})()})(Hl);var Uv=Hl.exports;const jv=ra(Uv);function Hf(e){return"0x"+jv.keccak_256(Yt(e))}const Hv="address/5.7.0",ji=new Ct(Hv);function lu(e){an(e,20)||ji.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=Yt(Hf(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Gv=9007199254740991;function zv(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const Gf={};for(let e=0;e<10;e++)Gf[String(e)]=String(e);for(let e=0;e<26;e++)Gf[String.fromCharCode(65+e)]=String(10+e);const hu=Math.floor(zv(Gv));function Vv(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>Gf[n]).join("");for(;t.length>=hu;){let n=t.substring(0,hu);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function qv(e){let t=null;if(typeof e!="string"&&ji.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=lu(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ji.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Vv(e)&&ji.throwArgumentError("bad icap checksum","address",e),t=kv(e.substring(4));t.length<40;)t="0"+t;t=lu("0x"+t)}else ji.throwArgumentError("invalid address","address",e);return t}globalThis&&globalThis.__awaiter;function Li(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const Kv="strings/5.7.0",Wv=new Ct(Kv);var Uo;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Uo||(Uo={}));var gu;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(gu||(gu={}));function Xa(e,t=Uo.current){t!=Uo.current&&(Wv.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=e.charCodeAt(n);if(n>=e.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Yt(r)}const Jv=`Ethereum Signed Message:
`;function Gl(e){return typeof e=="string"&&(e=Xa(e)),Hf(Fv([Xa(Jv),Xa(String(e.length)),e]))}var Za={exports:{}},Qa={},Wn={},zl={},Yv=Kd,da=function(){return Yv()&&!!Symbol.toStringTag},Xv=da(),Zv=Pi,ks=Zv("Object.prototype.toString"),la=function(t){return Xv&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:ks(t)==="[object Arguments]"},Vl=function(t){return la(t)?!0:t!==null&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>=0&&ks(t)!=="[object Array]"&&"callee"in t&&ks(t.callee)==="[object Function]"},Qv=function(){return la(arguments)}();la.isLegacyArguments=Vl;var e2=Qv?la:Vl,pu=Pi,t2=da(),r2=Kp(),n2=Wd,Us;if(t2){var i2=pu("RegExp.prototype.exec"),mu={},es=function(){throw mu},bu={toString:es,valueOf:es};typeof Symbol.toPrimitive=="symbol"&&(bu[Symbol.toPrimitive]=es),Us=function(t){if(!t||typeof t!="object")return!1;var r=n2(t,"lastIndex"),n=r&&r2(r,"value");if(!n)return!1;try{i2(t,bu)}catch(i){return i===mu}}}else{var o2=pu("Object.prototype.toString"),a2="[object RegExp]";Us=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:o2(t)===a2}}var s2=Us,f2=Pi,c2=s2,u2=f2("RegExp.prototype.exec"),d2=Wp,l2=function(t){if(!c2(t))throw new d2("`regex` must be a RegExp");return function(n){return u2(t,n)!==null}},ql=Pi,h2=l2,g2=h2(/^\s*(?:function)?\*/),Kl=da(),ts=Jp(),p2=ql("Object.prototype.toString"),m2=ql("Function.prototype.toString"),b2=function(){if(!Kl)return!1;try{return Function("return function*() {}")()}catch{}},rs,y2=function(t){if(typeof t!="function")return!1;if(g2(m2(t)))return!0;if(!Kl){var r=p2(t);return r==="[object GeneratorFunction]"}if(!ts)return!1;if(typeof rs>"u"){var n=b2();rs=n?ts(n):!1}return ts(t)===rs},Wl=Function.prototype.toString,pi=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,js,Oo;if(typeof pi=="function"&&typeof Object.defineProperty=="function")try{js=Object.defineProperty({},"length",{get:function(){throw Oo}}),Oo={},pi(function(){throw 42},null,js)}catch(e){e!==Oo&&(pi=null)}else pi=null;var v2=/^\s*class\b/,Hs=function(t){try{var r=Wl.call(t);return v2.test(r)}catch{return!1}},ns=function(t){try{return Hs(t)?!1:(Wl.call(t),!0)}catch{return!1}},Do=Object.prototype.toString,E2="[object Object]",w2="[object Function]",x2="[object GeneratorFunction]",S2="[object HTMLAllCollection]",A2="[object HTML document.all class]",_2="[object HTMLCollection]",P2=typeof Symbol=="function"&&!!Symbol.toStringTag,I2=!(0 in[,]),Gs=function(){return!1};if(typeof document=="object"){var T2=document.all;Do.call(T2)===Do.call(document.all)&&(Gs=function(t){if((I2||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Do.call(t);return(r===S2||r===A2||r===_2||r===E2)&&t("")==null}catch{}return!1})}var O2=pi?function(t){if(Gs(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{pi(t,null,js)}catch(r){if(r!==Oo)return!1}return!Hs(t)&&ns(t)}:function(t){if(Gs(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(P2)return ns(t);if(Hs(t))return!1;var r=Do.call(t);return r!==w2&&r!==x2&&!/^\[object HTML/.test(r)?!1:ns(t)},D2=O2,B2=Object.prototype.toString,Jl=Object.prototype.hasOwnProperty,C2=function(t,r,n){for(var i=0,o=t.length;i<o;i++)Jl.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},N2=function(t,r,n){for(var i=0,o=t.length;i<o;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},R2=function(t,r,n){for(var i in t)Jl.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},F2=function(t,r,n){if(!D2(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),B2.call(t)==="[object Array]"?C2(t,r,i):typeof t=="string"?N2(t,r,i):R2(t,r,i)},L2=F2,$2=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],is=$2,M2=typeof globalThis>"u"?pt:globalThis,k2=function(){for(var t=[],r=0;r<is.length;r++)typeof M2[is[r]]=="function"&&(t[t.length]=is[r]);return t},jo=L2,U2=k2,yu=na,zf=Pi,Bo=Wd,j2=zf("Object.prototype.toString"),Yl=da(),vu=typeof globalThis>"u"?pt:globalThis,zs=U2(),Vf=zf("String.prototype.slice"),os=Object.getPrototypeOf,H2=zf("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},Ho={__proto__:null};Yl&&Bo&&os?jo(zs,function(e){var t=new vu[e];if(Symbol.toStringTag in t){var r=os(t),n=Bo(r,Symbol.toStringTag);if(!n){var i=os(r);n=Bo(i,Symbol.toStringTag)}Ho["$"+e]=yu(n.get)}}):jo(zs,function(e){var t=new vu[e],r=t.slice||t.set;r&&(Ho["$"+e]=yu(r))});var G2=function(t){var r=!1;return jo(Ho,function(n,i){if(!r)try{"$"+n(t)===i&&(r=Vf(i,1))}catch{}}),r},z2=function(t){var r=!1;return jo(Ho,function(n,i){if(!r)try{n(t),r=Vf(i,1)}catch{}}),r},Xl=function(t){if(!t||typeof t!="object")return!1;if(!Yl){var r=Vf(j2(t),8,-1);return H2(zs,r)>-1?r:r!=="Object"?!1:z2(t)}return Bo?G2(t):null},V2=Xl,q2=function(t){return!!V2(t)};(function(e){var t=e2,r=y2,n=Xl,i=q2;function o(ie){return ie.call.bind(ie)}var a=typeof BigInt<"u",s=typeof Symbol<"u",f=o(Object.prototype.toString),c=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),g=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(s)var v=o(Symbol.prototype.valueOf);function _(ie,ze){if(typeof ie!="object")return!1;try{return ze(ie),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function j(ie){return typeof Promise<"u"&&ie instanceof Promise||ie!==null&&typeof ie=="object"&&typeof ie.then=="function"&&typeof ie.catch=="function"}e.isPromise=j;function z(ie){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ie):i(ie)||F(ie)}e.isArrayBufferView=z;function Z(ie){return n(ie)==="Uint8Array"}e.isUint8Array=Z;function k(ie){return n(ie)==="Uint8ClampedArray"}e.isUint8ClampedArray=k;function K(ie){return n(ie)==="Uint16Array"}e.isUint16Array=K;function $(ie){return n(ie)==="Uint32Array"}e.isUint32Array=$;function B(ie){return n(ie)==="Int8Array"}e.isInt8Array=B;function D(ie){return n(ie)==="Int16Array"}e.isInt16Array=D;function h(ie){return n(ie)==="Int32Array"}e.isInt32Array=h;function A(ie){return n(ie)==="Float32Array"}e.isFloat32Array=A;function q(ie){return n(ie)==="Float64Array"}e.isFloat64Array=q;function re(ie){return n(ie)==="BigInt64Array"}e.isBigInt64Array=re;function fe(ie){return n(ie)==="BigUint64Array"}e.isBigUint64Array=fe;function T(ie){return f(ie)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function N(ie){return typeof Map>"u"?!1:T.working?T(ie):ie instanceof Map}e.isMap=N;function p(ie){return f(ie)==="[object Set]"}p.working=typeof Set<"u"&&p(new Set);function x(ie){return typeof Set>"u"?!1:p.working?p(ie):ie instanceof Set}e.isSet=x;function M(ie){return f(ie)==="[object WeakMap]"}M.working=typeof WeakMap<"u"&&M(new WeakMap);function H(ie){return typeof WeakMap>"u"?!1:M.working?M(ie):ie instanceof WeakMap}e.isWeakMap=H;function G(ie){return f(ie)==="[object WeakSet]"}G.working=typeof WeakSet<"u"&&G(new WeakSet);function L(ie){return G(ie)}e.isWeakSet=L;function U(ie){return f(ie)==="[object ArrayBuffer]"}U.working=typeof ArrayBuffer<"u"&&U(new ArrayBuffer);function te(ie){return typeof ArrayBuffer>"u"?!1:U.working?U(ie):ie instanceof ArrayBuffer}e.isArrayBuffer=te;function R(ie){return f(ie)==="[object DataView]"}R.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&R(new DataView(new ArrayBuffer(1),0,1));function F(ie){return typeof DataView>"u"?!1:R.working?R(ie):ie instanceof DataView}e.isDataView=F;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function m(ie){return f(ie)==="[object SharedArrayBuffer]"}function W(ie){return typeof Y>"u"?!1:(typeof m.working>"u"&&(m.working=m(new Y)),m.working?m(ie):ie instanceof Y)}e.isSharedArrayBuffer=W;function S(ie){return f(ie)==="[object AsyncFunction]"}e.isAsyncFunction=S;function E(ie){return f(ie)==="[object Map Iterator]"}e.isMapIterator=E;function w(ie){return f(ie)==="[object Set Iterator]"}e.isSetIterator=w;function u(ie){return f(ie)==="[object Generator]"}e.isGeneratorObject=u;function O(ie){return f(ie)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=O;function X(ie){return _(ie,c)}e.isNumberObject=X;function se(ie){return _(ie,l)}e.isStringObject=se;function de(ie){return _(ie,g)}e.isBooleanObject=de;function ve(ie){return a&&_(ie,y)}e.isBigIntObject=ve;function Me(ie){return s&&_(ie,v)}e.isSymbolObject=Me;function Ve(ie){return X(ie)||se(ie)||de(ie)||ve(ie)||Me(ie)}e.isBoxedPrimitive=Ve;function Qe(ie){return typeof Uint8Array<"u"&&(te(ie)||W(ie))}e.isAnyArrayBuffer=Qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ie){Object.defineProperty(e,ie,{enumerable:!1,value:function(){throw new Error(ie+" is not supported in userland")}})})})(zl);var K2=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t=Object.getOwnPropertyDescriptors||function(F){for(var Y=Object.keys(F),m={},W=0;W<Y.length;W++)m[Y[W]]=Object.getOwnPropertyDescriptor(F,Y[W]);return m},r=/%[sdj%]/g;e.format=function(R){if(!B(R)){for(var F=[],Y=0;Y<arguments.length;Y++)F.push(a(arguments[Y]));return F.join(" ")}for(var Y=1,m=arguments,W=m.length,S=String(R).replace(r,function(w){if(w==="%%")return"%";if(Y>=W)return w;switch(w){case"%s":return String(m[Y++]);case"%d":return Number(m[Y++]);case"%j":try{return JSON.stringify(m[Y++])}catch{return"[Circular]"}default:return w}}),E=m[Y];Y<W;E=m[++Y])k(E)||!q(E)?S+=" "+E:S+=" "+a(E);return S},e.deprecate=function(R,F){if(typeof process<"u"&&process.noDeprecation===!0)return R;if(typeof process>"u")return function(){return e.deprecate(R,F).apply(this,arguments)};var Y=!1;function m(){if(!Y){if(process.throwDeprecation)throw new Error(F);process.traceDeprecation?console.trace(F):console.error(F),Y=!0}return R.apply(this,arguments)}return m};var n={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(R){if(R=R.toUpperCase(),!n[R])if(i.test(R)){var F=process.pid;n[R]=function(){var Y=e.format.apply(e,arguments);console.error("%s %d: %s",R,F,Y)}}else n[R]=function(){};return n[R]};function a(R,F){var Y={seen:[],stylize:f};return arguments.length>=3&&(Y.depth=arguments[2]),arguments.length>=4&&(Y.colors=arguments[3]),Z(F)?Y.showHidden=F:F&&e._extend(Y,F),h(Y.showHidden)&&(Y.showHidden=!1),h(Y.depth)&&(Y.depth=2),h(Y.colors)&&(Y.colors=!1),h(Y.customInspect)&&(Y.customInspect=!0),Y.colors&&(Y.stylize=s),l(Y,R,Y.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(R,F){var Y=a.styles[F];return Y?"\x1B["+a.colors[Y][0]+"m"+R+"\x1B["+a.colors[Y][1]+"m":R}function f(R,F){return R}function c(R){var F={};return R.forEach(function(Y,m){F[Y]=!0}),F}function l(R,F,Y){if(R.customInspect&&F&&T(F.inspect)&&F.inspect!==e.inspect&&!(F.constructor&&F.constructor.prototype===F)){var m=F.inspect(Y,R);return B(m)||(m=l(R,m,Y)),m}var W=g(R,F);if(W)return W;var S=Object.keys(F),E=c(S);if(R.showHidden&&(S=Object.getOwnPropertyNames(F)),fe(F)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return y(F);if(S.length===0){if(T(F)){var w=F.name?": "+F.name:"";return R.stylize("[Function"+w+"]","special")}if(A(F))return R.stylize(RegExp.prototype.toString.call(F),"regexp");if(re(F))return R.stylize(Date.prototype.toString.call(F),"date");if(fe(F))return y(F)}var u="",O=!1,X=["{","}"];if(z(F)&&(O=!0,X=["[","]"]),T(F)){var se=F.name?": "+F.name:"";u=" [Function"+se+"]"}if(A(F)&&(u=" "+RegExp.prototype.toString.call(F)),re(F)&&(u=" "+Date.prototype.toUTCString.call(F)),fe(F)&&(u=" "+y(F)),S.length===0&&(!O||F.length==0))return X[0]+u+X[1];if(Y<0)return A(F)?R.stylize(RegExp.prototype.toString.call(F),"regexp"):R.stylize("[Object]","special");R.seen.push(F);var de;return O?de=v(R,F,Y,E,S):de=S.map(function(ve){return _(R,F,Y,E,ve,O)}),R.seen.pop(),j(de,u,X)}function g(R,F){if(h(F))return R.stylize("undefined","undefined");if(B(F)){var Y="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(Y,"string")}if($(F))return R.stylize(""+F,"number");if(Z(F))return R.stylize(""+F,"boolean");if(k(F))return R.stylize("null","null")}function y(R){return"["+Error.prototype.toString.call(R)+"]"}function v(R,F,Y,m,W){for(var S=[],E=0,w=F.length;E<w;++E)G(F,String(E))?S.push(_(R,F,Y,m,String(E),!0)):S.push("");return W.forEach(function(u){u.match(/^\d+$/)||S.push(_(R,F,Y,m,u,!0))}),S}function _(R,F,Y,m,W,S){var E,w,u;if(u=Object.getOwnPropertyDescriptor(F,W)||{value:F[W]},u.get?u.set?w=R.stylize("[Getter/Setter]","special"):w=R.stylize("[Getter]","special"):u.set&&(w=R.stylize("[Setter]","special")),G(m,W)||(E="["+W+"]"),w||(R.seen.indexOf(u.value)<0?(k(Y)?w=l(R,u.value,null):w=l(R,u.value,Y-1),w.indexOf(`
`)>-1&&(S?w=w.split(`
`).map(function(O){return"  "+O}).join(`
`).slice(2):w=`
`+w.split(`
`).map(function(O){return"   "+O}).join(`
`))):w=R.stylize("[Circular]","special")),h(E)){if(S&&W.match(/^\d+$/))return w;E=JSON.stringify(""+W),E.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(E=E.slice(1,-1),E=R.stylize(E,"name")):(E=E.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),E=R.stylize(E,"string"))}return E+": "+w}function j(R,F,Y){var m=R.reduce(function(W,S){return S.indexOf(`
`)>=0,W+S.replace(/\u001b\[\d\d?m/g,"").length+1},0);return m>60?Y[0]+(F===""?"":F+`
 `)+" "+R.join(`,
  `)+" "+Y[1]:Y[0]+F+" "+R.join(", ")+" "+Y[1]}e.types=zl;function z(R){return Array.isArray(R)}e.isArray=z;function Z(R){return typeof R=="boolean"}e.isBoolean=Z;function k(R){return R===null}e.isNull=k;function K(R){return R==null}e.isNullOrUndefined=K;function $(R){return typeof R=="number"}e.isNumber=$;function B(R){return typeof R=="string"}e.isString=B;function D(R){return typeof R=="symbol"}e.isSymbol=D;function h(R){return R===void 0}e.isUndefined=h;function A(R){return q(R)&&p(R)==="[object RegExp]"}e.isRegExp=A,e.types.isRegExp=A;function q(R){return typeof R=="object"&&R!==null}e.isObject=q;function re(R){return q(R)&&p(R)==="[object Date]"}e.isDate=re,e.types.isDate=re;function fe(R){return q(R)&&(p(R)==="[object Error]"||R instanceof Error)}e.isError=fe,e.types.isNativeError=fe;function T(R){return typeof R=="function"}e.isFunction=T;function N(R){return R===null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||typeof R=="symbol"||typeof R>"u"}e.isPrimitive=N,e.isBuffer=K2;function p(R){return Object.prototype.toString.call(R)}function x(R){return R<10?"0"+R.toString(10):R.toString(10)}var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var R=new Date,F=[x(R.getHours()),x(R.getMinutes()),x(R.getSeconds())].join(":");return[R.getDate(),M[R.getMonth()],F].join(" ")}e.log=function(){console.log("%s - %s",H(),e.format.apply(e,arguments))},e.inherits=Yp,e._extend=function(R,F){if(!F||!q(F))return R;for(var Y=Object.keys(F),m=Y.length;m--;)R[Y[m]]=F[Y[m]];return R};function G(R,F){return Object.prototype.hasOwnProperty.call(R,F)}var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(L&&F[L]){var Y=F[L];if(typeof Y!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Y,L,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Y}function Y(){for(var m,W,S=new Promise(function(u,O){m=u,W=O}),E=[],w=0;w<arguments.length;w++)E.push(arguments[w]);E.push(function(u,O){u?W(u):m(O)});try{F.apply(this,E)}catch(u){W(u)}return S}return Object.setPrototypeOf(Y,Object.getPrototypeOf(F)),L&&Object.defineProperty(Y,L,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Y,t(F))},e.promisify.custom=L;function U(R,F){if(!R){var Y=new Error("Promise was rejected with a falsy value");Y.reason=R,R=Y}return F(R)}function te(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var Y=[],m=0;m<arguments.length;m++)Y.push(arguments[m]);var W=Y.pop();if(typeof W!="function")throw new TypeError("The last argument must be of type Function");var S=this,E=function(){return W.apply(S,arguments)};R.apply(this,Y).then(function(w){process.nextTick(E.bind(null,null,w))},function(w){process.nextTick(U.bind(null,w,E))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(R)),Object.defineProperties(F,t(R)),F}e.callbackify=te})(Wn);var Eu;function Zl(){if(Eu)return Qa;Eu=1;function e(B){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},e(B)}function t(B,D){for(var h=0;h<D.length;h++){var A=D[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(B,n(A.key),A)}}function r(B,D,h){return D&&t(B.prototype,D),h&&t(B,h),Object.defineProperty(B,"prototype",{writable:!1}),B}function n(B){var D=i(B,"string");return e(D)==="symbol"?D:String(D)}function i(B,D){if(e(B)!=="object"||B===null)return B;var h=B[Symbol.toPrimitive];if(h!==void 0){var A=h.call(B,D||"default");if(e(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(B)}function o(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}function a(B,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(D&&D.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),D&&s(B,D)}function s(B,D){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,q){return A.__proto__=q,A},s(B,D)}function f(B){var D=g();return function(){var A=y(B),q;if(D){var re=y(this).constructor;q=Reflect.construct(A,arguments,re)}else q=A.apply(this,arguments);return c(this,q)}}function c(B,D){if(D&&(e(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(B)}function l(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(B){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},y(B)}var v={},_,j;function z(B,D,h){h||(h=Error);function A(re,fe,T){return typeof D=="string"?D:D(re,fe,T)}var q=function(re){a(T,re);var fe=f(T);function T(N,p,x){var M;return o(this,T),M=fe.call(this,A(N,p,x)),M.code=B,M}return r(T)}(h);v[B]=q}function Z(B,D){if(Array.isArray(B)){var h=B.length;return B=B.map(function(A){return String(A)}),h>2?"one of ".concat(D," ").concat(B.slice(0,h-1).join(", "),", or ")+B[h-1]:h===2?"one of ".concat(D," ").concat(B[0]," or ").concat(B[1]):"of ".concat(D," ").concat(B[0])}else return"of ".concat(D," ").concat(String(B))}function k(B,D,h){return B.substr(!h||h<0?0:+h,D.length)===D}function K(B,D,h){return(h===void 0||h>B.length)&&(h=B.length),B.substring(h-D.length,h)===D}function $(B,D,h){return typeof h!="number"&&(h=0),h+D.length>B.length?!1:B.indexOf(D,h)!==-1}return z("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),z("ERR_INVALID_ARG_TYPE",function(B,D,h){_===void 0&&(_=Vs()),_(typeof B=="string","'name' must be a string");var A;typeof D=="string"&&k(D,"not ")?(A="must not be",D=D.replace(/^not /,"")):A="must be";var q;if(K(B," argument"))q="The ".concat(B," ").concat(A," ").concat(Z(D,"type"));else{var re=$(B,".")?"property":"argument";q='The "'.concat(B,'" ').concat(re," ").concat(A," ").concat(Z(D,"type"))}return q+=". Received type ".concat(e(h)),q},TypeError),z("ERR_INVALID_ARG_VALUE",function(B,D){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";j===void 0&&(j=Wn);var A=j.inspect(D);return A.length>128&&(A="".concat(A.slice(0,128),"...")),"The argument '".concat(B,"' ").concat(h,". Received ").concat(A)},TypeError),z("ERR_INVALID_RETURN_VALUE",function(B,D,h){var A;return h&&h.constructor&&h.constructor.name?A="instance of ".concat(h.constructor.name):A="type ".concat(e(h)),"Expected ".concat(B,' to be returned from the "').concat(D,'"')+" function but got ".concat(A,".")},TypeError),z("ERR_MISSING_ARGS",function(){for(var B=arguments.length,D=new Array(B),h=0;h<B;h++)D[h]=arguments[h];_===void 0&&(_=Vs()),_(D.length>0,"At least one arg needs to be specified");var A="The ",q=D.length;switch(D=D.map(function(re){return'"'.concat(re,'"')}),q){case 1:A+="".concat(D[0]," argument");break;case 2:A+="".concat(D[0]," and ").concat(D[1]," arguments");break;default:A+=D.slice(0,q-1).join(", "),A+=", and ".concat(D[q-1]," arguments");break}return"".concat(A," must be specified")},TypeError),Qa.codes=v,Qa}var as,wu;function W2(){if(wu)return as;wu=1;function e(L,U){var te=Object.keys(L);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(L);U&&(R=R.filter(function(F){return Object.getOwnPropertyDescriptor(L,F).enumerable})),te.push.apply(te,R)}return te}function t(L){for(var U=1;U<arguments.length;U++){var te=arguments[U]!=null?arguments[U]:{};U%2?e(Object(te),!0).forEach(function(R){r(L,R,te[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(te)):e(Object(te)).forEach(function(R){Object.defineProperty(L,R,Object.getOwnPropertyDescriptor(te,R))})}return L}function r(L,U,te){return U=a(U),U in L?Object.defineProperty(L,U,{value:te,enumerable:!0,configurable:!0,writable:!0}):L[U]=te,L}function n(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function i(L,U){for(var te=0;te<U.length;te++){var R=U[te];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,a(R.key),R)}}function o(L,U,te){return U&&i(L.prototype,U),te&&i(L,te),Object.defineProperty(L,"prototype",{writable:!1}),L}function a(L){var U=s(L,"string");return k(U)==="symbol"?U:String(U)}function s(L,U){if(k(L)!=="object"||L===null)return L;var te=L[Symbol.toPrimitive];if(te!==void 0){var R=te.call(L,U||"default");if(k(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(L)}function f(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),U&&z(L,U)}function c(L){var U=_();return function(){var R=Z(L),F;if(U){var Y=Z(this).constructor;F=Reflect.construct(R,arguments,Y)}else F=R.apply(this,arguments);return l(this,F)}}function l(L,U){if(U&&(k(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(L)}function g(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function y(L){var U=typeof Map=="function"?new Map:void 0;return y=function(R){if(R===null||!j(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(typeof U<"u"){if(U.has(R))return U.get(R);U.set(R,F)}function F(){return v(R,arguments,Z(this).constructor)}return F.prototype=Object.create(R.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),z(F,R)},y(L)}function v(L,U,te){return _()?v=Reflect.construct.bind():v=function(F,Y,m){var W=[null];W.push.apply(W,Y);var S=Function.bind.apply(F,W),E=new S;return m&&z(E,m.prototype),E},v.apply(null,arguments)}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function z(L,U){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,F){return R.__proto__=F,R},z(L,U)}function Z(L){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},Z(L)}function k(L){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},k(L)}var K=Wn,$=K.inspect,B=Zl(),D=B.codes.ERR_INVALID_ARG_TYPE;function h(L,U,te){return(te===void 0||te>L.length)&&(te=L.length),L.substring(te-U.length,te)===U}function A(L,U){if(U=Math.floor(U),L.length==0||U==0)return"";var te=L.length*U;for(U=Math.floor(Math.log(U)/Math.log(2));U;)L+=L,U--;return L+=L.substring(0,te-L.length),L}var q="",re="",fe="",T="",N={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},p=10;function x(L){var U=Object.keys(L),te=Object.create(Object.getPrototypeOf(L));return U.forEach(function(R){te[R]=L[R]}),Object.defineProperty(te,"message",{value:L.message}),te}function M(L){return $(L,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function H(L,U,te){var R="",F="",Y=0,m="",W=!1,S=M(L),E=S.split(`
`),w=M(U).split(`
`),u=0,O="";if(te==="strictEqual"&&k(L)==="object"&&k(U)==="object"&&L!==null&&U!==null&&(te="strictEqualObject"),E.length===1&&w.length===1&&E[0]!==w[0]){var X=E[0].length+w[0].length;if(X<=p){if((k(L)!=="object"||L===null)&&(k(U)!=="object"||U===null)&&(L!==0||U!==0))return"".concat(N[te],`

`)+"".concat(E[0]," !== ").concat(w[0],`
`)}else if(te!=="strictEqualObject"){var se=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(X<se){for(;E[0][u]===w[0][u];)u++;u>2&&(O=`
  `.concat(A(" ",u),"^"),u=0)}}}for(var de=E[E.length-1],ve=w[w.length-1];de===ve&&(u++<2?m=`
  `.concat(de).concat(m):R=de,E.pop(),w.pop(),!(E.length===0||w.length===0));)de=E[E.length-1],ve=w[w.length-1];var Me=Math.max(E.length,w.length);if(Me===0){var Ve=S.split(`
`);if(Ve.length>30)for(Ve[26]="".concat(q,"...").concat(T);Ve.length>27;)Ve.pop();return"".concat(N.notIdentical,`

`).concat(Ve.join(`
`),`
`)}u>3&&(m=`
`.concat(q,"...").concat(T).concat(m),W=!0),R!==""&&(m=`
  `.concat(R).concat(m),R="");var Qe=0,ie=N[te]+`
`.concat(re,"+ actual").concat(T," ").concat(fe,"- expected").concat(T),ze=" ".concat(q,"...").concat(T," Lines skipped");for(u=0;u<Me;u++){var Fe=u-Y;if(E.length<u+1)Fe>1&&u>2&&(Fe>4?(F+=`
`.concat(q,"...").concat(T),W=!0):Fe>3&&(F+=`
  `.concat(w[u-2]),Qe++),F+=`
  `.concat(w[u-1]),Qe++),Y=u,R+=`
`.concat(fe,"-").concat(T," ").concat(w[u]),Qe++;else if(w.length<u+1)Fe>1&&u>2&&(Fe>4?(F+=`
`.concat(q,"...").concat(T),W=!0):Fe>3&&(F+=`
  `.concat(E[u-2]),Qe++),F+=`
  `.concat(E[u-1]),Qe++),Y=u,F+=`
`.concat(re,"+").concat(T," ").concat(E[u]),Qe++;else{var je=w[u],Le=E[u],J=Le!==je&&(!h(Le,",")||Le.slice(0,-1)!==je);J&&h(je,",")&&je.slice(0,-1)===Le&&(J=!1,Le+=","),J?(Fe>1&&u>2&&(Fe>4?(F+=`
`.concat(q,"...").concat(T),W=!0):Fe>3&&(F+=`
  `.concat(E[u-2]),Qe++),F+=`
  `.concat(E[u-1]),Qe++),Y=u,F+=`
`.concat(re,"+").concat(T," ").concat(Le),R+=`
`.concat(fe,"-").concat(T," ").concat(je),Qe+=2):(F+=R,R="",(Fe===1||u===0)&&(F+=`
  `.concat(Le),Qe++))}if(Qe>20&&u<Me-2)return"".concat(ie).concat(ze,`
`).concat(F,`
`).concat(q,"...").concat(T).concat(R,`
`)+"".concat(q,"...").concat(T)}return"".concat(ie).concat(W?ze:"",`
`).concat(F).concat(R).concat(m).concat(O)}var G=function(L,U){f(R,L);var te=c(R);function R(F){var Y;if(n(this,R),k(F)!=="object"||F===null)throw new D("options","Object",F);var m=F.message,W=F.operator,S=F.stackStartFn,E=F.actual,w=F.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,m!=null)Y=te.call(this,String(m));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(q="\x1B[34m",re="\x1B[32m",T="\x1B[39m",fe="\x1B[31m"):(q="",re="",T="",fe="")),k(E)==="object"&&E!==null&&k(w)==="object"&&w!==null&&"stack"in E&&E instanceof Error&&"stack"in w&&w instanceof Error&&(E=x(E),w=x(w)),W==="deepStrictEqual"||W==="strictEqual")Y=te.call(this,H(E,w,W));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var O=N[W],X=M(E).split(`
`);if(W==="notStrictEqual"&&k(E)==="object"&&E!==null&&(O=N.notStrictEqualObject),X.length>30)for(X[26]="".concat(q,"...").concat(T);X.length>27;)X.pop();X.length===1?Y=te.call(this,"".concat(O," ").concat(X[0])):Y=te.call(this,"".concat(O,`

`).concat(X.join(`
`),`
`))}else{var se=M(E),de="",ve=N[W];W==="notDeepEqual"||W==="notEqual"?(se="".concat(N[W],`

`).concat(se),se.length>1024&&(se="".concat(se.slice(0,1021),"..."))):(de="".concat(M(w)),se.length>512&&(se="".concat(se.slice(0,509),"...")),de.length>512&&(de="".concat(de.slice(0,509),"...")),W==="deepEqual"||W==="equal"?se="".concat(ve,`

`).concat(se,`

should equal

`):de=" ".concat(W," ").concat(de)),Y=te.call(this,"".concat(se).concat(de))}return Error.stackTraceLimit=u,Y.generatedMessage=!m,Object.defineProperty(g(Y),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Y.code="ERR_ASSERTION",Y.actual=E,Y.expected=w,Y.operator=W,Error.captureStackTrace&&Error.captureStackTrace(g(Y),S),Y.stack,Y.name="AssertionError",l(Y)}return o(R,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:U,value:function(Y,m){return $(this,t(t({},m),{},{customInspect:!1,depth:0}))}}]),R}(y(Error),$.custom);return as=G,as}var J2=Jd,Ql=Kd(),e0=Pi,Co=Xp,Y2=e0("Array.prototype.push"),xu=e0("Object.prototype.propertyIsEnumerable"),X2=Ql?Co.getOwnPropertySymbols:null,Z2=function(t,r){if(t==null)throw new TypeError("target must be an object");var n=Co(t);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=Co(arguments[i]),a=J2(o),s=Ql&&(Co.getOwnPropertySymbols||X2);if(s)for(var f=s(o),c=0;c<f.length;++c){var l=f[c];xu(o,l)&&Y2(a,l)}for(var g=0;g<a.length;++g){var y=a[g];if(xu(o,y)){var v=o[y];n[y]=v}}}return n},ss=Z2,Q2=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o},eE=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},tE=function(){return!Object.assign||Q2()||eE()?ss:Object.assign},Su=function(e){return e!==e},t0=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||Su(t)&&Su(r))},rE=t0,qf=function(){return typeof Object.is=="function"?Object.is:rE},r0=Zp,n0=na,nE=n0(r0("String.prototype.indexOf")),iE=function(t,r){var n=r0(t,!!r);return typeof n=="function"&&nE(t,".prototype.")>-1?n0(n):n},fs,Au;function ha(){if(Au)return fs;Au=1;var e=Jd,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=em,o=function(c){return typeof c=="function"&&r.call(c)==="[object Function]"},a=Qp(),s=function(c,l,g,y){if(l in c){if(y===!0){if(c[l]===g)return}else if(!o(y)||!y())return}a?i(c,l,g,!0):i(c,l,g)},f=function(c,l){var g=arguments.length>2?arguments[2]:{},y=e(l);t&&(y=n.call(y,Object.getOwnPropertySymbols(l)));for(var v=0;v<y.length;v+=1)s(c,y[v],l[y[v]],g[y[v]])};return f.supportsDescriptors=!!a,fs=f,fs}var cs,_u;function oE(){if(_u)return cs;_u=1;var e=qf,t=ha();return cs=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},cs}var us,Pu;function aE(){if(Pu)return us;Pu=1;var e=ha(),t=na,r=t0,n=qf,i=oE(),o=t(n(),Object);return e(o,{getPolyfill:n,implementation:r,shim:i}),us=o,us}var ds,Iu;function i0(){return Iu||(Iu=1,ds=function(t){return t!==t}),ds}var ls,Tu;function o0(){if(Tu)return ls;Tu=1;var e=i0();return ls=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},ls}var hs,Ou;function sE(){if(Ou)return hs;Ou=1;var e=ha(),t=o0();return hs=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},hs}var gs,Du;function fE(){if(Du)return gs;Du=1;var e=na,t=ha(),r=i0(),n=o0(),i=sE(),o=e(n(),Number);return t(o,{getPolyfill:n,implementation:r,shim:i}),gs=o,gs}var ps,Bu;function cE(){if(Bu)return ps;Bu=1;function e(J,ee){return o(J)||i(J,ee)||r(J,ee)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(J,ee){if(J){if(typeof J=="string")return n(J,ee);var ce=Object.prototype.toString.call(J).slice(8,-1);if(ce==="Object"&&J.constructor&&(ce=J.constructor.name),ce==="Map"||ce==="Set")return Array.from(J);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return n(J,ee)}}function n(J,ee){(ee==null||ee>J.length)&&(ee=J.length);for(var ce=0,ge=new Array(ee);ce<ee;ce++)ge[ce]=J[ce];return ge}function i(J,ee){var ce=J==null?null:typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(ce!=null){var ge,me,we,Ee,_e=[],Pe=!0,Re=!1;try{if(we=(ce=ce.call(J)).next,ee===0){if(Object(ce)!==ce)return;Pe=!1}else for(;!(Pe=(ge=we.call(ce)).done)&&(_e.push(ge.value),_e.length!==ee);Pe=!0);}catch($e){Re=!0,me=$e}finally{try{if(!Pe&&ce.return!=null&&(Ee=ce.return(),Object(Ee)!==Ee))return}finally{if(Re)throw me}}return _e}}function o(J){if(Array.isArray(J))return J}function a(J){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},a(J)}var s=/a/g.flags!==void 0,f=function(ee){var ce=[];return ee.forEach(function(ge){return ce.push(ge)}),ce},c=function(ee){var ce=[];return ee.forEach(function(ge,me){return ce.push([me,ge])}),ce},l=Object.is?Object.is:aE(),g=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},y=Number.isNaN?Number.isNaN:fE();function v(J){return J.call.bind(J)}var _=v(Object.prototype.hasOwnProperty),j=v(Object.prototype.propertyIsEnumerable),z=v(Object.prototype.toString),Z=Wn.types,k=Z.isAnyArrayBuffer,K=Z.isArrayBufferView,$=Z.isDate,B=Z.isMap,D=Z.isRegExp,h=Z.isSet,A=Z.isNativeError,q=Z.isBoxedPrimitive,re=Z.isNumberObject,fe=Z.isStringObject,T=Z.isBooleanObject,N=Z.isBigIntObject,p=Z.isSymbolObject,x=Z.isFloat32Array,M=Z.isFloat64Array;function H(J){if(J.length===0||J.length>10)return!0;for(var ee=0;ee<J.length;ee++){var ce=J.charCodeAt(ee);if(ce<48||ce>57)return!0}return J.length===10&&J>=Math.pow(2,32)}function G(J){return Object.keys(J).filter(H).concat(g(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function L(J,ee){if(J===ee)return 0;for(var ce=J.length,ge=ee.length,me=0,we=Math.min(ce,ge);me<we;++me)if(J[me]!==ee[me]){ce=J[me],ge=ee[me];break}return ce<ge?-1:ge<ce?1:0}var U=!0,te=!1,R=0,F=1,Y=2,m=3;function W(J,ee){return s?J.source===ee.source&&J.flags===ee.flags:RegExp.prototype.toString.call(J)===RegExp.prototype.toString.call(ee)}function S(J,ee){if(J.byteLength!==ee.byteLength)return!1;for(var ce=0;ce<J.byteLength;ce++)if(J[ce]!==ee[ce])return!1;return!0}function E(J,ee){return J.byteLength!==ee.byteLength?!1:L(new Uint8Array(J.buffer,J.byteOffset,J.byteLength),new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength))===0}function w(J,ee){return J.byteLength===ee.byteLength&&L(new Uint8Array(J),new Uint8Array(ee))===0}function u(J,ee){return re(J)?re(ee)&&l(Number.prototype.valueOf.call(J),Number.prototype.valueOf.call(ee)):fe(J)?fe(ee)&&String.prototype.valueOf.call(J)===String.prototype.valueOf.call(ee):T(J)?T(ee)&&Boolean.prototype.valueOf.call(J)===Boolean.prototype.valueOf.call(ee):N(J)?N(ee)&&BigInt.prototype.valueOf.call(J)===BigInt.prototype.valueOf.call(ee):p(ee)&&Symbol.prototype.valueOf.call(J)===Symbol.prototype.valueOf.call(ee)}function O(J,ee,ce,ge){if(J===ee)return J!==0?!0:ce?l(J,ee):!0;if(ce){if(a(J)!=="object")return typeof J=="number"&&y(J)&&y(ee);if(a(ee)!=="object"||J===null||ee===null||Object.getPrototypeOf(J)!==Object.getPrototypeOf(ee))return!1}else{if(J===null||a(J)!=="object")return ee===null||a(ee)!=="object"?J==ee:!1;if(ee===null||a(ee)!=="object")return!1}var me=z(J),we=z(ee);if(me!==we)return!1;if(Array.isArray(J)){if(J.length!==ee.length)return!1;var Ee=G(J),_e=G(ee);return Ee.length!==_e.length?!1:se(J,ee,ce,ge,F,Ee)}if(me==="[object Object]"&&(!B(J)&&B(ee)||!h(J)&&h(ee)))return!1;if($(J)){if(!$(ee)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(ee))return!1}else if(D(J)){if(!D(ee)||!W(J,ee))return!1}else if(A(J)||J instanceof Error){if(J.message!==ee.message||J.name!==ee.name)return!1}else if(K(J)){if(!ce&&(x(J)||M(J))){if(!S(J,ee))return!1}else if(!E(J,ee))return!1;var Pe=G(J),Re=G(ee);return Pe.length!==Re.length?!1:se(J,ee,ce,ge,R,Pe)}else{if(h(J))return!h(ee)||J.size!==ee.size?!1:se(J,ee,ce,ge,Y);if(B(J))return!B(ee)||J.size!==ee.size?!1:se(J,ee,ce,ge,m);if(k(J)){if(!w(J,ee))return!1}else if(q(J)&&!u(J,ee))return!1}return se(J,ee,ce,ge,R)}function X(J,ee){return ee.filter(function(ce){return j(J,ce)})}function se(J,ee,ce,ge,me,we){if(arguments.length===5){we=Object.keys(J);var Ee=Object.keys(ee);if(we.length!==Ee.length)return!1}for(var _e=0;_e<we.length;_e++)if(!_(ee,we[_e]))return!1;if(ce&&arguments.length===5){var Pe=g(J);if(Pe.length!==0){var Re=0;for(_e=0;_e<Pe.length;_e++){var $e=Pe[_e];if(j(J,$e)){if(!j(ee,$e))return!1;we.push($e),Re++}else if(j(ee,$e))return!1}var Xe=g(ee);if(Pe.length!==Xe.length&&X(ee,Xe).length!==Re)return!1}else{var It=g(ee);if(It.length!==0&&X(ee,It).length!==0)return!1}}if(we.length===0&&(me===R||me===F&&J.length===0||J.size===0))return!0;if(ge===void 0)ge={val1:new Map,val2:new Map,position:0};else{var Lt=ge.val1.get(J);if(Lt!==void 0){var St=ge.val2.get(ee);if(St!==void 0)return Lt===St}ge.position++}ge.val1.set(J,ge.position),ge.val2.set(ee,ge.position);var kt=Fe(J,ee,ce,we,ge,me);return ge.val1.delete(J),ge.val2.delete(ee),kt}function de(J,ee,ce,ge){for(var me=f(J),we=0;we<me.length;we++){var Ee=me[we];if(O(ee,Ee,ce,ge))return J.delete(Ee),!0}return!1}function ve(J){switch(a(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(y(J))return!1}return!0}function Me(J,ee,ce){var ge=ve(ce);return ge??(ee.has(ge)&&!J.has(ge))}function Ve(J,ee,ce,ge,me){var we=ve(ce);if(we!=null)return we;var Ee=ee.get(we);return Ee===void 0&&!ee.has(we)||!O(ge,Ee,!1,me)?!1:!J.has(we)&&O(ge,Ee,!1,me)}function Qe(J,ee,ce,ge){for(var me=null,we=f(J),Ee=0;Ee<we.length;Ee++){var _e=we[Ee];if(a(_e)==="object"&&_e!==null)me===null&&(me=new Set),me.add(_e);else if(!ee.has(_e)){if(ce||!Me(J,ee,_e))return!1;me===null&&(me=new Set),me.add(_e)}}if(me!==null){for(var Pe=f(ee),Re=0;Re<Pe.length;Re++){var $e=Pe[Re];if(a($e)==="object"&&$e!==null){if(!de(me,$e,ce,ge))return!1}else if(!ce&&!J.has($e)&&!de(me,$e,ce,ge))return!1}return me.size===0}return!0}function ie(J,ee,ce,ge,me,we){for(var Ee=f(J),_e=0;_e<Ee.length;_e++){var Pe=Ee[_e];if(O(ce,Pe,me,we)&&O(ge,ee.get(Pe),me,we))return J.delete(Pe),!0}return!1}function ze(J,ee,ce,ge){for(var me=null,we=c(J),Ee=0;Ee<we.length;Ee++){var _e=e(we[Ee],2),Pe=_e[0],Re=_e[1];if(a(Pe)==="object"&&Pe!==null)me===null&&(me=new Set),me.add(Pe);else{var $e=ee.get(Pe);if($e===void 0&&!ee.has(Pe)||!O(Re,$e,ce,ge)){if(ce||!Ve(J,ee,Pe,Re,ge))return!1;me===null&&(me=new Set),me.add(Pe)}}}if(me!==null){for(var Xe=c(ee),It=0;It<Xe.length;It++){var Lt=e(Xe[It],2),St=Lt[0],kt=Lt[1];if(a(St)==="object"&&St!==null){if(!ie(me,J,St,kt,ce,ge))return!1}else if(!ce&&(!J.has(St)||!O(J.get(St),kt,!1,ge))&&!ie(me,J,St,kt,!1,ge))return!1}return me.size===0}return!0}function Fe(J,ee,ce,ge,me,we){var Ee=0;if(we===Y){if(!Qe(J,ee,ce,me))return!1}else if(we===m){if(!ze(J,ee,ce,me))return!1}else if(we===F)for(;Ee<J.length;Ee++)if(_(J,Ee)){if(!_(ee,Ee)||!O(J[Ee],ee[Ee],ce,me))return!1}else{if(_(ee,Ee))return!1;for(var _e=Object.keys(J);Ee<_e.length;Ee++){var Pe=_e[Ee];if(!_(ee,Pe)||!O(J[Pe],ee[Pe],ce,me))return!1}return _e.length===Object.keys(ee).length}for(Ee=0;Ee<ge.length;Ee++){var Re=ge[Ee];if(!O(J[Re],ee[Re],ce,me))return!1}return!0}function je(J,ee){return O(J,ee,te)}function Le(J,ee){return O(J,ee,U)}return ps={isDeepEqual:je,isDeepStrictEqual:Le},ps}var Cu;function Vs(){if(Cu)return Za.exports;Cu=1;function e(S){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},e(S)}function t(S,E){for(var w=0;w<E.length;w++){var u=E[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(S,n(u.key),u)}}function r(S,E,w){return E&&t(S.prototype,E),w&&t(S,w),Object.defineProperty(S,"prototype",{writable:!1}),S}function n(S){var E=i(S,"string");return e(E)==="symbol"?E:String(E)}function i(S,E){if(e(S)!=="object"||S===null)return S;var w=S[Symbol.toPrimitive];if(w!==void 0){var u=w.call(S,E||"default");if(e(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}var a=Zl(),s=a.codes,f=s.ERR_AMBIGUOUS_ARGUMENT,c=s.ERR_INVALID_ARG_TYPE,l=s.ERR_INVALID_ARG_VALUE,g=s.ERR_INVALID_RETURN_VALUE,y=s.ERR_MISSING_ARGS,v=W2(),_=Wn,j=_.inspect,z=Wn.types,Z=z.isPromise,k=z.isRegExp,K=tE(),$=qf(),B=iE("RegExp.prototype.test"),D,h;function A(){var S=cE();D=S.isDeepEqual,h=S.isDeepStrictEqual}var q=!1,re=Za.exports=x,fe={};function T(S){throw S.message instanceof Error?S.message:new v(S)}function N(S,E,w,u,O){var X=arguments.length,se;if(X===0)se="Failed";else if(X===1)w=S,S=void 0;else{if(q===!1){q=!0;var de=process.emitWarning?process.emitWarning:console.warn.bind(console);de("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}X===2&&(u="!=")}if(w instanceof Error)throw w;var ve={actual:S,expected:E,operator:u===void 0?"fail":u,stackStartFn:O||N};w!==void 0&&(ve.message=w);var Me=new v(ve);throw se&&(Me.message=se,Me.generatedMessage=!0),Me}re.fail=N,re.AssertionError=v;function p(S,E,w,u){if(!w){var O=!1;if(E===0)O=!0,u="No value argument passed to `assert.ok()`";else if(u instanceof Error)throw u;var X=new v({actual:w,expected:!0,message:u,operator:"==",stackStartFn:S});throw X.generatedMessage=O,X}}function x(){for(var S=arguments.length,E=new Array(S),w=0;w<S;w++)E[w]=arguments[w];p.apply(void 0,[x,E.length].concat(E))}re.ok=x,re.equal=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");E!=w&&T({actual:E,expected:w,message:u,operator:"==",stackStartFn:S})},re.notEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");E==w&&T({actual:E,expected:w,message:u,operator:"!=",stackStartFn:S})},re.deepEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");D===void 0&&A(),D(E,w)||T({actual:E,expected:w,message:u,operator:"deepEqual",stackStartFn:S})},re.notDeepEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");D===void 0&&A(),D(E,w)&&T({actual:E,expected:w,message:u,operator:"notDeepEqual",stackStartFn:S})},re.deepStrictEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");D===void 0&&A(),h(E,w)||T({actual:E,expected:w,message:u,operator:"deepStrictEqual",stackStartFn:S})},re.notDeepStrictEqual=M;function M(S,E,w){if(arguments.length<2)throw new y("actual","expected");D===void 0&&A(),h(S,E)&&T({actual:S,expected:E,message:w,operator:"notDeepStrictEqual",stackStartFn:M})}re.strictEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");$(E,w)||T({actual:E,expected:w,message:u,operator:"strictEqual",stackStartFn:S})},re.notStrictEqual=function S(E,w,u){if(arguments.length<2)throw new y("actual","expected");$(E,w)&&T({actual:E,expected:w,message:u,operator:"notStrictEqual",stackStartFn:S})};var H=r(function S(E,w,u){var O=this;o(this,S),w.forEach(function(X){X in E&&(u!==void 0&&typeof u[X]=="string"&&k(E[X])&&B(E[X],u[X])?O[X]=u[X]:O[X]=E[X])})});function G(S,E,w,u,O,X){if(!(w in S)||!h(S[w],E[w])){if(!u){var se=new H(S,O),de=new H(E,O,S),ve=new v({actual:se,expected:de,operator:"deepStrictEqual",stackStartFn:X});throw ve.actual=S,ve.expected=E,ve.operator=X.name,ve}T({actual:S,expected:E,message:u,operator:X.name,stackStartFn:X})}}function L(S,E,w,u){if(typeof E!="function"){if(k(E))return B(E,S);if(arguments.length===2)throw new c("expected",["Function","RegExp"],E);if(e(S)!=="object"||S===null){var O=new v({actual:S,expected:E,message:w,operator:"deepStrictEqual",stackStartFn:u});throw O.operator=u.name,O}var X=Object.keys(E);if(E instanceof Error)X.push("name","message");else if(X.length===0)throw new l("error",E,"may not be an empty object");return D===void 0&&A(),X.forEach(function(se){typeof S[se]=="string"&&k(E[se])&&B(E[se],S[se])||G(S,E,se,w,X,u)}),!0}return E.prototype!==void 0&&S instanceof E?!0:Error.isPrototypeOf(E)?!1:E.call({},S)===!0}function U(S){if(typeof S!="function")throw new c("fn","Function",S);try{S()}catch(E){return E}return fe}function te(S){return Z(S)||S!==null&&e(S)==="object"&&typeof S.then=="function"&&typeof S.catch=="function"}function R(S){return Promise.resolve().then(function(){var E;if(typeof S=="function"){if(E=S(),!te(E))throw new g("instance of Promise","promiseFn",E)}else if(te(S))E=S;else throw new c("promiseFn",["Function","Promise"],S);return Promise.resolve().then(function(){return E}).then(function(){return fe}).catch(function(w){return w})})}function F(S,E,w,u){if(typeof w=="string"){if(arguments.length===4)throw new c("error",["Object","Error","Function","RegExp"],w);if(e(E)==="object"&&E!==null){if(E.message===w)throw new f("error/message",'The error message "'.concat(E.message,'" is identical to the message.'))}else if(E===w)throw new f("error/message",'The error "'.concat(E,'" is identical to the message.'));u=w,w=void 0}else if(w!=null&&e(w)!=="object"&&typeof w!="function")throw new c("error",["Object","Error","Function","RegExp"],w);if(E===fe){var O="";w&&w.name&&(O+=" (".concat(w.name,")")),O+=u?": ".concat(u):".";var X=S.name==="rejects"?"rejection":"exception";T({actual:void 0,expected:w,operator:S.name,message:"Missing expected ".concat(X).concat(O),stackStartFn:S})}if(w&&!L(E,w,u,S))throw E}function Y(S,E,w,u){if(E!==fe){if(typeof w=="string"&&(u=w,w=void 0),!w||L(E,w)){var O=u?": ".concat(u):".",X=S.name==="doesNotReject"?"rejection":"exception";T({actual:E,expected:w,operator:S.name,message:"Got unwanted ".concat(X).concat(O,`
`)+'Actual message: "'.concat(E&&E.message,'"'),stackStartFn:S})}throw E}}re.throws=function S(E){for(var w=arguments.length,u=new Array(w>1?w-1:0),O=1;O<w;O++)u[O-1]=arguments[O];F.apply(void 0,[S,U(E)].concat(u))},re.rejects=function S(E){for(var w=arguments.length,u=new Array(w>1?w-1:0),O=1;O<w;O++)u[O-1]=arguments[O];return R(E).then(function(X){return F.apply(void 0,[S,X].concat(u))})},re.doesNotThrow=function S(E){for(var w=arguments.length,u=new Array(w>1?w-1:0),O=1;O<w;O++)u[O-1]=arguments[O];Y.apply(void 0,[S,U(E)].concat(u))},re.doesNotReject=function S(E){for(var w=arguments.length,u=new Array(w>1?w-1:0),O=1;O<w;O++)u[O-1]=arguments[O];return R(E).then(function(X){return Y.apply(void 0,[S,X].concat(u))})},re.ifError=function S(E){if(E!=null){var w="ifError got unwanted exception: ";e(E)==="object"&&typeof E.message=="string"?E.message.length===0&&E.constructor?w+=E.constructor.name:w+=E.message:w+=j(E);var u=new v({actual:E,expected:null,operator:"ifError",message:w,stackStartFn:S}),O=E.stack;if(typeof O=="string"){var X=O.split(`
`);X.shift();for(var se=u.stack.split(`
`),de=0;de<X.length;de++){var ve=se.indexOf(X[de]);if(ve!==-1){se=se.slice(0,ve);break}}u.stack="".concat(se.join(`
`),`
`).concat(X.join(`
`))}throw u}};function m(S,E,w,u,O){if(!k(E))throw new c("regexp","RegExp",E);var X=O==="match";if(typeof S!="string"||B(E,S)!==X){if(w instanceof Error)throw w;var se=!w;w=w||(typeof S!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(S)," (").concat(j(S),")"):(X?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(j(E),`. Input:

`).concat(j(S),`
`));var de=new v({actual:S,expected:E,message:w,operator:O,stackStartFn:u});throw de.generatedMessage=se,de}}re.match=function S(E,w,u){m(E,w,u,S,"match")},re.doesNotMatch=function S(E,w,u){m(E,w,u,S,"doesNotMatch")};function W(){for(var S=arguments.length,E=new Array(S),w=0;w<S;w++)E[w]=arguments[w];p.apply(void 0,[W,E.length].concat(E))}return re.strict=K(W,re,{equal:re.strictEqual,deepEqual:re.deepStrictEqual,notEqual:re.notStrictEqual,notDeepEqual:re.notDeepStrictEqual}),re.strict.strict=re.strict,Za.exports}var Nu=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},uE=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),dE=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),lE=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),hE=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),gE=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),pE=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,mE=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ru=3,bE=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",pE]],Fu=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function yE(e){return e?Lu(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gE:typeof navigator<"u"?Lu(navigator.userAgent):wE()}function vE(e){return e!==""&&bE.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1)}function Lu(e){var t=vE(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new hE;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ru&&(i=Nu(Nu([],i,!0),xE(Ru-i.length),!0)):i=[];var o=i.join("."),a=EE(e),s=mE.exec(e);return s&&s[1]?new lE(r,o,a,s[1]):new uE(r,o,a)}function EE(e){for(var t=0,r=Fu.length;t<r;t++){var n=Fu[t],i=n[0],o=n[1],a=o.exec(e);if(a)return i}return null}function wE(){var e=typeof process<"u"&&process.version;return e?new dE(process.version.slice(1)):null}function xE(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Vn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qs=function(e,t){return qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qs(e,t)};function SE(e,t){qs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ks=function(){return Ks=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ks.apply(this,arguments)};function AE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function _E(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function PE(e,t){return function(r,n){t(r,n,e)}}function IE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function TE(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(l){try{c(n.next(l))}catch(g){a(g)}}function f(l){try{c(n.throw(l))}catch(g){a(g)}}function c(l){l.done?o(l.value):i(l.value).then(s,f)}c((n=n.apply(e,t||[])).next())})}function OE(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function DE(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function BE(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ws(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function CE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a0(arguments[t]));return e}function NE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function Vi(e){return this instanceof Vi?(this.v=e,this):new Vi(e)}function RE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){n[y]&&(i[y]=function(v){return new Promise(function(_,j){o.push([y,v,_,j])>1||s(y,v)})})}function s(y,v){try{f(n[y](v))}catch(_){g(o[0][3],_)}}function f(y){y.value instanceof Vi?Promise.resolve(y.value.v).then(c,l):g(o[0][2],y)}function c(y){s("next",y)}function l(y){s("throw",y)}function g(y,v){y(v),o.shift(),o.length&&s(o[0][0],o[0][1])}}function FE(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(a){return(r=!r)?{value:Vi(e[i](a)),done:i==="return"}:o?o(a):a}:o}}function LE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ws=="function"?Ws(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,f){a=e[o](a),i(s,f,a.done,a.value)})}}function i(o,a,s,f){Promise.resolve(f).then(function(c){o({value:c,done:s})},a)}}function $E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ME(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function kE(e){return e&&e.__esModule?e:{default:e}}function UE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function jE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const HE=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ks},__asyncDelegator:FE,__asyncGenerator:RE,__asyncValues:LE,__await:Vi,__awaiter:TE,__classPrivateFieldGet:UE,__classPrivateFieldSet:jE,__createBinding:DE,__decorate:_E,__exportStar:BE,__extends:SE,__generator:OE,__importDefault:kE,__importStar:ME,__makeTemplateObject:$E,__metadata:IE,__param:PE,__read:a0,__rest:AE,__spread:CE,__spreadArrays:NE,__values:Ws},Symbol.toStringTag,{value:"Module"})),ga=eo(HE);var ms={},$i={},$u;function GE(){if($u)return $i;$u=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return $i.delay=e,$i}var Fn={},bs={},Ln={},Mu;function zE(){return Mu||(Mu=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.ONE_THOUSAND=Ln.ONE_HUNDRED=void 0,Ln.ONE_HUNDRED=100,Ln.ONE_THOUSAND=1e3),Ln}var ys={},ku;function VE(){return ku||(ku=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(ys)),ys}var Uu;function s0(){return Uu||(Uu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ga;t.__exportStar(zE(),e),t.__exportStar(VE(),e)}(bs)),bs}var ju;function qE(){if(ju)return Fn;ju=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.fromMiliseconds=Fn.toMiliseconds=void 0;const e=s0();function t(n){return n*e.ONE_THOUSAND}Fn.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return Fn.fromMiliseconds=r,Fn}var Hu;function KE(){return Hu||(Hu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ga;t.__exportStar(GE(),e),t.__exportStar(qE(),e)}(ms)),ms}var ci={},Gu;function WE(){if(Gu)return ci;Gu=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return ci.Watch=e,ci.default=e,ci}var vs={},Mi={},zu;function JE(){if(zu)return Mi;zu=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.IWatch=void 0;class e{}return Mi.IWatch=e,Mi}var Vu;function YE(){return Vu||(Vu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ga.__exportStar(JE(),e)}(vs)),vs}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ga;t.__exportStar(KE(),e),t.__exportStar(WE(),e),t.__exportStar(YE(),e),t.__exportStar(s0(),e)})(Vn);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getLocalStorage=Tt.getLocalStorageOrThrow=Tt.getCrypto=Tt.getCryptoOrThrow=f0=Tt.getLocation=Tt.getLocationOrThrow=Kf=Tt.getNavigator=Tt.getNavigatorOrThrow=pa=Tt.getDocument=Tt.getDocumentOrThrow=Tt.getFromWindowOrThrow=Tt.getFromWindow=void 0;function ri(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Tt.getFromWindow=ri;function Di(e){const t=ri(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Tt.getFromWindowOrThrow=Di;function XE(){return Di("document")}Tt.getDocumentOrThrow=XE;function ZE(){return ri("document")}var pa=Tt.getDocument=ZE;function QE(){return Di("navigator")}Tt.getNavigatorOrThrow=QE;function ew(){return ri("navigator")}var Kf=Tt.getNavigator=ew;function tw(){return Di("location")}Tt.getLocationOrThrow=tw;function rw(){return ri("location")}var f0=Tt.getLocation=rw;function nw(){return Di("crypto")}Tt.getCryptoOrThrow=nw;function iw(){return ri("crypto")}Tt.getCrypto=iw;function ow(){return Di("localStorage")}Tt.getLocalStorageOrThrow=ow;function aw(){return ri("localStorage")}Tt.getLocalStorage=aw;var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});var c0=Wf.getWindowMetadata=void 0;const qu=Tt;function sw(){let e,t;try{e=qu.getDocumentOrThrow(),t=qu.getLocationOrThrow()}catch{return null}function r(){const g=e.getElementsByTagName("link"),y=[];for(let v=0;v<g.length;v++){const _=g[v],j=_.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const z=_.getAttribute("href");if(z)if(z.toLowerCase().indexOf("https:")===-1&&z.toLowerCase().indexOf("http:")===-1&&z.indexOf("//")!==0){let Z=t.protocol+"//"+t.host;if(z.indexOf("/")===0)Z+=z;else{const k=t.pathname.split("/");k.pop();const K=k.join("/");Z+=K+"/"+z}y.push(Z)}else if(z.indexOf("//")===0){const Z=t.protocol+z;y.push(Z)}else y.push(z)}}return y}function n(...g){const y=e.getElementsByTagName("meta");for(let v=0;v<y.length;v++){const _=y[v],j=["itemprop","property","name"].map(z=>_.getAttribute(z)).filter(z=>z?g.includes(z):!1);if(j.length&&j){const z=_.getAttribute("content");if(z)return z}}return""}function i(){let g=n("name","og:site_name","og:title","twitter:title");return g||(g=e.title),g}function o(){return n("description","og:description","twitter:description","keywords")}const a=i(),s=o(),f=t.origin,c=r();return{description:s,url:f,icons:c,name:a}}c0=Wf.getWindowMetadata=sw;var qi={},fw=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),u0="%[a-f0-9]{2}",Ku=new RegExp("("+u0+")|([^%]+?)","gi"),Wu=new RegExp("("+u0+")+","gi");function Js(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Js(r),Js(n))}function cw(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Ku)||[],r=1;r<t.length;r++)e=Js(t,r).join(""),t=e.match(Ku)||[];return e}}function uw(e){for(var t={"%FE%FF":"","%FF%FE":""},r=Wu.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=cw(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Wu.exec(e)}t["%C2"]="";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}var dw=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return uw(e)}},lw=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},hw=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?t.indexOf(a)!==-1:t(a,s,e))&&(r[a]=s)}return r};(function(e){const t=fw,r=dw,n=lw,i=hw,o=k=>k==null,a=Symbol("encodeFragmentIdentifier");function s(k){switch(k.arrayFormat){case"index":return K=>($,B)=>{const D=$.length;return B===void 0||k.skipNull&&B===null||k.skipEmptyString&&B===""?$:B===null?[...$,[l(K,k),"[",D,"]"].join("")]:[...$,[l(K,k),"[",l(D,k),"]=",l(B,k)].join("")]};case"bracket":return K=>($,B)=>B===void 0||k.skipNull&&B===null||k.skipEmptyString&&B===""?$:B===null?[...$,[l(K,k),"[]"].join("")]:[...$,[l(K,k),"[]=",l(B,k)].join("")];case"colon-list-separator":return K=>($,B)=>B===void 0||k.skipNull&&B===null||k.skipEmptyString&&B===""?$:B===null?[...$,[l(K,k),":list="].join("")]:[...$,[l(K,k),":list=",l(B,k)].join("")];case"comma":case"separator":case"bracket-separator":{const K=k.arrayFormat==="bracket-separator"?"[]=":"=";return $=>(B,D)=>D===void 0||k.skipNull&&D===null||k.skipEmptyString&&D===""?B:(D=D===null?"":D,B.length===0?[[l($,k),K,l(D,k)].join("")]:[[B,l(D,k)].join(k.arrayFormatSeparator)])}default:return K=>($,B)=>B===void 0||k.skipNull&&B===null||k.skipEmptyString&&B===""?$:B===null?[...$,l(K,k)]:[...$,[l(K,k),"=",l(B,k)].join("")]}}function f(k){let K;switch(k.arrayFormat){case"index":return($,B,D)=>{if(K=/\[(\d*)\]$/.exec($),$=$.replace(/\[\d*\]$/,""),!K){D[$]=B;return}D[$]===void 0&&(D[$]={}),D[$][K[1]]=B};case"bracket":return($,B,D)=>{if(K=/(\[\])$/.exec($),$=$.replace(/\[\]$/,""),!K){D[$]=B;return}if(D[$]===void 0){D[$]=[B];return}D[$]=[].concat(D[$],B)};case"colon-list-separator":return($,B,D)=>{if(K=/(:list)$/.exec($),$=$.replace(/:list$/,""),!K){D[$]=B;return}if(D[$]===void 0){D[$]=[B];return}D[$]=[].concat(D[$],B)};case"comma":case"separator":return($,B,D)=>{const h=typeof B=="string"&&B.includes(k.arrayFormatSeparator),A=typeof B=="string"&&!h&&g(B,k).includes(k.arrayFormatSeparator);B=A?g(B,k):B;const q=h||A?B.split(k.arrayFormatSeparator).map(re=>g(re,k)):B===null?B:g(B,k);D[$]=q};case"bracket-separator":return($,B,D)=>{const h=/(\[\])$/.test($);if($=$.replace(/\[\]$/,""),!h){D[$]=B&&g(B,k);return}const A=B===null?[]:B.split(k.arrayFormatSeparator).map(q=>g(q,k));if(D[$]===void 0){D[$]=A;return}D[$]=[].concat(D[$],A)};default:return($,B,D)=>{if(D[$]===void 0){D[$]=B;return}D[$]=[].concat(D[$],B)}}}function c(k){if(typeof k!="string"||k.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function l(k,K){return K.encode?K.strict?t(k):encodeURIComponent(k):k}function g(k,K){return K.decode?r(k):k}function y(k){return Array.isArray(k)?k.sort():typeof k=="object"?y(Object.keys(k)).sort((K,$)=>Number(K)-Number($)).map(K=>k[K]):k}function v(k){const K=k.indexOf("#");return K!==-1&&(k=k.slice(0,K)),k}function _(k){let K="";const $=k.indexOf("#");return $!==-1&&(K=k.slice($)),K}function j(k){k=v(k);const K=k.indexOf("?");return K===-1?"":k.slice(K+1)}function z(k,K){return K.parseNumbers&&!Number.isNaN(Number(k))&&typeof k=="string"&&k.trim()!==""?k=Number(k):K.parseBooleans&&k!==null&&(k.toLowerCase()==="true"||k.toLowerCase()==="false")&&(k=k.toLowerCase()==="true"),k}function Z(k,K){K=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},K),c(K.arrayFormatSeparator);const $=f(K),B=Object.create(null);if(typeof k!="string"||(k=k.trim().replace(/^[?#&]/,""),!k))return B;for(const D of k.split("&")){if(D==="")continue;let[h,A]=n(K.decode?D.replace(/\+/g," "):D,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(K.arrayFormat)?A:g(A,K),$(g(h,K),A,B)}for(const D of Object.keys(B)){const h=B[D];if(typeof h=="object"&&h!==null)for(const A of Object.keys(h))h[A]=z(h[A],K);else B[D]=z(h,K)}return K.sort===!1?B:(K.sort===!0?Object.keys(B).sort():Object.keys(B).sort(K.sort)).reduce((D,h)=>{const A=B[h];return A&&typeof A=="object"&&!Array.isArray(A)?D[h]=y(A):D[h]=A,D},Object.create(null))}e.extract=j,e.parse=Z,e.stringify=(k,K)=>{if(!k)return"";K=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},K),c(K.arrayFormatSeparator);const $=A=>K.skipNull&&o(k[A])||K.skipEmptyString&&k[A]==="",B=s(K),D={};for(const A of Object.keys(k))$(A)||(D[A]=k[A]);const h=Object.keys(D);return K.sort!==!1&&h.sort(K.sort),h.map(A=>{const q=k[A];return q===void 0?"":q===null?l(A,K):Array.isArray(q)?q.length===0&&K.arrayFormat==="bracket-separator"?l(A,K)+"[]":q.reduce(B(A),[]).join("&"):l(A,K)+"="+l(q,K)}).filter(A=>A.length>0).join("&")},e.parseUrl=(k,K)=>{K=Object.assign({decode:!0},K);const[$,B]=n(k,"#");return Object.assign({url:$.split("?")[0]||"",query:Z(j(k),K)},K&&K.parseFragmentIdentifier&&B?{fragmentIdentifier:g(B,K)}:{})},e.stringifyUrl=(k,K)=>{K=Object.assign({encode:!0,strict:!0,[a]:!0},K);const $=v(k.url).split("?")[0]||"",B=e.extract(k.url),D=e.parse(B,{sort:!1}),h=Object.assign(D,k.query);let A=e.stringify(h,K);A&&(A=`?${A}`);let q=_(k.url);return k.fragmentIdentifier&&(q=`#${K[a]?l(k.fragmentIdentifier,K):k.fragmentIdentifier}`),`${$}${A}${q}`},e.pick=(k,K,$)=>{$=Object.assign({parseFragmentIdentifier:!0,[a]:!1},$);const{url:B,query:D,fragmentIdentifier:h}=e.parseUrl(k,$);return e.stringifyUrl({url:B,query:i(D,K),fragmentIdentifier:h},$)},e.exclude=(k,K,$)=>{const B=Array.isArray(K)?D=>!K.includes(D):(D,h)=>!K(D,h);return e.pick(k,B,$)}})(qi);function Bi(e,t,r){return r={path:t,exports:{},require:function(n,i){return gw(n,i??r.path)}},e(r,r.exports),r.exports}function gw(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Jf=d0;function d0(e,t){if(!e)throw new Error(t||"Assertion failed")}d0.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var Vr=Bi(function(e,t){var r=t;function n(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var f=[];if(typeof a!="string"){for(var c=0;c<a.length;c++)f[c]=a[c]|0;return f}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var c=0;c<a.length;c+=2)f.push(parseInt(a[c]+a[c+1],16))}else for(var c=0;c<a.length;c++){var l=a.charCodeAt(c),g=l>>8,y=l&255;g?f.push(g,y):f.push(y)}return f}r.toArray=n;function i(a){return a.length===1?"0"+a:a}r.zero2=i;function o(a){for(var s="",f=0;f<a.length;f++)s+=i(a[f].toString(16));return s}r.toHex=o,r.encode=function(s,f){return f==="hex"?o(s):s}}),Cr=Bi(function(e,t){var r=t;r.assert=Jf,r.toArray=Vr.toArray,r.zero2=Vr.zero2,r.toHex=Vr.toHex,r.encode=Vr.encode;function n(f,c,l){var g=new Array(Math.max(f.bitLength(),l)+1);g.fill(0);for(var y=1<<c+1,v=f.clone(),_=0;_<g.length;_++){var j,z=v.andln(y-1);v.isOdd()?(z>(y>>1)-1?j=(y>>1)-z:j=z,v.isubn(j)):j=0,g[_]=j,v.iushrn(1)}return g}r.getNAF=n;function i(f,c){var l=[[],[]];f=f.clone(),c=c.clone();for(var g=0,y=0,v;f.cmpn(-g)>0||c.cmpn(-y)>0;){var _=f.andln(3)+g&3,j=c.andln(3)+y&3;_===3&&(_=-1),j===3&&(j=-1);var z;_&1?(v=f.andln(7)+g&7,(v===3||v===5)&&j===2?z=-_:z=_):z=0,l[0].push(z);var Z;j&1?(v=c.andln(7)+y&7,(v===3||v===5)&&_===2?Z=-j:Z=j):Z=0,l[1].push(Z),2*g===z+1&&(g=1-g),2*y===Z+1&&(y=1-y),f.iushrn(1),c.iushrn(1)}return l}r.getJSF=i;function o(f,c,l){var g="_"+c;f.prototype[c]=function(){return this[g]!==void 0?this[g]:this[g]=l.call(this)}}r.cachedProperty=o;function a(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=a;function s(f){return new Ke(f,"hex","le")}r.intFromLE=s}),Go=Cr.getNAF,pw=Cr.getJSF,zo=Cr.assert;function Dn(e,t){this.type=e,this.p=new Ke(t.p,16),this.red=t.prime?Ke.red(t.prime):Ke.mont(this.p),this.zero=new Ke(0).toRed(this.red),this.one=new Ke(1).toRed(this.red),this.two=new Ke(2).toRed(this.red),this.n=t.n&&new Ke(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ni=Dn;Dn.prototype.point=function(){throw new Error("Not implemented")};Dn.prototype.validate=function(){throw new Error("Not implemented")};Dn.prototype._fixedNafMul=function(t,r){zo(t.precomputed);var n=t._getDoubles(),i=Go(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var a=[],s,f;for(s=0;s<i.length;s+=n.step){f=0;for(var c=s+n.step-1;c>=s;c--)f=(f<<1)+i[c];a.push(f)}for(var l=this.jpoint(null,null,null),g=this.jpoint(null,null,null),y=o;y>0;y--){for(s=0;s<a.length;s++)f=a[s],f===y?g=g.mixedAdd(n.points[s]):f===-y&&(g=g.mixedAdd(n.points[s].neg()));l=l.add(g)}return l.toP()};Dn.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=Go(r,n,this._bitLength),s=this.jpoint(null,null,null),f=a.length-1;f>=0;f--){for(var c=0;f>=0&&a[f]===0;f--)c++;if(f>=0&&c++,s=s.dblp(c),f<0)break;var l=a[f];zo(l!==0),t.type==="affine"?l>0?s=s.mixedAdd(o[l-1>>1]):s=s.mixedAdd(o[-l-1>>1].neg()):l>0?s=s.add(o[l-1>>1]):s=s.add(o[-l-1>>1].neg())}return t.type==="affine"?s.toP():s};Dn.prototype._wnafMulAdd=function(t,r,n,i,o){var a=this._wnafT1,s=this._wnafT2,f=this._wnafT3,c=0,l,g,y;for(l=0;l<i;l++){y=r[l];var v=y._getNAFPoints(t);a[l]=v.wnd,s[l]=v.points}for(l=i-1;l>=1;l-=2){var _=l-1,j=l;if(a[_]!==1||a[j]!==1){f[_]=Go(n[_],a[_],this._bitLength),f[j]=Go(n[j],a[j],this._bitLength),c=Math.max(f[_].length,c),c=Math.max(f[j].length,c);continue}var z=[r[_],null,null,r[j]];r[_].y.cmp(r[j].y)===0?(z[1]=r[_].add(r[j]),z[2]=r[_].toJ().mixedAdd(r[j].neg())):r[_].y.cmp(r[j].y.redNeg())===0?(z[1]=r[_].toJ().mixedAdd(r[j]),z[2]=r[_].add(r[j].neg())):(z[1]=r[_].toJ().mixedAdd(r[j]),z[2]=r[_].toJ().mixedAdd(r[j].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],k=pw(n[_],n[j]);for(c=Math.max(k[0].length,c),f[_]=new Array(c),f[j]=new Array(c),g=0;g<c;g++){var K=k[0][g]|0,$=k[1][g]|0;f[_][g]=Z[(K+1)*3+($+1)],f[j][g]=0,s[_]=z}}var B=this.jpoint(null,null,null),D=this._wnafT4;for(l=c;l>=0;l--){for(var h=0;l>=0;){var A=!0;for(g=0;g<i;g++)D[g]=f[g][l]|0,D[g]!==0&&(A=!1);if(!A)break;h++,l--}if(l>=0&&h++,B=B.dblp(h),l<0)break;for(g=0;g<i;g++){var q=D[g];q!==0&&(q>0?y=s[g][q-1>>1]:q<0&&(y=s[g][-q-1>>1].neg()),y.type==="affine"?B=B.mixedAdd(y):B=B.add(y))}}for(l=0;l<i;l++)s[l]=null;return o?B:B.toP()};function Mr(e,t){this.curve=e,this.type=t,this.precomputed=null}Dn.BasePoint=Mr;Mr.prototype.eq=function(){throw new Error("Not implemented")};Mr.prototype.validate=function(){return this.curve.validate(this)};Dn.prototype.decodePoint=function(t,r){t=Cr.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?zo(t[t.length-1]%2===0):t[0]===7&&zo(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Mr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Mr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Mr.prototype.encode=function(t,r){return Cr.encode(this._encode(r),t)};Mr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Mr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Mr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=t){for(var a=0;a<t;a++)i=i.dbl();n.push(i)}return{step:t,points:n}};Mr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:t,points:r}};Mr.prototype._getBeta=function(){return null};Mr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Yf=Bi(function(e){typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),mw=Cr.assert;function kr(e){ni.call(this,"short",e),this.a=new Ke(e.a,16).toRed(this.red),this.b=new Ke(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Yf(kr,ni);var bw=kr;kr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Ke(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new Ke(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],mw(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return t.basis?a=t.basis.map(function(s){return{a:new Ke(s.a,16),b:new Ke(s.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};kr.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:Ke.mont(t),n=new Ke(2).toRed(r).redInvm(),i=n.redNeg(),o=new Ke(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(o).fromRed(),s=i.redSub(o).fromRed();return[a,s]};kr.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),o=new Ke(1),a=new Ke(0),s=new Ke(0),f=new Ke(1),c,l,g,y,v,_,j,z=0,Z,k;n.cmpn(0)!==0;){var K=i.div(n);Z=i.sub(K.mul(n)),k=s.sub(K.mul(o));var $=f.sub(K.mul(a));if(!g&&Z.cmp(r)<0)c=j.neg(),l=o,g=Z.neg(),y=k;else if(g&&++z===2)break;j=Z,i=n,n=Z,s=o,o=k,f=a,a=$}v=Z.neg(),_=k;var B=g.sqr().add(y.sqr()),D=v.sqr().add(_.sqr());return D.cmp(B)>=0&&(v=c,_=l),g.negative&&(g=g.neg(),y=y.neg()),v.negative&&(v=v.neg(),_=_.neg()),[{a:g,b:y},{a:v,b:_}]};kr.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(t).divRound(this.n),a=n.b.neg().mul(t).divRound(this.n),s=o.mul(n.a),f=a.mul(i.a),c=o.mul(n.b),l=a.mul(i.b),g=t.sub(s).sub(f),y=c.add(l).neg();return{k1:g,k2:y}};kr.prototype.pointFromX=function(t,r){t=new Ke(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(t,i)};kr.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};kr.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,a=0;a<t.length;a++){var s=this._endoSplit(r[a]),f=t[a],c=f._getBeta();s.k1.negative&&(s.k1.ineg(),f=f.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),i[a*2]=f,i[a*2+1]=c,o[a*2]=s.k1,o[a*2+1]=s.k2}for(var l=this._wnafMulAdd(1,i,o,a*2,n),g=0;g<a*2;g++)i[g]=null,o[g]=null;return l};function er(e,t,r,n){ni.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ke(t,16),this.y=new Ke(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Yf(er,ni.BasePoint);kr.prototype.point=function(t,r,n){return new er(this,t,r,n)};kr.prototype.pointFromJSON=function(t,r){return er.fromJSON(this,t,r)};er.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};er.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};er.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function o(s){return t.point(s[0],s[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(o))}},i};er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};er.prototype.isInfinity=function(){return this.inf};er.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};er.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};er.prototype.getX=function(){return this.x.fromRed()};er.prototype.getY=function(){return this.y.fromRed()};er.prototype.mul=function(t){return t=new Ke(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};er.prototype.mulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};er.prototype.jmulAdd=function(t,r,n){var i=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};er.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};er.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};er.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function or(e,t,r,n){ni.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ke(0)):(this.x=new Ke(t,16),this.y=new Ke(r,16),this.z=new Ke(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Yf(or,ni.BasePoint);kr.prototype.jpoint=function(t,r,n){return new or(this,t,r,n)};or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};or.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=t.x.redMul(n),a=this.y.redMul(r.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),f=i.redSub(o),c=a.redSub(s);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),g=l.redMul(f),y=i.redMul(l),v=c.redSqr().redIAdd(g).redISub(y).redISub(y),_=c.redMul(y.redISub(v)).redISub(a.redMul(g)),j=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(v,_,j)};or.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),o=this.y,a=t.y.redMul(r).redMul(this.z),s=n.redSub(i),f=o.redSub(a);if(s.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),g=n.redMul(c),y=f.redSqr().redIAdd(l).redISub(g).redISub(g),v=f.redMul(g.redISub(y)).redISub(o.redMul(l)),_=this.z.redMul(s);return this.curve.jpoint(y,v,_)};or.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,a=this.x,s=this.y,f=this.z,c=f.redSqr().redSqr(),l=s.redAdd(s);for(r=0;r<t;r++){var g=a.redSqr(),y=l.redSqr(),v=y.redSqr(),_=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(c)),j=a.redMul(y),z=_.redSqr().redISub(j.redAdd(j)),Z=j.redISub(z),k=_.redMul(Z);k=k.redIAdd(k).redISub(v);var K=l.redMul(f);r+1<t&&(c=c.redMul(v)),a=z,f=K,l=k}return this.curve.jpoint(a,l.redMul(o),f)};or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};or.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(s).redISub(s),l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),t=c,r=f.redMul(s.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(g).redISub(v);_=_.redIAdd(_);var j=g.redAdd(g).redIAdd(g),z=j.redSqr(),Z=v.redIAdd(v);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),t=z.redISub(_).redISub(_),r=j.redMul(_.redISub(t)).redISub(Z),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};or.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(s).redISub(s);t=c;var l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),r=f.redMul(s.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),y=this.y.redSqr(),v=this.x.redMul(y),_=this.x.redSub(g).redMul(this.x.redAdd(g));_=_.redAdd(_).redIAdd(_);var j=v.redIAdd(v);j=j.redIAdd(j);var z=j.redAdd(j);t=_.redSqr().redISub(z),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(g);var Z=y.redSqr();Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),r=_.redMul(j.redISub(t)).redISub(Z)}return this.curve.jpoint(t,r,n)};or.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),a=r.redSqr(),s=n.redSqr(),f=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(o)),c=r.redAdd(r);c=c.redIAdd(c);var l=c.redMul(s),g=f.redSqr().redISub(l.redAdd(l)),y=l.redISub(g),v=s.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var _=f.redMul(y).redISub(v),j=n.redAdd(n).redMul(i);return this.curve.jpoint(g,_,j)};or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=t.redAdd(t).redIAdd(t),a=o.redSqr(),s=this.x.redAdd(r).redSqr().redISub(t).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var f=s.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=o.redIAdd(s).redSqr().redISub(a).redISub(f).redISub(c),g=r.redMul(l);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.x.redMul(f).redISub(g);y=y.redIAdd(y),y=y.redIAdd(y);var v=this.y.redMul(l.redMul(c.redISub(l)).redISub(s.redMul(f)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var _=this.z.redAdd(s).redSqr().redISub(n).redISub(f);return this.curve.jpoint(y,v,_)};or.prototype.mul=function(t,r){return t=new Ke(t,r),this.curve._wnafMul(this,t)};or.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(i)).cmpn(0)===0};or.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};or.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var No=Bi(function(e,t){var r=t;r.base=ni,r.short=bw,r.mont=null,r.edwards=null}),Ro=Bi(function(e,t){var r=t,n=Cr.assert;function i(s){s.type==="short"?this.curve=new No.short(s):s.type==="edwards"?this.curve=new No.edwards(s):this.curve=new No.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(s,f){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}),c}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:un.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:un.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:un.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:un.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:un.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:un.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:un.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:un.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function On(e){if(!(this instanceof On))return new On(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Vr.toArray(e.entropy,e.entropyEnc||"hex"),r=Vr.toArray(e.nonce,e.nonceEnc||"hex"),n=Vr.toArray(e.pers,e.persEnc||"hex");Jf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var l0=On;On.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};On.prototype._hmac=function(){return new un.hmac(this.hash,this.K)};On.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};On.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=Vr.toArray(t,r),n=Vr.toArray(n,i),Jf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};On.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vr.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,Vr.encode(a,r)};var Ys=Cr.assert;function pr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Xf=pr;pr.fromPublic=function(t,r,n){return r instanceof pr?r:new pr(t,{pub:r,pubEnc:n})};pr.fromPrivate=function(t,r,n){return r instanceof pr?r:new pr(t,{priv:r,privEnc:n})};pr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};pr.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};pr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};pr.prototype._importPrivate=function(t,r){this.priv=new Ke(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};pr.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?Ys(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ys(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};pr.prototype.derive=function(t){return t.validate()||Ys(t.validate(),"public point not validated"),t.mul(this.priv).getX()};pr.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};pr.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};pr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var yw=Cr.assert;function ma(e,t){if(e instanceof ma)return e;this._importDER(e,t)||(yw(e.r&&e.s,"Signature without r or s"),this.r=new Ke(e.r,16),this.s=new Ke(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var ba=ma;function vw(){this.place=0}function Es(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return i<=127?!1:(t.place=a,i)}function Ju(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ma.prototype._importDER=function(t,r){t=Cr.toArray(t,r);var n=new vw;if(t[n.place++]!==48)return!1;var i=Es(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var o=Es(t,n);if(o===!1)return!1;var a=t.slice(n.place,o+n.place);if(n.place+=o,t[n.place++]!==2)return!1;var s=Es(t,n);if(s===!1||t.length!==s+n.place)return!1;var f=t.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Ke(a),this.s=new Ke(f),this.recoveryParam=null,!0};function ws(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ma.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Ju(r),n=Ju(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ws(i,r.length),i=i.concat(r),i.push(2),ws(i,n.length);var o=i.concat(n),a=[48];return ws(a,o.length),a=a.concat(o),Cr.encode(a,t)};var Ew=function(){throw new Error("unsupported")},h0=Cr.assert;function $r(e){if(!(this instanceof $r))return new $r(e);typeof e=="string"&&(h0(Object.prototype.hasOwnProperty.call(Ro,e),"Unknown curve "+e),e=Ro[e]),e instanceof Ro.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ww=$r;$r.prototype.keyPair=function(t){return new Xf(this,t)};$r.prototype.keyFromPrivate=function(t,r){return Xf.fromPrivate(this,t,r)};$r.prototype.keyFromPublic=function(t,r){return Xf.fromPublic(this,t,r)};$r.prototype.genKeyPair=function(t){t||(t={});for(var r=new l0({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ew(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ke(2));;){var o=new Ke(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};$r.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};$r.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Ke(t,16));for(var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),s=t.toArray("be",o),f=new l0({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Ke(1)),l=0;;l++){var g=i.k?i.k(l):new Ke(f.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(c)>=0)){var y=this.g.mul(g);if(!y.isInfinity()){var v=y.getX(),_=v.umod(this.n);if(_.cmpn(0)!==0){var j=g.invm(this.n).mul(_.mul(r.getPrivate()).iadd(t));if(j=j.umod(this.n),j.cmpn(0)!==0){var z=(y.getY().isOdd()?1:0)|(v.cmp(_)!==0?2:0);return i.canonical&&j.cmp(this.nh)>0&&(j=this.n.sub(j),z^=1),new ba({r:_,s:j,recoveryParam:z})}}}}}};$r.prototype.verify=function(t,r,n,i){t=this._truncateToN(new Ke(t,16)),n=this.keyFromPublic(n,i),r=new ba(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),f=s.mul(t).umod(this.n),c=s.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,n.getPublic(),c),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(f,n.getPublic(),c),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};$r.prototype.recoverPubKey=function(e,t,r,n){h0((3&r)===r,"The recovery param is more than two bits"),t=new ba(t,n);var i=this.n,o=new Ke(e),a=t.r,s=t.s,f=r&1,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),f):a=this.curve.pointFromX(a,f);var l=t.r.invm(i),g=i.sub(o).mul(l).umod(i),y=s.mul(l).umod(i);return this.g.mulAdd(g,a,y)};$r.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new ba(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var xw=Bi(function(e,t){var r=t;r.version="6.5.4",r.utils=Cr,r.rand=function(){throw new Error("unsupported")},r.curve=No,r.curves=Ro,r.ec=ww,r.eddsa=null}),Sw=xw.ec;const Aw="signing-key/5.7.0",Xs=new Ct(Aw);let xs=null;function tn(){return xs||(xs=new Sw("secp256k1")),xs}class _w{constructor(t){Li(this,"curve","secp256k1"),Li(this,"privateKey",Sr(t)),$v(this.privateKey)!==32&&Xs.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=tn().keyFromPrivate(Yt(this.privateKey));Li(this,"publicKey","0x"+r.getPublic(!1,"hex")),Li(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Li(this,"_isSigningKey",!0)}_addPoint(t){const r=tn().keyFromPublic(Yt(this.publicKey)),n=tn().keyFromPublic(Yt(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const r=tn().keyFromPrivate(Yt(this.privateKey)),n=Yt(t);n.length!==32&&Xs.throwArgumentError("bad digest length","digest",t);const i=r.sign(n,{canonical:!0});return jl({recoveryParam:i.recoveryParam,r:yi("0x"+i.r.toString(16),32),s:yi("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const r=tn().keyFromPrivate(Yt(this.privateKey)),n=tn().keyFromPublic(Yt(g0(t)));return yi("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function Pw(e,t){const r=jl(t),n={r:Yt(r.r),s:Yt(r.s)};return"0x"+tn().recoverPubKey(Yt(e),n,r.recoveryParam).encode("hex",!1)}function g0(e,t){const r=Yt(e);if(r.length===32){const n=new _w(r);return t?"0x"+tn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return t?Sr(r):"0x"+tn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+tn().keyFromPublic(r).getPublic(!0,"hex"):Sr(r)}return Xs.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Yu;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Yu||(Yu={}));function Iw(e){const t=g0(e);return qv(du(Hf(du(t,1)),12))}function Tw(e,t){return Iw(Pw(Yt(e),t))}var Zf={},ya={},it={},p0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(s,f){var c=s>>>16&65535,l=s&65535,g=f>>>16&65535,y=f&65535;return l*y+(c*y+l*g<<16>>>0)|0}e.mul=Math.imul||t;function r(s,f){return s+f|0}e.add=r;function n(s,f){return s-f|0}e.sub=n;function i(s,f){return s<<f|s>>>32-f}e.rotl=i;function o(s,f){return s<<32-f|s>>>f}e.rotr=o;function a(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}e.isInteger=Number.isInteger||a,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(s){return e.isInteger(s)&&s>=-e.MAX_SAFE_INTEGER&&s<=e.MAX_SAFE_INTEGER}})(p0);Object.defineProperty(it,"__esModule",{value:!0});var m0=p0;function Ow(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}it.readInt16BE=Ow;function Dw(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}it.readUint16BE=Dw;function Bw(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}it.readInt16LE=Bw;function Cw(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}it.readUint16LE=Cw;function b0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}it.writeUint16BE=b0;it.writeInt16BE=b0;function y0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}it.writeUint16LE=y0;it.writeInt16LE=y0;function Zs(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}it.readInt32BE=Zs;function Qs(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}it.readUint32BE=Qs;function ef(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}it.readInt32LE=ef;function tf(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}it.readUint32LE=tf;function Vo(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}it.writeUint32BE=Vo;it.writeInt32BE=Vo;function qo(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}it.writeUint32LE=qo;it.writeInt32LE=qo;function Nw(e,t){t===void 0&&(t=0);var r=Zs(e,t),n=Zs(e,t+4);return r*4294967296+n-(n>>31)*4294967296}it.readInt64BE=Nw;function Rw(e,t){t===void 0&&(t=0);var r=Qs(e,t),n=Qs(e,t+4);return r*4294967296+n}it.readUint64BE=Rw;function Fw(e,t){t===void 0&&(t=0);var r=ef(e,t),n=ef(e,t+4);return n*4294967296+r-(r>>31)*4294967296}it.readInt64LE=Fw;function Lw(e,t){t===void 0&&(t=0);var r=tf(e,t),n=tf(e,t+4);return n*4294967296+r}it.readUint64LE=Lw;function v0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Vo(e/4294967296>>>0,t,r),Vo(e>>>0,t,r+4),t}it.writeUint64BE=v0;it.writeInt64BE=v0;function E0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),qo(e>>>0,t,r),qo(e/4294967296>>>0,t,r+4),t}it.writeUint64LE=E0;it.writeInt64LE=E0;function $w(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n}it.readUintBE=$w;function Mw(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n}it.readUintLE=Mw;function kw(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!m0.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+n-1;o>=n;o--)r[o]=t/i&255,i*=256;return r}it.writeUintBE=kw;function Uw(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!m0.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+e/8;o++)r[o]=t/i&255,i*=256;return r}it.writeUintLE=Uw;function jw(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}it.readFloat32BE=jw;function Hw(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}it.readFloat32LE=Hw;function Gw(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}it.readFloat64BE=Gw;function zw(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}it.readFloat64LE=zw;function Vw(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}it.writeFloat32BE=Vw;function qw(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}it.writeFloat32LE=qw;function Kw(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}it.writeFloat64BE=Kw;function Ww(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}it.writeFloat64LE=Ww;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});function Jw(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Nr.wipe=Jw;Object.defineProperty(ya,"__esModule",{value:!0});var ur=it,rf=Nr,Yw=20;function Xw(e,t,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],v=r[27]<<24|r[26]<<16|r[25]<<8|r[24],_=r[31]<<24|r[30]<<16|r[29]<<8|r[28],j=t[3]<<24|t[2]<<16|t[1]<<8|t[0],z=t[7]<<24|t[6]<<16|t[5]<<8|t[4],Z=t[11]<<24|t[10]<<16|t[9]<<8|t[8],k=t[15]<<24|t[14]<<16|t[13]<<8|t[12],K=n,$=i,B=o,D=a,h=s,A=f,q=c,re=l,fe=g,T=y,N=v,p=_,x=j,M=z,H=Z,G=k,L=0;L<Yw;L+=2)K=K+h|0,x^=K,x=x>>>32-16|x<<16,fe=fe+x|0,h^=fe,h=h>>>32-12|h<<12,$=$+A|0,M^=$,M=M>>>32-16|M<<16,T=T+M|0,A^=T,A=A>>>32-12|A<<12,B=B+q|0,H^=B,H=H>>>32-16|H<<16,N=N+H|0,q^=N,q=q>>>32-12|q<<12,D=D+re|0,G^=D,G=G>>>32-16|G<<16,p=p+G|0,re^=p,re=re>>>32-12|re<<12,B=B+q|0,H^=B,H=H>>>32-8|H<<8,N=N+H|0,q^=N,q=q>>>32-7|q<<7,D=D+re|0,G^=D,G=G>>>32-8|G<<8,p=p+G|0,re^=p,re=re>>>32-7|re<<7,$=$+A|0,M^=$,M=M>>>32-8|M<<8,T=T+M|0,A^=T,A=A>>>32-7|A<<7,K=K+h|0,x^=K,x=x>>>32-8|x<<8,fe=fe+x|0,h^=fe,h=h>>>32-7|h<<7,K=K+A|0,G^=K,G=G>>>32-16|G<<16,N=N+G|0,A^=N,A=A>>>32-12|A<<12,$=$+q|0,x^=$,x=x>>>32-16|x<<16,p=p+x|0,q^=p,q=q>>>32-12|q<<12,B=B+re|0,M^=B,M=M>>>32-16|M<<16,fe=fe+M|0,re^=fe,re=re>>>32-12|re<<12,D=D+h|0,H^=D,H=H>>>32-16|H<<16,T=T+H|0,h^=T,h=h>>>32-12|h<<12,B=B+re|0,M^=B,M=M>>>32-8|M<<8,fe=fe+M|0,re^=fe,re=re>>>32-7|re<<7,D=D+h|0,H^=D,H=H>>>32-8|H<<8,T=T+H|0,h^=T,h=h>>>32-7|h<<7,$=$+q|0,x^=$,x=x>>>32-8|x<<8,p=p+x|0,q^=p,q=q>>>32-7|q<<7,K=K+A|0,G^=K,G=G>>>32-8|G<<8,N=N+G|0,A^=N,A=A>>>32-7|A<<7;ur.writeUint32LE(K+n|0,e,0),ur.writeUint32LE($+i|0,e,4),ur.writeUint32LE(B+o|0,e,8),ur.writeUint32LE(D+a|0,e,12),ur.writeUint32LE(h+s|0,e,16),ur.writeUint32LE(A+f|0,e,20),ur.writeUint32LE(q+c|0,e,24),ur.writeUint32LE(re+l|0,e,28),ur.writeUint32LE(fe+g|0,e,32),ur.writeUint32LE(T+y|0,e,36),ur.writeUint32LE(N+v|0,e,40),ur.writeUint32LE(p+_|0,e,44),ur.writeUint32LE(x+j|0,e,48),ur.writeUint32LE(M+z|0,e,52),ur.writeUint32LE(H+Z|0,e,56),ur.writeUint32LE(G+k|0,e,60)}function w0(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),a=o.length-t.length,o.set(t,a)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,a=i}for(var s=new Uint8Array(64),f=0;f<r.length;f+=64){Xw(s,o,e);for(var c=f;c<f+64&&c<r.length;c++)n[c]=r[c]^s[c-f];Qw(o,0,a)}return rf.wipe(s),i===0&&rf.wipe(o),n}ya.streamXOR=w0;function Zw(e,t,r,n){return n===void 0&&(n=0),rf.wipe(r),w0(e,t,r,r,n)}ya.stream=Zw;function Qw(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var x0={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});function e3(e,t,r){return~(e-1)&t|e-1&r}Bn.select=e3;function t3(e,t){return(e|0)-(t|0)-1>>>31&1}Bn.lessOrEqual=t3;function S0(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Bn.compare=S0;function r3(e,t){return e.length===0||t.length===0?!1:S0(e,t)!==0}Bn.equal=r3;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Bn,r=Nr;e.DIGEST_LENGTH=16;var n=function(){function a(s){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=s[0]|s[1]<<8;this._r[0]=f&8191;var c=s[2]|s[3]<<8;this._r[1]=(f>>>13|c<<3)&8191;var l=s[4]|s[5]<<8;this._r[2]=(c>>>10|l<<6)&7939;var g=s[6]|s[7]<<8;this._r[3]=(l>>>7|g<<9)&8191;var y=s[8]|s[9]<<8;this._r[4]=(g>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var v=s[10]|s[11]<<8;this._r[6]=(y>>>14|v<<2)&8191;var _=s[12]|s[13]<<8;this._r[7]=(v>>>11|_<<5)&8065;var j=s[14]|s[15]<<8;this._r[8]=(_>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=s[16]|s[17]<<8,this._pad[1]=s[18]|s[19]<<8,this._pad[2]=s[20]|s[21]<<8,this._pad[3]=s[22]|s[23]<<8,this._pad[4]=s[24]|s[25]<<8,this._pad[5]=s[26]|s[27]<<8,this._pad[6]=s[28]|s[29]<<8,this._pad[7]=s[30]|s[31]<<8}return a.prototype._blocks=function(s,f,c){for(var l=this._fin?0:2048,g=this._h[0],y=this._h[1],v=this._h[2],_=this._h[3],j=this._h[4],z=this._h[5],Z=this._h[6],k=this._h[7],K=this._h[8],$=this._h[9],B=this._r[0],D=this._r[1],h=this._r[2],A=this._r[3],q=this._r[4],re=this._r[5],fe=this._r[6],T=this._r[7],N=this._r[8],p=this._r[9];c>=16;){var x=s[f+0]|s[f+1]<<8;g+=x&8191;var M=s[f+2]|s[f+3]<<8;y+=(x>>>13|M<<3)&8191;var H=s[f+4]|s[f+5]<<8;v+=(M>>>10|H<<6)&8191;var G=s[f+6]|s[f+7]<<8;_+=(H>>>7|G<<9)&8191;var L=s[f+8]|s[f+9]<<8;j+=(G>>>4|L<<12)&8191,z+=L>>>1&8191;var U=s[f+10]|s[f+11]<<8;Z+=(L>>>14|U<<2)&8191;var te=s[f+12]|s[f+13]<<8;k+=(U>>>11|te<<5)&8191;var R=s[f+14]|s[f+15]<<8;K+=(te>>>8|R<<8)&8191,$+=R>>>5|l;var F=0,Y=F;Y+=g*B,Y+=y*(5*p),Y+=v*(5*N),Y+=_*(5*T),Y+=j*(5*fe),F=Y>>>13,Y&=8191,Y+=z*(5*re),Y+=Z*(5*q),Y+=k*(5*A),Y+=K*(5*h),Y+=$*(5*D),F+=Y>>>13,Y&=8191;var m=F;m+=g*D,m+=y*B,m+=v*(5*p),m+=_*(5*N),m+=j*(5*T),F=m>>>13,m&=8191,m+=z*(5*fe),m+=Z*(5*re),m+=k*(5*q),m+=K*(5*A),m+=$*(5*h),F+=m>>>13,m&=8191;var W=F;W+=g*h,W+=y*D,W+=v*B,W+=_*(5*p),W+=j*(5*N),F=W>>>13,W&=8191,W+=z*(5*T),W+=Z*(5*fe),W+=k*(5*re),W+=K*(5*q),W+=$*(5*A),F+=W>>>13,W&=8191;var S=F;S+=g*A,S+=y*h,S+=v*D,S+=_*B,S+=j*(5*p),F=S>>>13,S&=8191,S+=z*(5*N),S+=Z*(5*T),S+=k*(5*fe),S+=K*(5*re),S+=$*(5*q),F+=S>>>13,S&=8191;var E=F;E+=g*q,E+=y*A,E+=v*h,E+=_*D,E+=j*B,F=E>>>13,E&=8191,E+=z*(5*p),E+=Z*(5*N),E+=k*(5*T),E+=K*(5*fe),E+=$*(5*re),F+=E>>>13,E&=8191;var w=F;w+=g*re,w+=y*q,w+=v*A,w+=_*h,w+=j*D,F=w>>>13,w&=8191,w+=z*B,w+=Z*(5*p),w+=k*(5*N),w+=K*(5*T),w+=$*(5*fe),F+=w>>>13,w&=8191;var u=F;u+=g*fe,u+=y*re,u+=v*q,u+=_*A,u+=j*h,F=u>>>13,u&=8191,u+=z*D,u+=Z*B,u+=k*(5*p),u+=K*(5*N),u+=$*(5*T),F+=u>>>13,u&=8191;var O=F;O+=g*T,O+=y*fe,O+=v*re,O+=_*q,O+=j*A,F=O>>>13,O&=8191,O+=z*h,O+=Z*D,O+=k*B,O+=K*(5*p),O+=$*(5*N),F+=O>>>13,O&=8191;var X=F;X+=g*N,X+=y*T,X+=v*fe,X+=_*re,X+=j*q,F=X>>>13,X&=8191,X+=z*A,X+=Z*h,X+=k*D,X+=K*B,X+=$*(5*p),F+=X>>>13,X&=8191;var se=F;se+=g*p,se+=y*N,se+=v*T,se+=_*fe,se+=j*re,F=se>>>13,se&=8191,se+=z*q,se+=Z*A,se+=k*h,se+=K*D,se+=$*B,F+=se>>>13,se&=8191,F=(F<<2)+F|0,F=F+Y|0,Y=F&8191,F=F>>>13,m+=F,g=Y,y=m,v=W,_=S,j=E,z=w,Z=u,k=O,K=X,$=se,f+=16,c-=16}this._h[0]=g,this._h[1]=y,this._h[2]=v,this._h[3]=_,this._h[4]=j,this._h[5]=z,this._h[6]=Z,this._h[7]=k,this._h[8]=K,this._h[9]=$},a.prototype.finish=function(s,f){f===void 0&&(f=0);var c=new Uint16Array(10),l,g,y,v;if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(l=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=l,l=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=l*5,l=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=l,l=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=l,c[0]=this._h[0]+5,l=c[0]>>>13,c[0]&=8191,v=1;v<10;v++)c[v]=this._h[v]+l,l=c[v]>>>13,c[v]&=8191;for(c[9]-=8192,g=(l^1)-1,v=0;v<10;v++)c[v]&=g;for(g=~g,v=0;v<10;v++)this._h[v]=this._h[v]&g|c[v];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,v=1;v<8;v++)y=(this._h[v]+this._pad[v]|0)+(y>>>16)|0,this._h[v]=y&65535;return s[f+0]=this._h[0]>>>0,s[f+1]=this._h[0]>>>8,s[f+2]=this._h[1]>>>0,s[f+3]=this._h[1]>>>8,s[f+4]=this._h[2]>>>0,s[f+5]=this._h[2]>>>8,s[f+6]=this._h[3]>>>0,s[f+7]=this._h[3]>>>8,s[f+8]=this._h[4]>>>0,s[f+9]=this._h[4]>>>8,s[f+10]=this._h[5]>>>0,s[f+11]=this._h[5]>>>8,s[f+12]=this._h[6]>>>0,s[f+13]=this._h[6]>>>8,s[f+14]=this._h[7]>>>0,s[f+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(s){var f=0,c=s.length,l;if(this._leftover){l=16-this._leftover,l>c&&(l=c);for(var g=0;g<l;g++)this._buffer[this._leftover+g]=s[f+g];if(c-=l,f+=l,this._leftover+=l,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(l=c-c%16,this._blocks(s,f,l),f+=l,c-=l),c){for(var g=0;g<c;g++)this._buffer[this._leftover+g]=s[f+g];this._leftover+=c}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var s=new Uint8Array(16);return this.finish(s),s},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();e.Poly1305=n;function i(a,s){var f=new n(a);f.update(s);var c=f.digest();return f.clean(),c}e.oneTimeAuth=i;function o(a,s){return a.length!==e.DIGEST_LENGTH||s.length!==e.DIGEST_LENGTH?!1:t.equal(a,s)}e.equal=o})(x0);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ya,r=x0,n=Nr,i=it,o=Bn;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var a=new Uint8Array(16),s=function(){function f(c){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,c.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return f.prototype.seal=function(c,l,g,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var v=new Uint8Array(16);v.set(c,v.length-c.length);var _=new Uint8Array(32);t.stream(this._key,v,_,4);var j=l.length+this.tagLength,z;if(y){if(y.length!==j)throw new Error("ChaCha20Poly1305: incorrect destination length");z=y}else z=new Uint8Array(j);return t.streamXOR(this._key,v,l,z,4),this._authenticate(z.subarray(z.length-this.tagLength,z.length),_,z.subarray(0,z.length-this.tagLength),g),n.wipe(v),z},f.prototype.open=function(c,l,g,y){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(l.length<this.tagLength)return null;var v=new Uint8Array(16);v.set(c,v.length-c.length);var _=new Uint8Array(32);t.stream(this._key,v,_,4);var j=new Uint8Array(this.tagLength);if(this._authenticate(j,_,l.subarray(0,l.length-this.tagLength),g),!o.equal(j,l.subarray(l.length-this.tagLength,l.length)))return null;var z=l.length-this.tagLength,Z;if(y){if(y.length!==z)throw new Error("ChaCha20Poly1305: incorrect destination length");Z=y}else Z=new Uint8Array(z);return t.streamXOR(this._key,v,l.subarray(0,l.length-this.tagLength),Z,4),n.wipe(v),Z},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(c,l,g,y){var v=new r.Poly1305(l);y&&(v.update(y),y.length%16>0&&v.update(a.subarray(y.length%16))),v.update(g),g.length%16>0&&v.update(a.subarray(g.length%16));var _=new Uint8Array(8);y&&i.writeUint64LE(y.length,_),v.update(_),i.writeUint64LE(g.length,_),v.update(_);for(var j=v.digest(),z=0;z<j.length;z++)c[z]=j[z];v.clean(),n.wipe(j),n.wipe(_)},f}();e.ChaCha20Poly1305=s})(Zf);var A0={},io={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});function n3(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}Qf.isSerializableHash=n3;Object.defineProperty(io,"__esModule",{value:!0});var Zr=Qf,i3=Bn,o3=Nr,_0=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Zr.isSerializableHash(this._inner)&&Zr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o3.wipe(n)}return e.prototype.reset=function(){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){Zr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Zr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!Zr.isSerializableHash(this._inner)||!Zr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!Zr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();io.HMAC=_0;function a3(e,t,r){var n=new _0(e,t);n.update(r);var i=n.digest();return n.clean(),i}io.hmac=a3;io.equal=i3.equal;Object.defineProperty(A0,"__esModule",{value:!0});var Xu=io,Zu=Nr,s3=function(){function e(t,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var o=Xu.hmac(this._hash,n,r);this._hmac=new Xu.HMAC(t,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),Zu.wipe(this._buffer),Zu.wipe(this._counter),this._bufpos=0},e}(),f3=A0.HKDF=s3,ii={},va={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.BrowserRandomSource=void 0;const Qu=65536;class c3{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=Qu)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,Qu)));return r}}Ea.BrowserRandomSource=c3;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.NodeRandomSource=void 0;const u3=Nr;class d3{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Yd<"u"){const t=hi;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,u3.wipe)(r),n}}wa.NodeRandomSource=d3;Object.defineProperty(va,"__esModule",{value:!0});va.SystemRandomSource=void 0;const l3=Ea,h3=wa;class g3{constructor(){if(this.isAvailable=!1,this.name="",this._source=new l3.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new h3.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}va.SystemRandomSource=g3;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=va,r=it,n=Nr;e.defaultRandomSource=new t.SystemRandomSource;function i(c,l=e.defaultRandomSource){return l.randomBytes(c)}e.randomBytes=i;function o(c=e.defaultRandomSource){const l=i(4,c),g=(0,r.readUint32LE)(l);return(0,n.wipe)(l),g}e.randomUint32=o;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(c,l=a,g=e.defaultRandomSource){if(l.length<2)throw new Error("randomString charset is too short");if(l.length>256)throw new Error("randomString charset is too long");let y="";const v=l.length,_=256-256%v;for(;c>0;){const j=i(Math.ceil(c*256/_),g);for(let z=0;z<j.length&&c>0;z++){const Z=j[z];Z<_&&(y+=l.charAt(Z%v),c--)}(0,n.wipe)(j)}return y}e.randomString=s;function f(c,l=a,g=e.defaultRandomSource){const y=Math.ceil(c/(Math.log(l.length)/Math.LN2));return s(y,l,g)}e.randomStringForEntropy=f})(ii);var oo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=it,r=Nr;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function s(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=f[l++],c--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=o(this._temp,this._state,f,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[l++],c--;return this},s.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,g=c/536870912|0,y=c<<3,v=c%64<56?64:128;this._buffer[l]=128;for(var _=l+1;_<v-8;_++)this._buffer[_]=0;t.writeUint32BE(g,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),o(this._temp,this._state,this._buffer,0,v),this._finished=!0}for(var _=0;_<this.digestLength/4;_++)t.writeUint32BE(this._state[_],f,_*4);return this},s.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(f){r.wipe(f.state),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},s}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(s,f,c,l,g){for(;g>=64;){for(var y=f[0],v=f[1],_=f[2],j=f[3],z=f[4],Z=f[5],k=f[6],K=f[7],$=0;$<16;$++){var B=l+$*4;s[$]=t.readUint32BE(c,B)}for(var $=16;$<64;$++){var D=s[$-2],h=(D>>>17|D<<32-17)^(D>>>19|D<<32-19)^D>>>10;D=s[$-15];var A=(D>>>7|D<<32-7)^(D>>>18|D<<32-18)^D>>>3;s[$]=(h+s[$-7]|0)+(A+s[$-16]|0)}for(var $=0;$<64;$++){var h=(((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))+(z&Z^~z&k)|0)+(K+(i[$]+s[$]|0)|0)|0,A=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&v^y&_^v&_)|0;K=k,k=Z,Z=z,z=j+h|0,j=_,_=v,v=y,y=h+A|0}f[0]+=y,f[1]+=v,f[2]+=_,f[3]+=j,f[4]+=z,f[5]+=Z,f[6]+=k,f[7]+=K,l+=64,g-=64}return l}function a(s){var f=new n;f.update(s);var c=f.digest();return f.clean(),c}e.hash=a})(oo);var ec={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=ii,r=Nr;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n($){const B=new Float64Array(16);if($)for(let D=0;D<$.length;D++)B[D]=$[D];return B}const i=new Uint8Array(32);i[0]=9;const o=n([56129,1]);function a($){let B=1;for(let D=0;D<16;D++){let h=$[D]+B+65535;B=Math.floor(h/65536),$[D]=h-B*65536}$[0]+=B-1+37*(B-1)}function s($,B,D){const h=~(D-1);for(let A=0;A<16;A++){const q=h&($[A]^B[A]);$[A]^=q,B[A]^=q}}function f($,B){const D=n(),h=n();for(let A=0;A<16;A++)h[A]=B[A];a(h),a(h),a(h);for(let A=0;A<2;A++){D[0]=h[0]-65517;for(let re=1;re<15;re++)D[re]=h[re]-65535-(D[re-1]>>16&1),D[re-1]&=65535;D[15]=h[15]-32767-(D[14]>>16&1);const q=D[15]>>16&1;D[14]&=65535,s(h,D,1-q)}for(let A=0;A<16;A++)$[2*A]=h[A]&255,$[2*A+1]=h[A]>>8}function c($,B){for(let D=0;D<16;D++)$[D]=B[2*D]+(B[2*D+1]<<8);$[15]&=32767}function l($,B,D){for(let h=0;h<16;h++)$[h]=B[h]+D[h]}function g($,B,D){for(let h=0;h<16;h++)$[h]=B[h]-D[h]}function y($,B,D){let h,A,q=0,re=0,fe=0,T=0,N=0,p=0,x=0,M=0,H=0,G=0,L=0,U=0,te=0,R=0,F=0,Y=0,m=0,W=0,S=0,E=0,w=0,u=0,O=0,X=0,se=0,de=0,ve=0,Me=0,Ve=0,Qe=0,ie=0,ze=D[0],Fe=D[1],je=D[2],Le=D[3],J=D[4],ee=D[5],ce=D[6],ge=D[7],me=D[8],we=D[9],Ee=D[10],_e=D[11],Pe=D[12],Re=D[13],$e=D[14],Xe=D[15];h=B[0],q+=h*ze,re+=h*Fe,fe+=h*je,T+=h*Le,N+=h*J,p+=h*ee,x+=h*ce,M+=h*ge,H+=h*me,G+=h*we,L+=h*Ee,U+=h*_e,te+=h*Pe,R+=h*Re,F+=h*$e,Y+=h*Xe,h=B[1],re+=h*ze,fe+=h*Fe,T+=h*je,N+=h*Le,p+=h*J,x+=h*ee,M+=h*ce,H+=h*ge,G+=h*me,L+=h*we,U+=h*Ee,te+=h*_e,R+=h*Pe,F+=h*Re,Y+=h*$e,m+=h*Xe,h=B[2],fe+=h*ze,T+=h*Fe,N+=h*je,p+=h*Le,x+=h*J,M+=h*ee,H+=h*ce,G+=h*ge,L+=h*me,U+=h*we,te+=h*Ee,R+=h*_e,F+=h*Pe,Y+=h*Re,m+=h*$e,W+=h*Xe,h=B[3],T+=h*ze,N+=h*Fe,p+=h*je,x+=h*Le,M+=h*J,H+=h*ee,G+=h*ce,L+=h*ge,U+=h*me,te+=h*we,R+=h*Ee,F+=h*_e,Y+=h*Pe,m+=h*Re,W+=h*$e,S+=h*Xe,h=B[4],N+=h*ze,p+=h*Fe,x+=h*je,M+=h*Le,H+=h*J,G+=h*ee,L+=h*ce,U+=h*ge,te+=h*me,R+=h*we,F+=h*Ee,Y+=h*_e,m+=h*Pe,W+=h*Re,S+=h*$e,E+=h*Xe,h=B[5],p+=h*ze,x+=h*Fe,M+=h*je,H+=h*Le,G+=h*J,L+=h*ee,U+=h*ce,te+=h*ge,R+=h*me,F+=h*we,Y+=h*Ee,m+=h*_e,W+=h*Pe,S+=h*Re,E+=h*$e,w+=h*Xe,h=B[6],x+=h*ze,M+=h*Fe,H+=h*je,G+=h*Le,L+=h*J,U+=h*ee,te+=h*ce,R+=h*ge,F+=h*me,Y+=h*we,m+=h*Ee,W+=h*_e,S+=h*Pe,E+=h*Re,w+=h*$e,u+=h*Xe,h=B[7],M+=h*ze,H+=h*Fe,G+=h*je,L+=h*Le,U+=h*J,te+=h*ee,R+=h*ce,F+=h*ge,Y+=h*me,m+=h*we,W+=h*Ee,S+=h*_e,E+=h*Pe,w+=h*Re,u+=h*$e,O+=h*Xe,h=B[8],H+=h*ze,G+=h*Fe,L+=h*je,U+=h*Le,te+=h*J,R+=h*ee,F+=h*ce,Y+=h*ge,m+=h*me,W+=h*we,S+=h*Ee,E+=h*_e,w+=h*Pe,u+=h*Re,O+=h*$e,X+=h*Xe,h=B[9],G+=h*ze,L+=h*Fe,U+=h*je,te+=h*Le,R+=h*J,F+=h*ee,Y+=h*ce,m+=h*ge,W+=h*me,S+=h*we,E+=h*Ee,w+=h*_e,u+=h*Pe,O+=h*Re,X+=h*$e,se+=h*Xe,h=B[10],L+=h*ze,U+=h*Fe,te+=h*je,R+=h*Le,F+=h*J,Y+=h*ee,m+=h*ce,W+=h*ge,S+=h*me,E+=h*we,w+=h*Ee,u+=h*_e,O+=h*Pe,X+=h*Re,se+=h*$e,de+=h*Xe,h=B[11],U+=h*ze,te+=h*Fe,R+=h*je,F+=h*Le,Y+=h*J,m+=h*ee,W+=h*ce,S+=h*ge,E+=h*me,w+=h*we,u+=h*Ee,O+=h*_e,X+=h*Pe,se+=h*Re,de+=h*$e,ve+=h*Xe,h=B[12],te+=h*ze,R+=h*Fe,F+=h*je,Y+=h*Le,m+=h*J,W+=h*ee,S+=h*ce,E+=h*ge,w+=h*me,u+=h*we,O+=h*Ee,X+=h*_e,se+=h*Pe,de+=h*Re,ve+=h*$e,Me+=h*Xe,h=B[13],R+=h*ze,F+=h*Fe,Y+=h*je,m+=h*Le,W+=h*J,S+=h*ee,E+=h*ce,w+=h*ge,u+=h*me,O+=h*we,X+=h*Ee,se+=h*_e,de+=h*Pe,ve+=h*Re,Me+=h*$e,Ve+=h*Xe,h=B[14],F+=h*ze,Y+=h*Fe,m+=h*je,W+=h*Le,S+=h*J,E+=h*ee,w+=h*ce,u+=h*ge,O+=h*me,X+=h*we,se+=h*Ee,de+=h*_e,ve+=h*Pe,Me+=h*Re,Ve+=h*$e,Qe+=h*Xe,h=B[15],Y+=h*ze,m+=h*Fe,W+=h*je,S+=h*Le,E+=h*J,w+=h*ee,u+=h*ce,O+=h*ge,X+=h*me,se+=h*we,de+=h*Ee,ve+=h*_e,Me+=h*Pe,Ve+=h*Re,Qe+=h*$e,ie+=h*Xe,q+=38*m,re+=38*W,fe+=38*S,T+=38*E,N+=38*w,p+=38*u,x+=38*O,M+=38*X,H+=38*se,G+=38*de,L+=38*ve,U+=38*Me,te+=38*Ve,R+=38*Qe,F+=38*ie,A=1,h=q+A+65535,A=Math.floor(h/65536),q=h-A*65536,h=re+A+65535,A=Math.floor(h/65536),re=h-A*65536,h=fe+A+65535,A=Math.floor(h/65536),fe=h-A*65536,h=T+A+65535,A=Math.floor(h/65536),T=h-A*65536,h=N+A+65535,A=Math.floor(h/65536),N=h-A*65536,h=p+A+65535,A=Math.floor(h/65536),p=h-A*65536,h=x+A+65535,A=Math.floor(h/65536),x=h-A*65536,h=M+A+65535,A=Math.floor(h/65536),M=h-A*65536,h=H+A+65535,A=Math.floor(h/65536),H=h-A*65536,h=G+A+65535,A=Math.floor(h/65536),G=h-A*65536,h=L+A+65535,A=Math.floor(h/65536),L=h-A*65536,h=U+A+65535,A=Math.floor(h/65536),U=h-A*65536,h=te+A+65535,A=Math.floor(h/65536),te=h-A*65536,h=R+A+65535,A=Math.floor(h/65536),R=h-A*65536,h=F+A+65535,A=Math.floor(h/65536),F=h-A*65536,h=Y+A+65535,A=Math.floor(h/65536),Y=h-A*65536,q+=A-1+37*(A-1),A=1,h=q+A+65535,A=Math.floor(h/65536),q=h-A*65536,h=re+A+65535,A=Math.floor(h/65536),re=h-A*65536,h=fe+A+65535,A=Math.floor(h/65536),fe=h-A*65536,h=T+A+65535,A=Math.floor(h/65536),T=h-A*65536,h=N+A+65535,A=Math.floor(h/65536),N=h-A*65536,h=p+A+65535,A=Math.floor(h/65536),p=h-A*65536,h=x+A+65535,A=Math.floor(h/65536),x=h-A*65536,h=M+A+65535,A=Math.floor(h/65536),M=h-A*65536,h=H+A+65535,A=Math.floor(h/65536),H=h-A*65536,h=G+A+65535,A=Math.floor(h/65536),G=h-A*65536,h=L+A+65535,A=Math.floor(h/65536),L=h-A*65536,h=U+A+65535,A=Math.floor(h/65536),U=h-A*65536,h=te+A+65535,A=Math.floor(h/65536),te=h-A*65536,h=R+A+65535,A=Math.floor(h/65536),R=h-A*65536,h=F+A+65535,A=Math.floor(h/65536),F=h-A*65536,h=Y+A+65535,A=Math.floor(h/65536),Y=h-A*65536,q+=A-1+37*(A-1),$[0]=q,$[1]=re,$[2]=fe,$[3]=T,$[4]=N,$[5]=p,$[6]=x,$[7]=M,$[8]=H,$[9]=G,$[10]=L,$[11]=U,$[12]=te,$[13]=R,$[14]=F,$[15]=Y}function v($,B){y($,B,B)}function _($,B){const D=n();for(let h=0;h<16;h++)D[h]=B[h];for(let h=253;h>=0;h--)v(D,D),h!==2&&h!==4&&y(D,D,B);for(let h=0;h<16;h++)$[h]=D[h]}function j($,B){const D=new Uint8Array(32),h=new Float64Array(80),A=n(),q=n(),re=n(),fe=n(),T=n(),N=n();for(let H=0;H<31;H++)D[H]=$[H];D[31]=$[31]&127|64,D[0]&=248,c(h,B);for(let H=0;H<16;H++)q[H]=h[H];A[0]=fe[0]=1;for(let H=254;H>=0;--H){const G=D[H>>>3]>>>(H&7)&1;s(A,q,G),s(re,fe,G),l(T,A,re),g(A,A,re),l(re,q,fe),g(q,q,fe),v(fe,T),v(N,A),y(A,re,A),y(re,q,T),l(T,A,re),g(A,A,re),v(q,A),g(re,fe,N),y(A,re,o),l(A,A,fe),y(re,re,A),y(A,fe,N),y(fe,q,h),v(q,T),s(A,q,G),s(re,fe,G)}for(let H=0;H<16;H++)h[H+16]=A[H],h[H+32]=re[H],h[H+48]=q[H],h[H+64]=fe[H];const p=h.subarray(32),x=h.subarray(16);_(p,p),y(x,x,p);const M=new Uint8Array(32);return f(M,x),M}e.scalarMult=j;function z($){return j($,i)}e.scalarMultBase=z;function Z($){if($.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const B=new Uint8Array($);return{publicKey:z(B),secretKey:B}}e.generateKeyPairFromSeed=Z;function k($){const B=(0,t.randomBytes)(32,$),D=Z(B);return(0,r.wipe)(B),D}e.generateKeyPair=k;function K($,B,D=!1){if($.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(B.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const h=j($,B);if(D){let A=0;for(let q=0;q<h.length;q++)A|=h[q];if(A===0)throw new Error("X25519: invalid shared key")}return h}e.sharedKey=K})(ec);function P0(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Fo(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const r=P0(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function p3(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,f=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function g(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var j=0,z=0,Z=0,k=_.length;Z!==k&&_[Z]===0;)Z++,j++;for(var K=(k-Z)*l+1>>>0,$=new Uint8Array(K);Z!==k;){for(var B=_[Z],D=0,h=K-1;(B!==0||D<z)&&h!==-1;h--,D++)B+=256*$[h]>>>0,$[h]=B%s>>>0,B=B/s>>>0;if(B!==0)throw new Error("Non-zero carry");z=D,Z++}for(var A=K-z;A!==K&&$[A]===0;)A++;for(var q=f.repeat(j);A<K;++A)q+=e.charAt($[A]);return q}function y(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var j=0;if(_[j]!==" "){for(var z=0,Z=0;_[j]===f;)z++,j++;for(var k=(_.length-j)*c+1>>>0,K=new Uint8Array(k);_[j];){var $=r[_.charCodeAt(j)];if($===255)return;for(var B=0,D=k-1;($!==0||B<Z)&&D!==-1;D--,B++)$+=s*K[D]>>>0,K[D]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");Z=B,j++}if(_[j]!==" "){for(var h=k-Z;h!==k&&K[h]===0;)h++;for(var A=new Uint8Array(z+(k-h)),q=z;h!==k;)A[q++]=K[h++];return A}}}function v(_){var j=y(_);if(j)return j;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:y,decode:v}}var m3=p3,b3=m3;const y3=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},v3=e=>new TextEncoder().encode(e),E3=e=>new TextDecoder().decode(e);class w3{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class x3{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return I0(this,t)}}class S3{constructor(t){this.decoders=t}or(t){return I0(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const I0=(e,t)=>new S3({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class A3{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new w3(t,r,n),this.decoder=new x3(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const xa=({name:e,prefix:t,encode:r,decode:n})=>new A3(e,t,r,n),ao=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=b3(r,t);return xa({prefix:e,name:t,encode:n,decode:o=>y3(i(o))})},_3=(e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;e[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let s=0,f=0,c=0;for(let l=0;l<o;++l){const g=i[e[l]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|g,s+=r,s>=8&&(s-=8,a[c++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},P3=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",a=0,s=0;for(let f=0;f<e.length;++f)for(s=s<<8|e[f],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},ar=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>xa({prefix:t,name:e,encode(i){return P3(i,n,r)},decode(i){return _3(i,n,r,e)}}),I3=xa({prefix:"\0",name:"identity",encode:e=>E3(e),decode:e=>v3(e)}),T3=Object.freeze(Object.defineProperty({__proto__:null,identity:I3},Symbol.toStringTag,{value:"Module"})),O3=ar({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),D3=Object.freeze(Object.defineProperty({__proto__:null,base2:O3},Symbol.toStringTag,{value:"Module"})),B3=ar({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),C3=Object.freeze(Object.defineProperty({__proto__:null,base8:B3},Symbol.toStringTag,{value:"Module"})),N3=ao({prefix:"9",name:"base10",alphabet:"0123456789"}),R3=Object.freeze(Object.defineProperty({__proto__:null,base10:N3},Symbol.toStringTag,{value:"Module"})),F3=ar({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),L3=ar({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$3=Object.freeze(Object.defineProperty({__proto__:null,base16:F3,base16upper:L3},Symbol.toStringTag,{value:"Module"})),M3=ar({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k3=ar({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U3=ar({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),j3=ar({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H3=ar({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),G3=ar({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),z3=ar({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V3=ar({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q3=ar({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),K3=Object.freeze(Object.defineProperty({__proto__:null,base32:M3,base32hex:H3,base32hexpad:z3,base32hexpadupper:V3,base32hexupper:G3,base32pad:U3,base32padupper:j3,base32upper:k3,base32z:q3},Symbol.toStringTag,{value:"Module"})),W3=ao({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),J3=ao({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Y3=Object.freeze(Object.defineProperty({__proto__:null,base36:W3,base36upper:J3},Symbol.toStringTag,{value:"Module"})),X3=ao({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Z3=ao({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Q3=Object.freeze(Object.defineProperty({__proto__:null,base58btc:X3,base58flickr:Z3},Symbol.toStringTag,{value:"Module"})),e6=ar({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t6=ar({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),r6=ar({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),n6=ar({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),i6=Object.freeze(Object.defineProperty({__proto__:null,base64:e6,base64pad:t6,base64url:r6,base64urlpad:n6},Symbol.toStringTag,{value:"Module"})),T0=Array.from(""),o6=T0.reduce((e,t,r)=>(e[r]=t,e),[]),a6=T0.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function s6(e){return e.reduce((t,r)=>(t+=o6[r],t),"")}function f6(e){const t=[];for(const r of e){const n=a6[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const c6=xa({prefix:"",name:"base256emoji",encode:s6,decode:f6}),u6=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:c6},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ed={...T3,...D3,...C3,...R3,...$3,...K3,...Y3,...Q3,...i6,...u6};function O0(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const td=O0("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Ss=O0("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=P0(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),D0={utf8:td,"utf-8":td,hex:ed.base16,latin1:Ss,ascii:Ss,binary:Ss,...ed};function Qt(e,t="utf8"){const r=D0[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function nr(e,t="utf8"){const r=D0[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var d6={},B0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=it,r=Nr;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function s(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},s.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=f[l++],c--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[l++],c--;return this},s.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,g=c/536870912|0,y=c<<3,v=c%128<112?128:256;this._buffer[l]=128;for(var _=l+1;_<v-8;_++)this._buffer[_]=0;t.writeUint32BE(g,this._buffer,v-8),t.writeUint32BE(y,this._buffer,v-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,v),this._finished=!0}for(var _=0;_<this.digestLength/8;_++)t.writeUint32BE(this._stateHi[_],f,_*8),t.writeUint32BE(this._stateLo[_],f,_*8+4);return this},s.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(f){r.wipe(f.stateHi),r.wipe(f.stateLo),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},s}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(s,f,c,l,g,y,v){for(var _=c[0],j=c[1],z=c[2],Z=c[3],k=c[4],K=c[5],$=c[6],B=c[7],D=l[0],h=l[1],A=l[2],q=l[3],re=l[4],fe=l[5],T=l[6],N=l[7],p,x,M,H,G,L,U,te;v>=128;){for(var R=0;R<16;R++){var F=8*R+y;s[R]=t.readUint32BE(g,F),f[R]=t.readUint32BE(g,F+4)}for(var R=0;R<80;R++){var Y=_,m=j,W=z,S=Z,E=k,w=K,u=$,O=B,X=D,se=h,de=A,ve=q,Me=re,Ve=fe,Qe=T,ie=N;if(p=B,x=N,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=(k>>>14|re<<32-14)^(k>>>18|re<<32-18)^(re>>>41-32|k<<32-(41-32)),x=(re>>>14|k<<32-14)^(re>>>18|k<<32-18)^(k>>>41-32|re<<32-(41-32)),G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,p=k&K^~k&$,x=re&fe^~re&T,G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,p=i[R*2],x=i[R*2+1],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,p=s[R%16],x=f[R%16],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,M=U&65535|te<<16,H=G&65535|L<<16,p=M,x=H,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=(_>>>28|D<<32-28)^(D>>>34-32|_<<32-(34-32))^(D>>>39-32|_<<32-(39-32)),x=(D>>>28|_<<32-28)^(_>>>34-32|D<<32-(34-32))^(_>>>39-32|D<<32-(39-32)),G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,p=_&j^_&z^j&z,x=D&h^D&A^h&A,G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,O=U&65535|te<<16,ie=G&65535|L<<16,p=S,x=ve,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=M,x=H,G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,S=U&65535|te<<16,ve=G&65535|L<<16,j=Y,z=m,Z=W,k=S,K=E,$=w,B=u,_=O,h=X,A=se,q=de,re=ve,fe=Me,T=Ve,N=Qe,D=ie,R%16===15)for(var F=0;F<16;F++)p=s[F],x=f[F],G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=s[(F+9)%16],x=f[(F+9)%16],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,M=s[(F+1)%16],H=f[(F+1)%16],p=(M>>>1|H<<32-1)^(M>>>8|H<<32-8)^M>>>7,x=(H>>>1|M<<32-1)^(H>>>8|M<<32-8)^(H>>>7|M<<32-7),G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,M=s[(F+14)%16],H=f[(F+14)%16],p=(M>>>19|H<<32-19)^(H>>>61-32|M<<32-(61-32))^M>>>6,x=(H>>>19|M<<32-19)^(M>>>61-32|H<<32-(61-32))^(H>>>6|M<<32-6),G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,s[F]=U&65535|te<<16,f[F]=G&65535|L<<16}p=_,x=D,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[0],x=l[0],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[0]=_=U&65535|te<<16,l[0]=D=G&65535|L<<16,p=j,x=h,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[1],x=l[1],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[1]=j=U&65535|te<<16,l[1]=h=G&65535|L<<16,p=z,x=A,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[2],x=l[2],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[2]=z=U&65535|te<<16,l[2]=A=G&65535|L<<16,p=Z,x=q,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[3],x=l[3],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[3]=Z=U&65535|te<<16,l[3]=q=G&65535|L<<16,p=k,x=re,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[4],x=l[4],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[4]=k=U&65535|te<<16,l[4]=re=G&65535|L<<16,p=K,x=fe,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[5],x=l[5],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[5]=K=U&65535|te<<16,l[5]=fe=G&65535|L<<16,p=$,x=T,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[6],x=l[6],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[6]=$=U&65535|te<<16,l[6]=T=G&65535|L<<16,p=B,x=N,G=x&65535,L=x>>>16,U=p&65535,te=p>>>16,p=c[7],x=l[7],G+=x&65535,L+=x>>>16,U+=p&65535,te+=p>>>16,L+=G>>>16,U+=L>>>16,te+=U>>>16,c[7]=B=U&65535|te<<16,l[7]=N=G&65535|L<<16,y+=128,v-=128}return y}function a(s){var f=new n;f.update(s);var c=f.digest();return f.clean(),c}e.hash=a})(B0);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=ii,r=B0,n=Nr;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(S){const E=new Float64Array(16);if(S)for(let w=0;w<S.length;w++)E[w]=S[w];return E}const o=new Uint8Array(32);o[0]=9;const a=i(),s=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(S,E){for(let w=0;w<16;w++)S[w]=E[w]|0}function _(S){let E=1;for(let w=0;w<16;w++){let u=S[w]+E+65535;E=Math.floor(u/65536),S[w]=u-E*65536}S[0]+=E-1+37*(E-1)}function j(S,E,w){const u=~(w-1);for(let O=0;O<16;O++){const X=u&(S[O]^E[O]);S[O]^=X,E[O]^=X}}function z(S,E){const w=i(),u=i();for(let O=0;O<16;O++)u[O]=E[O];_(u),_(u),_(u);for(let O=0;O<2;O++){w[0]=u[0]-65517;for(let se=1;se<15;se++)w[se]=u[se]-65535-(w[se-1]>>16&1),w[se-1]&=65535;w[15]=u[15]-32767-(w[14]>>16&1);const X=w[15]>>16&1;w[14]&=65535,j(u,w,1-X)}for(let O=0;O<16;O++)S[2*O]=u[O]&255,S[2*O+1]=u[O]>>8}function Z(S,E){let w=0;for(let u=0;u<32;u++)w|=S[u]^E[u];return(1&w-1>>>8)-1}function k(S,E){const w=new Uint8Array(32),u=new Uint8Array(32);return z(w,S),z(u,E),Z(w,u)}function K(S){const E=new Uint8Array(32);return z(E,S),E[0]&1}function $(S,E){for(let w=0;w<16;w++)S[w]=E[2*w]+(E[2*w+1]<<8);S[15]&=32767}function B(S,E,w){for(let u=0;u<16;u++)S[u]=E[u]+w[u]}function D(S,E,w){for(let u=0;u<16;u++)S[u]=E[u]-w[u]}function h(S,E,w){let u,O,X=0,se=0,de=0,ve=0,Me=0,Ve=0,Qe=0,ie=0,ze=0,Fe=0,je=0,Le=0,J=0,ee=0,ce=0,ge=0,me=0,we=0,Ee=0,_e=0,Pe=0,Re=0,$e=0,Xe=0,It=0,Lt=0,St=0,kt=0,Ir=0,jr=0,cn=0,$t=w[0],yt=w[1],vt=w[2],xt=w[3],Dt=w[4],Bt=w[5],Nt=w[6],Mt=w[7],ut=w[8],Rt=w[9],b=w[10],I=w[11],P=w[12],d=w[13],C=w[14],Q=w[15];u=E[0],X+=u*$t,se+=u*yt,de+=u*vt,ve+=u*xt,Me+=u*Dt,Ve+=u*Bt,Qe+=u*Nt,ie+=u*Mt,ze+=u*ut,Fe+=u*Rt,je+=u*b,Le+=u*I,J+=u*P,ee+=u*d,ce+=u*C,ge+=u*Q,u=E[1],se+=u*$t,de+=u*yt,ve+=u*vt,Me+=u*xt,Ve+=u*Dt,Qe+=u*Bt,ie+=u*Nt,ze+=u*Mt,Fe+=u*ut,je+=u*Rt,Le+=u*b,J+=u*I,ee+=u*P,ce+=u*d,ge+=u*C,me+=u*Q,u=E[2],de+=u*$t,ve+=u*yt,Me+=u*vt,Ve+=u*xt,Qe+=u*Dt,ie+=u*Bt,ze+=u*Nt,Fe+=u*Mt,je+=u*ut,Le+=u*Rt,J+=u*b,ee+=u*I,ce+=u*P,ge+=u*d,me+=u*C,we+=u*Q,u=E[3],ve+=u*$t,Me+=u*yt,Ve+=u*vt,Qe+=u*xt,ie+=u*Dt,ze+=u*Bt,Fe+=u*Nt,je+=u*Mt,Le+=u*ut,J+=u*Rt,ee+=u*b,ce+=u*I,ge+=u*P,me+=u*d,we+=u*C,Ee+=u*Q,u=E[4],Me+=u*$t,Ve+=u*yt,Qe+=u*vt,ie+=u*xt,ze+=u*Dt,Fe+=u*Bt,je+=u*Nt,Le+=u*Mt,J+=u*ut,ee+=u*Rt,ce+=u*b,ge+=u*I,me+=u*P,we+=u*d,Ee+=u*C,_e+=u*Q,u=E[5],Ve+=u*$t,Qe+=u*yt,ie+=u*vt,ze+=u*xt,Fe+=u*Dt,je+=u*Bt,Le+=u*Nt,J+=u*Mt,ee+=u*ut,ce+=u*Rt,ge+=u*b,me+=u*I,we+=u*P,Ee+=u*d,_e+=u*C,Pe+=u*Q,u=E[6],Qe+=u*$t,ie+=u*yt,ze+=u*vt,Fe+=u*xt,je+=u*Dt,Le+=u*Bt,J+=u*Nt,ee+=u*Mt,ce+=u*ut,ge+=u*Rt,me+=u*b,we+=u*I,Ee+=u*P,_e+=u*d,Pe+=u*C,Re+=u*Q,u=E[7],ie+=u*$t,ze+=u*yt,Fe+=u*vt,je+=u*xt,Le+=u*Dt,J+=u*Bt,ee+=u*Nt,ce+=u*Mt,ge+=u*ut,me+=u*Rt,we+=u*b,Ee+=u*I,_e+=u*P,Pe+=u*d,Re+=u*C,$e+=u*Q,u=E[8],ze+=u*$t,Fe+=u*yt,je+=u*vt,Le+=u*xt,J+=u*Dt,ee+=u*Bt,ce+=u*Nt,ge+=u*Mt,me+=u*ut,we+=u*Rt,Ee+=u*b,_e+=u*I,Pe+=u*P,Re+=u*d,$e+=u*C,Xe+=u*Q,u=E[9],Fe+=u*$t,je+=u*yt,Le+=u*vt,J+=u*xt,ee+=u*Dt,ce+=u*Bt,ge+=u*Nt,me+=u*Mt,we+=u*ut,Ee+=u*Rt,_e+=u*b,Pe+=u*I,Re+=u*P,$e+=u*d,Xe+=u*C,It+=u*Q,u=E[10],je+=u*$t,Le+=u*yt,J+=u*vt,ee+=u*xt,ce+=u*Dt,ge+=u*Bt,me+=u*Nt,we+=u*Mt,Ee+=u*ut,_e+=u*Rt,Pe+=u*b,Re+=u*I,$e+=u*P,Xe+=u*d,It+=u*C,Lt+=u*Q,u=E[11],Le+=u*$t,J+=u*yt,ee+=u*vt,ce+=u*xt,ge+=u*Dt,me+=u*Bt,we+=u*Nt,Ee+=u*Mt,_e+=u*ut,Pe+=u*Rt,Re+=u*b,$e+=u*I,Xe+=u*P,It+=u*d,Lt+=u*C,St+=u*Q,u=E[12],J+=u*$t,ee+=u*yt,ce+=u*vt,ge+=u*xt,me+=u*Dt,we+=u*Bt,Ee+=u*Nt,_e+=u*Mt,Pe+=u*ut,Re+=u*Rt,$e+=u*b,Xe+=u*I,It+=u*P,Lt+=u*d,St+=u*C,kt+=u*Q,u=E[13],ee+=u*$t,ce+=u*yt,ge+=u*vt,me+=u*xt,we+=u*Dt,Ee+=u*Bt,_e+=u*Nt,Pe+=u*Mt,Re+=u*ut,$e+=u*Rt,Xe+=u*b,It+=u*I,Lt+=u*P,St+=u*d,kt+=u*C,Ir+=u*Q,u=E[14],ce+=u*$t,ge+=u*yt,me+=u*vt,we+=u*xt,Ee+=u*Dt,_e+=u*Bt,Pe+=u*Nt,Re+=u*Mt,$e+=u*ut,Xe+=u*Rt,It+=u*b,Lt+=u*I,St+=u*P,kt+=u*d,Ir+=u*C,jr+=u*Q,u=E[15],ge+=u*$t,me+=u*yt,we+=u*vt,Ee+=u*xt,_e+=u*Dt,Pe+=u*Bt,Re+=u*Nt,$e+=u*Mt,Xe+=u*ut,It+=u*Rt,Lt+=u*b,St+=u*I,kt+=u*P,Ir+=u*d,jr+=u*C,cn+=u*Q,X+=38*me,se+=38*we,de+=38*Ee,ve+=38*_e,Me+=38*Pe,Ve+=38*Re,Qe+=38*$e,ie+=38*Xe,ze+=38*It,Fe+=38*Lt,je+=38*St,Le+=38*kt,J+=38*Ir,ee+=38*jr,ce+=38*cn,O=1,u=X+O+65535,O=Math.floor(u/65536),X=u-O*65536,u=se+O+65535,O=Math.floor(u/65536),se=u-O*65536,u=de+O+65535,O=Math.floor(u/65536),de=u-O*65536,u=ve+O+65535,O=Math.floor(u/65536),ve=u-O*65536,u=Me+O+65535,O=Math.floor(u/65536),Me=u-O*65536,u=Ve+O+65535,O=Math.floor(u/65536),Ve=u-O*65536,u=Qe+O+65535,O=Math.floor(u/65536),Qe=u-O*65536,u=ie+O+65535,O=Math.floor(u/65536),ie=u-O*65536,u=ze+O+65535,O=Math.floor(u/65536),ze=u-O*65536,u=Fe+O+65535,O=Math.floor(u/65536),Fe=u-O*65536,u=je+O+65535,O=Math.floor(u/65536),je=u-O*65536,u=Le+O+65535,O=Math.floor(u/65536),Le=u-O*65536,u=J+O+65535,O=Math.floor(u/65536),J=u-O*65536,u=ee+O+65535,O=Math.floor(u/65536),ee=u-O*65536,u=ce+O+65535,O=Math.floor(u/65536),ce=u-O*65536,u=ge+O+65535,O=Math.floor(u/65536),ge=u-O*65536,X+=O-1+37*(O-1),O=1,u=X+O+65535,O=Math.floor(u/65536),X=u-O*65536,u=se+O+65535,O=Math.floor(u/65536),se=u-O*65536,u=de+O+65535,O=Math.floor(u/65536),de=u-O*65536,u=ve+O+65535,O=Math.floor(u/65536),ve=u-O*65536,u=Me+O+65535,O=Math.floor(u/65536),Me=u-O*65536,u=Ve+O+65535,O=Math.floor(u/65536),Ve=u-O*65536,u=Qe+O+65535,O=Math.floor(u/65536),Qe=u-O*65536,u=ie+O+65535,O=Math.floor(u/65536),ie=u-O*65536,u=ze+O+65535,O=Math.floor(u/65536),ze=u-O*65536,u=Fe+O+65535,O=Math.floor(u/65536),Fe=u-O*65536,u=je+O+65535,O=Math.floor(u/65536),je=u-O*65536,u=Le+O+65535,O=Math.floor(u/65536),Le=u-O*65536,u=J+O+65535,O=Math.floor(u/65536),J=u-O*65536,u=ee+O+65535,O=Math.floor(u/65536),ee=u-O*65536,u=ce+O+65535,O=Math.floor(u/65536),ce=u-O*65536,u=ge+O+65535,O=Math.floor(u/65536),ge=u-O*65536,X+=O-1+37*(O-1),S[0]=X,S[1]=se,S[2]=de,S[3]=ve,S[4]=Me,S[5]=Ve,S[6]=Qe,S[7]=ie,S[8]=ze,S[9]=Fe,S[10]=je,S[11]=Le,S[12]=J,S[13]=ee,S[14]=ce,S[15]=ge}function A(S,E){h(S,E,E)}function q(S,E){const w=i();let u;for(u=0;u<16;u++)w[u]=E[u];for(u=253;u>=0;u--)A(w,w),u!==2&&u!==4&&h(w,w,E);for(u=0;u<16;u++)S[u]=w[u]}function re(S,E){const w=i();let u;for(u=0;u<16;u++)w[u]=E[u];for(u=250;u>=0;u--)A(w,w),u!==1&&h(w,w,E);for(u=0;u<16;u++)S[u]=w[u]}function fe(S,E){const w=i(),u=i(),O=i(),X=i(),se=i(),de=i(),ve=i(),Me=i(),Ve=i();D(w,S[1],S[0]),D(Ve,E[1],E[0]),h(w,w,Ve),B(u,S[0],S[1]),B(Ve,E[0],E[1]),h(u,u,Ve),h(O,S[3],E[3]),h(O,O,c),h(X,S[2],E[2]),B(X,X,X),D(se,u,w),D(de,X,O),B(ve,X,O),B(Me,u,w),h(S[0],se,de),h(S[1],Me,ve),h(S[2],ve,de),h(S[3],se,Me)}function T(S,E,w){for(let u=0;u<4;u++)j(S[u],E[u],w)}function N(S,E){const w=i(),u=i(),O=i();q(O,E[2]),h(w,E[0],O),h(u,E[1],O),z(S,u),S[31]^=K(w)<<7}function p(S,E,w){v(S[0],a),v(S[1],s),v(S[2],s),v(S[3],a);for(let u=255;u>=0;--u){const O=w[u/8|0]>>(u&7)&1;T(S,E,O),fe(E,S),fe(S,S),T(S,E,O)}}function x(S,E){const w=[i(),i(),i(),i()];v(w[0],l),v(w[1],g),v(w[2],s),h(w[3],l,g),p(S,w,E)}function M(S){if(S.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const E=(0,r.hash)(S);E[0]&=248,E[31]&=127,E[31]|=64;const w=new Uint8Array(32),u=[i(),i(),i(),i()];x(u,E),N(w,u);const O=new Uint8Array(64);return O.set(S),O.set(w,32),{publicKey:w,secretKey:O}}e.generateKeyPairFromSeed=M;function H(S){const E=(0,t.randomBytes)(32,S),w=M(E);return(0,n.wipe)(E),w}e.generateKeyPair=H;function G(S){if(S.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(S.subarray(32))}e.extractPublicKeyFromSecretKey=G;const L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function U(S,E){let w,u,O,X;for(u=63;u>=32;--u){for(w=0,O=u-32,X=u-12;O<X;++O)E[O]+=w-16*E[u]*L[O-(u-32)],w=Math.floor((E[O]+128)/256),E[O]-=w*256;E[O]+=w,E[u]=0}for(w=0,O=0;O<32;O++)E[O]+=w-(E[31]>>4)*L[O],w=E[O]>>8,E[O]&=255;for(O=0;O<32;O++)E[O]-=w*L[O];for(u=0;u<32;u++)E[u+1]+=E[u]>>8,S[u]=E[u]&255}function te(S){const E=new Float64Array(64);for(let w=0;w<64;w++)E[w]=S[w];for(let w=0;w<64;w++)S[w]=0;U(S,E)}function R(S,E){const w=new Float64Array(64),u=[i(),i(),i(),i()],O=(0,r.hash)(S.subarray(0,32));O[0]&=248,O[31]&=127,O[31]|=64;const X=new Uint8Array(64);X.set(O.subarray(32),32);const se=new r.SHA512;se.update(X.subarray(32)),se.update(E);const de=se.digest();se.clean(),te(de),x(u,de),N(X,u),se.reset(),se.update(X.subarray(0,32)),se.update(S.subarray(32)),se.update(E);const ve=se.digest();te(ve);for(let Me=0;Me<32;Me++)w[Me]=de[Me];for(let Me=0;Me<32;Me++)for(let Ve=0;Ve<32;Ve++)w[Me+Ve]+=ve[Me]*O[Ve];return U(X.subarray(32),w),X}e.sign=R;function F(S,E){const w=i(),u=i(),O=i(),X=i(),se=i(),de=i(),ve=i();return v(S[2],s),$(S[1],E),A(O,S[1]),h(X,O,f),D(O,O,S[2]),B(X,S[2],X),A(se,X),A(de,se),h(ve,de,se),h(w,ve,O),h(w,w,X),re(w,w),h(w,w,O),h(w,w,X),h(w,w,X),h(S[0],w,X),A(u,S[0]),h(u,u,X),k(u,O)&&h(S[0],S[0],y),A(u,S[0]),h(u,u,X),k(u,O)?-1:(K(S[0])===E[31]>>7&&D(S[0],a,S[0]),h(S[3],S[0],S[1]),0)}function Y(S,E,w){const u=new Uint8Array(32),O=[i(),i(),i(),i()],X=[i(),i(),i(),i()];if(w.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(F(X,S))return!1;const se=new r.SHA512;se.update(w.subarray(0,32)),se.update(S),se.update(E);const de=se.digest();return te(de),p(O,X,de),x(X,w.subarray(32)),fe(O,X),N(u,O),!Z(w,u)}e.verify=Y;function m(S){let E=[i(),i(),i(),i()];if(F(E,S))throw new Error("Ed25519: invalid public key");let w=i(),u=i(),O=E[1];B(w,s,O),D(u,s,O),q(u,u),h(w,w,u);let X=new Uint8Array(32);return z(X,w),X}e.convertPublicKeyToX25519=m;function W(S){const E=(0,r.hash)(S.subarray(0,32));E[0]&=248,E[31]&=127,E[31]|=64;const w=new Uint8Array(E.subarray(0,32));return(0,n.wipe)(E),w}e.convertSecretKeyToX25519=W})(d6);const NA="EdDSA",RA="JWT",Ko=".",Sa="base64url",C0="utf8",N0="utf8",l6=":",h6="did",g6="key",rd="base58btc",p6="z",m6="K36",FA=32,b6=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),y6=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function v6(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return y6(e)}catch{return e}}function E6(e){return typeof e=="string"?e:b6(e)||""}function nd(e){return v6(nr(Qt(e,Sa),C0))}function Wo(e){return nr(Qt(E6(e),C0),Sa)}function LA(e){const t=Qt(m6,rd),r=p6+nr(Fo([t,e]),rd);return[h6,g6,r].join(l6)}function w6(e){return nr(e,Sa)}function x6(e){return Qt(e,Sa)}function $A(e){return Qt([Wo(e.header),Wo(e.payload)].join(Ko),N0)}function MA(e){return[Wo(e.header),Wo(e.payload),w6(e.signature)].join(Ko)}function S6(e){const t=e.split(Ko),r=nd(t[0]),n=nd(t[1]),i=x6(t[2]),o=Qt(t.slice(0,2).join(Ko),N0);return{header:r,payload:n,signature:i,data:o}}const A6={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},tc=":";function R0(e){const[t,r]=e.split(tc);return{namespace:t,reference:r}}function _6(e){const{namespace:t,reference:r}=e;return[t,r].join(tc)}function rc(e){const[t,r,n]=e.split(tc);return{namespace:t,reference:r,address:n}}function P6(e,t){const r=[];return e.forEach(n=>{const i=t(n);r.includes(i)||r.push(i)}),r}function I6(e){const{namespace:t,reference:r}=rc(e);return _6({namespace:t,reference:r})}function T6(e){return P6(e,I6)}function F0(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...i.accounts)}),r}function O6(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...T6(i.accounts))}),r}function L0(e,t){return e.includes(":")?[e]:t.chains||[]}var D6=Object.defineProperty,id=Object.getOwnPropertySymbols,B6=Object.prototype.hasOwnProperty,C6=Object.prototype.propertyIsEnumerable,od=(e,t,r)=>t in e?D6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ad=(e,t)=>{for(var r in t||(t={}))B6.call(t,r)&&od(e,r,t[r]);if(id)for(var r of id(t))C6.call(t,r)&&od(e,r,t[r]);return e};const N6="ReactNative",Or={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},R6="js";function $0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function oi(){return!pa()&&!!Kf()&&navigator.product===N6}function kA(){return oi()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function UA(){return oi()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Aa(){return!$0()&&!!Kf()&&!!pa()}function so(){return oi()?Or.reactNative:$0()?Or.node:Aa()?Or.browser:Or.unknown}function jA(){var e;try{return oi()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function F6(e,t){let r=qi.parse(e);return r=ad(ad({},r),t),e=qi.stringify(r),e}function HA(){return c0()||{name:"",description:"",url:"",icons:[""]}}function L6(){if(so()===Or.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=yE();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function $6(){var e;const t=so();return t===Or.browser?[t,((e=f0())==null?void 0:e.host)||"unknown"].join(":"):t}function M6(e,t,r){const n=L6(),i=$6();return[[e,t].join("-"),[R6,r].join("-"),n,i].join("/")}function GA({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:a,bundleId:s,packageName:f}){const c=r.split("?"),l=M6(e,t,n),g={auth:i,ua:l,projectId:o,useOnCloseEvent:a||void 0,packageName:f||void 0,bundleId:s||void 0},y=F6(c[1]||"",g);return c[0]+"?"+y}function Un(e,t){return e.filter(r=>t.includes(r)).length===e.length}function zA(e){return Object.fromEntries(e.entries())}function VA(e){return new Map(Object.entries(e))}function qA(e=Vn.FIVE_MINUTES,t){const r=Vn.toMiliseconds(e||Vn.FIVE_MINUTES);let n,i,o,a;return{resolve:s=>{o&&n&&(clearTimeout(o),n(s),a=Promise.resolve(s))},reject:s=>{o&&i&&(clearTimeout(o),i(s))},done:()=>new Promise((s,f)=>{if(a)return s(a);o=setTimeout(()=>{const c=new Error(t);a=Promise.reject(c),f(c)},r),n=s,i=f})}}function KA(e,t,r){return new Promise(async(n,i)=>{const o=setTimeout(()=>i(new Error(r)),t);try{const a=await e;n(a)}catch(a){i(a)}clearTimeout(o)})}function M0(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function WA(e){return M0("topic",e)}function JA(e){return M0("id",e)}function YA(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function XA(e,t){return Vn.fromMiliseconds((t||Date.now())+Vn.toMiliseconds(e))}function ZA(e){return Date.now()>=Vn.toMiliseconds(e)}function QA(e,t){return`${e}${t?`:${t}`:""}`}function k6(e=[],t=[]){return[...new Set([...e,...t])]}async function e_({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,o=i==null?void 0:i.href;if(typeof o!="string")return;const a=U6(o,e,t),s=so();if(s===Or.browser){if(!((n=pa())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,j6()?"_blank":"_self","noreferrer noopener")}else s===Or.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function U6(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const o=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${H6(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function t_(e,t){let r="";try{if(Aa()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function r_(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function n_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function i_(){return typeof process<"u"&&{}.IS_VITEST==="true"}function j6(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function H6(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function k0(e){return Buffer.from(e,"base64").toString("utf-8")}function o_(e){return new Promise(t=>setTimeout(t,e))}const G6="https://rpc.walletconnect.org/v1";async function z6(e,t,r,n,i,o){switch(r.t){case"eip191":return V6(e,t,r.s);case"eip1271":return await q6(e,t,r.s,n,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function V6(e,t,r){return Tw(Gl(t),r).toLowerCase()===e.toLowerCase()}async function q6(e,t,r,n,i,o){const a=R0(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const s="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),g=Gl(t).substring(2),y=s+g+f+c+l,v=await fetch(`${o||G6}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:K6(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:y},"latest"]})}),{result:_}=await v.json();return _?_.slice(0,s.length).toLowerCase()===s.toLowerCase():!1}catch(s){return console.error("isValidEip1271Signature: ",s),!1}}function K6(){return Date.now()+Math.floor(Math.random()*1e3)}var W6=Object.defineProperty,J6=Object.defineProperties,Y6=Object.getOwnPropertyDescriptors,sd=Object.getOwnPropertySymbols,X6=Object.prototype.hasOwnProperty,Z6=Object.prototype.propertyIsEnumerable,fd=(e,t,r)=>t in e?W6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q6=(e,t)=>{for(var r in t||(t={}))X6.call(t,r)&&fd(e,r,t[r]);if(sd)for(var r of sd(t))Z6.call(t,r)&&fd(e,r,t[r]);return e},ex=(e,t)=>J6(e,Y6(t));const tx="did:pkh:",nc=e=>e==null?void 0:e.split(":"),rx=e=>{const t=e&&nc(e);if(t)return e.includes(tx)?t[3]:t[1]},nx=e=>{const t=e&&nc(e);if(t)return t[2]+":"+t[3]},U0=e=>{const t=e&&nc(e);if(t)return t.pop()};async function a_(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,o=ix(i,i.iss),a=U0(i.iss);return await z6(a,o,n,nx(i.iss),r)}const ix=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=U0(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,s=`Chain ID: ${rx(t)}`,f=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,g=e.nbf?`Not Before: ${e.nbf}`:void 0,y=e.requestId?`Request ID: ${e.requestId}`:void 0,v=e.resources?`Resources:${e.resources.map(j=>`
- ${j}`).join("")}`:void 0,_=lx(e.resources);if(_){const j=Ki(_);i=dx(i,j)}return[r,n,"",i,"",o,a,s,f,c,l,g,y,v].filter(j=>j!=null).join(`
`)};function ox(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function ax(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Jn(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const o=n[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function sx(e,t,r,n={}){return r==null||r.sort((i,o)=>i.localeCompare(o)),{att:{[e]:fx(t,r,n)}}}function fx(e,t,r={}){t=t==null?void 0:t.sort((i,o)=>i.localeCompare(o));const n=t.map(i=>({[`${e}/${i}`]:[r]}));return Object.assign({},...n)}function j0(e){return Jn(e),`urn:recap:${ox(e).replace(/=/g,"")}`}function Ki(e){const t=ax(e.replace("urn:recap:",""));return Jn(t),t}function s_(e,t,r){const n=sx(e,t,r);return j0(n)}function cx(e){return e&&e.includes("urn:recap:")}function f_(e,t){const r=Ki(e),n=Ki(t),i=ux(r,n);return j0(i)}function ux(e,t){Jn(e),Jn(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,o)=>i.localeCompare(o)),n={att:{}};return r.forEach(i=>{var o,a;Object.keys(((o=e.att)==null?void 0:o[i])||{}).concat(Object.keys(((a=t.att)==null?void 0:a[i])||{})).sort((s,f)=>s.localeCompare(f)).forEach(s=>{var f,c;n.att[i]=ex(Q6({},n.att[i]),{[s]:((f=e.att[i])==null?void 0:f[s])||((c=t.att[i])==null?void 0:c[s])})})}),n}function dx(e="",t){Jn(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach(s=>{const f=Object.keys(t.att[s]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,y)=>g.action.localeCompare(y.action));const c={};f.forEach(g=>{c[g.ability]||(c[g.ability]=[]),c[g.ability].push(g.action)});const l=Object.keys(c).map(g=>(i++,`(${i}) '${g}': '${c[g].join("', '")}' for '${s}'.`));n.push(l.join(", ").replace(".,","."))});const o=n.join(" "),a=`${r}${o}`;return`${e?e+" ":""}${a}`}function c_(e){var t;const r=Ki(e);Jn(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function u_(e){const t=Ki(e);Jn(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(i=>{var o;(o=i==null?void 0:i[0])!=null&&o.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function lx(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return cx(t)?t:void 0}const H0="base10",Pr="base16",G0="base64pad",d_="base64url",fo="utf8",z0=0,co=1,_a=2,hx=0,cd=1,Hi=12,ic=32;function l_(){const e=ec.generateKeyPair();return{privateKey:nr(e.secretKey,Pr),publicKey:nr(e.publicKey,Pr)}}function h_(){const e=ii.randomBytes(ic);return nr(e,Pr)}function g_(e,t){const r=ec.sharedKey(Qt(e,Pr),Qt(t,Pr),!0),n=new f3(oo.SHA256,r).expand(ic);return nr(n,Pr)}function p_(e){const t=oo.hash(Qt(e,Pr));return nr(t,Pr)}function m_(e){const t=oo.hash(Qt(e,fo));return nr(t,Pr)}function V0(e){return Qt(`${e}`,H0)}function wi(e){return Number(nr(e,H0))}function b_(e){const t=V0(typeof e.type<"u"?e.type:z0);if(wi(t)===co&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Qt(e.senderPublicKey,Pr):void 0,n=typeof e.iv<"u"?Qt(e.iv,Pr):ii.randomBytes(Hi),i=new Zf.ChaCha20Poly1305(Qt(e.symKey,Pr)).seal(n,Qt(e.message,fo));return q0({type:t,sealed:i,iv:n,senderPublicKey:r,encoding:e.encoding})}function y_(e,t){const r=V0(_a),n=ii.randomBytes(Hi),i=Qt(e,fo);return q0({type:r,sealed:i,iv:n,encoding:t})}function v_(e){const t=new Zf.ChaCha20Poly1305(Qt(e.symKey,Pr)),{sealed:r,iv:n}=oc({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),i=t.open(n,r);if(i===null)throw new Error("Failed to decrypt");return nr(i,fo)}function E_(e,t){const{sealed:r}=oc({encoded:e,encoding:t});return nr(r,fo)}function q0(e){const{encoding:t=G0}=e;if(wi(e.type)===_a)return nr(Fo([e.type,e.sealed]),t);if(wi(e.type)===co){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return nr(Fo([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return nr(Fo([e.type,e.iv,e.sealed]),t)}function oc(e){const{encoded:t,encoding:r=G0}=e,n=Qt(t,r),i=n.slice(hx,cd),o=cd;if(wi(i)===co){const c=o+ic,l=c+Hi,g=n.slice(o,c),y=n.slice(c,l),v=n.slice(l);return{type:i,sealed:v,iv:y,senderPublicKey:g}}if(wi(i)===_a){const c=n.slice(o),l=ii.randomBytes(Hi);return{type:i,sealed:c,iv:l}}const a=o+Hi,s=n.slice(o,a),f=n.slice(a);return{type:i,sealed:f,iv:s}}function w_(e,t){const r=oc({encoded:e,encoding:t==null?void 0:t.encoding});return gx({type:wi(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?nr(r.senderPublicKey,Pr):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function gx(e){const t=(e==null?void 0:e.type)||z0;if(t===co){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function x_(e){return e.type===co&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function S_(e){return e.type===_a}function px(e){return new tm.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function mx(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function bx(e){return Buffer.from(mx(e),"base64")}function A_(e,t){const[r,n,i]=e.split("."),o=bx(i);if(o.length!==64)throw new Error("Invalid signature length");const a=o.slice(0,32).toString("hex"),s=o.slice(32,64).toString("hex"),f=`${r}.${n}`,c=new oo.SHA256().update(Buffer.from(f)).digest(),l=px(t),g=Buffer.from(c).toString("hex");if(!l.verify(g,{r:a,s}))throw new Error("Invalid signature");return S6(e).payload}const yx="irn";function __(e){return(e==null?void 0:e.relay)||{protocol:yx}}function P_(e){const t=A6[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var vx=Object.defineProperty,Ex=Object.defineProperties,wx=Object.getOwnPropertyDescriptors,ud=Object.getOwnPropertySymbols,xx=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,dd=(e,t,r)=>t in e?vx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ld=(e,t)=>{for(var r in t||(t={}))xx.call(t,r)&&dd(e,r,t[r]);if(ud)for(var r of ud(t))Sx.call(t,r)&&dd(e,r,t[r]);return e},Ax=(e,t)=>Ex(e,wx(t));function _x(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const o=i.replace(n,""),a=e[i];r[o]=a}}),r}function I_(e){if(!e.includes("wc:")){const f=k0(e);f!=null&&f.includes("wc:")&&(e=f)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),o=typeof r<"u"?e.substring(r):"",a=qi.parse(o),s=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Px(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:_x(a),methods:s,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Px(e){return e.startsWith("//")?e.substring(2):e}function Ix(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const o=r+t+i;e[i]&&(n[o]=e[i])}),n}function T_(e){return`${e.protocol}:${e.topic}@${e.version}?`+qi.stringify(ld(Ax(ld({symKey:e.symKey},Ix(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function O_(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function Ci(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function Tx(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Ci(r.accounts))}),t}function Ox(e,t){const r=[];return Object.values(e).forEach(n=>{Ci(n.accounts).includes(t)&&r.push(...n.methods)}),r}function Dx(e,t){const r=[];return Object.values(e).forEach(n=>{Ci(n.accounts).includes(t)&&r.push(...n.events)}),r}function Bx(e){const t={};return e==null||e.forEach(r=>{const[n,i]=r.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[]}),t[n].accounts.push(r),t[n].chains.push(`${n}:${i}`)}),t}function D_(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=Bx(t);for(const[n,i]of Object.entries(r))i.methods?i.methods=k6(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}const Cx={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Nx={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function An(e,t){const{message:r,code:n}=Nx[e];return{message:t?`${r} ${t}`:r,code:n}}function xi(e,t){const{message:r,code:n}=Cx[e];return{message:t?`${r} ${t}`:r,code:n}}function Pa(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function K0(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function qn(e){return typeof e>"u"}function Ur(e,t){return t&&qn(e)?!0:typeof e=="string"&&!!e.trim().length}function ac(e,t){return t&&qn(e)?!0:typeof e=="number"&&!isNaN(e)}function B_(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let o=!0;return Un(i,n)?(n.forEach(a=>{const{accounts:s,methods:f,events:c}=e.namespaces[a],l=Ci(s),g=r[a];(!Un(L0(a,g),l)||!Un(g.methods,f)||!Un(g.events,c))&&(o=!1)}),o):!1}function Jo(e){return Ur(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function Rx(e){if(Ur(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Jo(r)}}return!1}function C_(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ur(e,!1)){if(t(e))return!0;const r=k0(e);return t(r)}}catch{}return!1}function N_(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function R_(e){return e==null?void 0:e.topic}function F_(e,t){let r=null;return Ur(e==null?void 0:e.publicKey,!1)||(r=An("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function hd(e){let t=!0;return Pa(e)?e.length&&(t=e.every(r=>Ur(r,!1))):t=!1,t}function Fx(e,t,r){let n=null;return Pa(t)&&t.length?t.forEach(i=>{n||Jo(i)||(n=xi("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Jo(e)||(n=xi("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Lx(e,t,r){let n=null;return Object.entries(e).forEach(([i,o])=>{if(n)return;const a=Fx(i,L0(i,o),`${t} ${r}`);a&&(n=a)}),n}function $x(e,t){let r=null;return Pa(e)?e.forEach(n=>{r||Rx(n)||(r=xi("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=xi("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Mx(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=$x(n==null?void 0:n.accounts,`${t} namespace`);i&&(r=i)}),r}function kx(e,t){let r=null;return hd(e==null?void 0:e.methods)?hd(e==null?void 0:e.events)||(r=xi("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=xi("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function W0(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=kx(n,`${t}, namespace`);i&&(r=i)}),r}function L_(e,t,r){let n=null;if(e&&K0(e)){const i=W0(e,t);i&&(n=i);const o=Lx(e,t,r);o&&(n=o)}else n=An("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function $_(e,t){let r=null;if(e&&K0(e)){const n=W0(e,t);n&&(r=n);const i=Mx(e,t);i&&(r=i)}else r=An("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Ux(e){return Ur(e.protocol,!0)}function M_(e,t){let r=!1;return t&&!e?r=!0:e&&Pa(e)&&e.length&&e.forEach(n=>{r=Ux(n)}),r}function k_(e){return typeof e=="number"}function U_(e){return typeof e<"u"&&typeof e!==null}function j_(e){return!(!e||typeof e!="object"||!e.code||!ac(e.code,!1)||!e.message||!Ur(e.message,!1))}function H_(e){return!(qn(e)||!Ur(e.method,!1))}function G_(e){return!(qn(e)||qn(e.result)&&qn(e.error)||!ac(e.id,!1)||!Ur(e.jsonrpc,!1))}function z_(e){return!(qn(e)||!Ur(e.name,!1))}function V_(e,t){return!(!Jo(t)||!Tx(e).includes(t))}function q_(e,t,r){return Ur(r,!1)?Ox(e,t).includes(r):!1}function K_(e,t,r){return Ur(r,!1)?Dx(e,t).includes(r):!1}function W_(e,t,r){let n=null;const i=jx(e),o=Hx(t),a=Object.keys(i),s=Object.keys(o),f=gd(Object.keys(e)),c=gd(Object.keys(t)),l=f.filter(g=>!c.includes(g));return l.length&&(n=An("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),Un(a,s)||(n=An("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${s.toString()}`)),Object.keys(t).forEach(g=>{if(!g.includes(":")||n)return;const y=Ci(t[g].accounts);y.includes(g)||(n=An("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),a.forEach(g=>{n||(Un(i[g].methods,o[g].methods)?Un(i[g].events,o[g].events)||(n=An("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${g}`)):n=An("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${g}`))}),n}function jx(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function gd(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Hx(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=Ci(e[r].accounts);n==null||n.forEach(i=>{t[i]={accounts:e[r].accounts.filter(o=>o.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function J_(e,t){return ac(e,!1)&&e<=t.max&&e>=t.min}function Y_(){const e=so();return new Promise(t=>{switch(e){case Or.browser:t(Gx());break;case Or.reactNative:t(zx());break;case Or.node:t(Vx());break;default:t(!0)}})}function Gx(){return Aa()&&(navigator==null?void 0:navigator.onLine)}async function zx(){if(oi()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function Vx(){return!0}function X_(e){switch(so()){case Or.browser:qx(e);break;case Or.reactNative:Kx(e);break}}function qx(e){!oi()&&Aa()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function Kx(e){oi()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const As={};class Z_{static get(t){return As[t]}static set(t,r){As[t]=r}static delete(t){delete As[t]}}function J0(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const o=J0(e[i]);r.push(o),n+=o.length}return bd(md(n,192),...r)}const t=Z0(e);return t.length===1&&t[0]<128?t:bd(md(t.length,128),t)}function ui(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function pd(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Y0(Yx(e))}function md(e,t){if(e<56)return Uint8Array.from([e+t]);const r=af(e),n=r.length/2,i=af(t+55+n);return Uint8Array.from(of(i+r))}function Wx(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=Z0(e),n=nf(r);if(t)return{data:n.data,remainder:n.remainder.slice()};if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}function nf(e){let t,r,n,i,o;const a=[],s=e[0];if(s<=127)return{data:e.slice(0,1),remainder:e.subarray(1)};if(s<=183){if(t=s-127,s===128?n=Uint8Array.from([]):n=ui(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.subarray(t)}}else if(s<=191){if(r=s-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=pd(ui(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=ui(e,r,t+r),{data:n,remainder:e.subarray(t+r)}}else if(s<=247){for(t=s-191,i=ui(e,1,t);i.length;)o=nf(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.subarray(t)}}else{if(r=s-246,t=pd(ui(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const f=r+t;if(f>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=ui(e,r,f);i.length;)o=nf(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.subarray(f)}}}const Jx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yx(e){let t="";for(let r=0;r<e.length;r++)t+=Jx[e[r]];return t}function Y0(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function of(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Y0(e.slice(n,n+2))}return t}function bd(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function Xx(e){return new TextEncoder().encode(e)}function af(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function Zx(e){return e.length%2?`0${e}`:e}function X0(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function Qx(e){return typeof e!="string"?e:X0(e)?e.slice(2):e}function Z0(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return X0(e)?of(Zx(Qx(e))):Xx(e);if(typeof e=="number"||typeof e=="bigint")return e?of(af(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}const qr={encode:J0,decode:Wx};function Ni(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}const Si=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return Ni(e)?e.slice(2):e};function sc(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}const bn=function(e){if(!(e instanceof Uint8Array)){const t=`This method only supports Uint8Array but input was: ${e}`;throw new Error(t)}},e5=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}},Q0=BigInt(0),sf={},ff={};for(let e=0;e<16;e++){const t=e,r=e*16,n=e.toString(16).toLowerCase();ff[n]=t,ff[n.toUpperCase()]=t,sf[n]=r,sf[n.toUpperCase()]=r}function eh(e){const t=e.length,r=new Uint8Array(t/2);for(let n=0;n<t;n+=2)r[n/2]=sf[e[n]]+ff[e[n+1]];return r}const t5=e=>{if(e.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return eh(sc(e))},r5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),At=e=>{let t="0x";if(e===void 0||e.length===0)return t;for(const r of e)t=`${t}${r5[r]}`;return t},cf=[];for(let e=0;e<=256*256-1;e++)cf[e]=BigInt(e);const Ze=(e,t=!1)=>{t&&e.reverse();const r=At(e);return r==="0x"?Q0:r.length===4?cf[e[0]]:r.length===6?cf[e[0]*256+e[1]]:BigInt(r)},qt=e=>{if(typeof e!="string")throw new Error(`hex argument type ${typeof e} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(e))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${e}`);const t=e.slice(2);return eh(t.length%2===0?t:sc(t))},th=e=>{if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},ai=e=>{const t=th(e);return qt(t)},rh=(e,t=!1)=>{const r=tt(`0x${sc(e.toString(16))}`);return t?r.reverse():r},uf=e=>new Uint8Array(e),n5=(e,t,r)=>r?e.length<t?new Uint8Array([...e,...uf(t-e.length)]):e.subarray(0,t):e.length<t?new Uint8Array([...uf(t-e.length),...e]):e.subarray(-t),Wi=(e,t)=>(bn(e),n5(e,t,!1)),i5=e=>{let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e},Yo=e=>(bn(e),i5(e)),tt=e=>{if(e==null)return new Uint8Array;if(Array.isArray(e)||e instanceof Uint8Array)return Uint8Array.from(e);if(typeof e=="string"){if(!Ni(e))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${e}`);return qt(e)}if(typeof e=="number")return ai(e);if(typeof e=="bigint"){if(e<Q0)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),t5(t)}if(e.toBytes!==void 0)return e.toBytes();throw new Error("invalid type")},xn=e=>typeof e!="string"||Ni(e)?e:`0x${e}`,Yn=e=>{for(const[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${At(r)}`)},Ft=e=>`0x${e.toString(16)}`,Ge=e=>Yo(rh(e)),Ji=(...e)=>{if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r},yd=BigInt("0xffffffffffffffff"),Xn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");Ii.CURVE.n;const o5=Ii.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const a5="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";qt(a5);const s5="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";qt(s5);const f5="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";qt(f5);Uint8Array.from([128]);BigInt(-1);const vr=BigInt(0),fc=BigInt(1),Xo=BigInt(2);BigInt(3);BigInt(7);const c5=BigInt(8),uo=BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);const nh=function(e){try{e5(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},u5=function(e,t){return bn(e),bn(t),Ze(t)===vr?Tn(qr.encode([e,Uint8Array.from([])])).subarray(-20):Tn(qr.encode([e,t])).subarray(-20)},d5=function(e,t,r){if(bn(e),bn(t),bn(r),e.length!==20)throw new Error("Expected from to be of length 20");if(t.length!==32)throw new Error("Expected salt to be of length 32");return Tn(Ji(qt("0xff"),e,t,Tn(r))).subarray(-20)},ih=function(e,t=!1){if(bn(e),t&&e.length!==64&&(e=Ii.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1)),e.length!==64)throw new Error("Expected pubKey to be of length 64");return Tn(e).subarray(-20)},oh=ih,l5=function(e){return bn(e),Ii.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1)},ah=function(e){return oh(l5(e))};let vd=class Sn{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.bytes=t}static zero(){return new Sn(uf(20))}static fromString(t){if(!nh(t))throw new Error(`Invalid address input=${t}`);return new Sn(qt(t))}static fromPublicKey(t){if(!(t instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const r=ih(t);return new Sn(r)}static fromPrivateKey(t){if(!(t instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const r=ah(t);return new Sn(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Sn(u5(t.bytes,rh(r)))}static generate2(t,r,n){if(!(r instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new Sn(d5(t.bytes,r,n))}equals(t){return Kn(this.bytes,t.bytes)}isZero(){return this.equals(Sn.zero())}isPrecompileOrSystemAddress(){const t=Ze(this.bytes),r=vr,n=BigInt("0xffff");return t>=r&&t<=n}toString(){return At(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}};var Ed;(function(e){e.String="string",e.Bytes="view",e.Number="number"})(Ed||(Ed={}));var wd;(function(e){e.String="string",e.Bytes="view",e.JSON="json"})(wd||(wd={}));var Fr;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"})(Fr||(Fr={}));function mi(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!Ni(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=tt(e);switch(t){case Fr.Uint8Array:return r;case Fr.BigInt:return Ze(r);case Fr.Number:{const n=Ze(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case Fr.PrefixedHexString:return At(r);default:throw new Error("unknown outputType")}}function h5(e,t,r){const n=Ii.sign(e,t),i=n.toCompactRawBytes(),o=i.slice(0,32),a=i.slice(32,64),s=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*Xo;return{r:o,s:a,v:s}}function g5(e,t){return e===vr||e===fc?e:t===void 0?e-uo:e-(t*Xo+BigInt(35))}function p5(e){return e===vr||e===fc}const m5=function(e,t,r,n,i){const o=Ji(Wi(r,32),Wi(n,32)),a=g5(t,i);if(!p5(a))throw new Error("Invalid signature v value");return Ii.Signature.fromCompact(o).addRecoveryBit(Number(a)).recoverPublicKey(e).toRawBytes(!1).slice(1)},b5=32,cc=4096,Gi=32*cc,y5=2,v5=Gi*y5-1,E5=b5*cc;function w5(e,t){const r=new Uint8Array(t*Gi).fill(0);return r.set(e),r[e.byteLength]=128,r}function x5(e){const t=new Uint8Array(E5);for(let r=0;r<cc;r++){const n=new Uint8Array(32);n.set(e.subarray(r*31,(r+1)*31),0),t.set(n,r*32)}return t}const S5=e=>{const t=om(e),r=t.byteLength;if(r===0)throw Error("invalid blob data");if(r>v5)throw Error("blob data is too large");const n=Math.ceil(r/Gi),i=w5(t,n),o=[];for(let a=0;a<n;a++){const s=i.subarray(a*Gi,(a+1)*Gi),f=x5(s);o.push(f)}return o},A5=(e,t)=>{const r=[];for(const n of t)r.push(e.blobToKzgCommitment(n));return r},_5=(e,t,r)=>t.map((i,o)=>e.computeBlobKzgProof(i,r[o])),sh=(e,t)=>{const r=new Uint8Array(32);return r.set([t],0),r.set(Dv(e).subarray(1),1),r},P5=e=>{const t=[];for(const r of e)t.push(sh(r,1));return t},I5=async(e,t)=>{const r=JSON.stringify({method:t.method,params:t.params,jsonrpc:"2.0",id:1}),n=await fetch(e,{headers:{"content-type":"application/json"},method:"POST",body:r});if(!n.ok)throw new Error(`JSONRpcError: ${JSON.stringify({method:t.method,status:n.status,message:await n.text().catch(()=>"Could not parse error message likely because of a network error")},null,2)}`);return(await n.json()).result},T5=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e._getConnection!==void 0)return e._getConnection().url;throw new Error("Must provide valid provider URL or Web3Provider")};var xd;(function(e){e[e.Deposit=0]="Deposit",e[e.Withdrawal=1]="Withdrawal",e[e.Consolidation=2]="Consolidation"})(xd||(xd={}));var Zn;(function(e){e[e.Version=0]="Version",e[e.Balance=1]="Balance",e[e.Nonce=2]="Nonce",e[e.CodeHash=3]="CodeHash",e[e.CodeSize=4]="CodeSize"})(Zn||(Zn={}));ai(Zn.Version);ai(Zn.Balance);ai(Zn.Nonce);ai(Zn.CodeHash);ai(Zn.CodeSize);BigInt(256)**BigInt(31);const O5={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},depositContractAddress:"0x00000000219ab540356cBB839Cbe05303d7705Fa",hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"},{name:"prague",block:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,timestamp:"1705473120",forkHash:"0x70cc14e2"}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,timestamp:"1706655072",forkHash:"0x88cf81d9"}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},holesky:{name:"holesky",chainId:17e3,networkId:17e3,defaultHardfork:"paris",consensus:{type:"pos",algorithm:"casper"},comment:"PoS test network to replace Goerli",url:"https://github.com/eth-clients/holesky/",genesis:{baseFeePerGas:"0x3B9ACA00",difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65156994"},hardforks:[{name:"chainstart",block:0,forkHash:"0xc61a6098"},{name:"homestead",block:0,forkHash:"0xc61a6098"},{name:"tangerineWhistle",block:0,forkHash:"0xc61a6098"},{name:"spuriousDragon",block:0,forkHash:"0xc61a6098"},{name:"byzantium",block:0,forkHash:"0xc61a6098"},{name:"constantinople",block:0,forkHash:"0xc61a6098"},{name:"petersburg",block:0,forkHash:"0xc61a6098"},{name:"istanbul",block:0,forkHash:"0xc61a6098"},{name:"muirGlacier",block:0,forkHash:"0xc61a6098"},{name:"berlin",block:0,forkHash:"0xc61a6098"},{name:"london",block:0,forkHash:"0xc61a6098"},{name:"paris",ttd:"0",block:0,forkHash:"0xc61a6098"},{name:"mergeForkIdTransition",block:0,forkHash:"0xc61a6098"},{name:"shanghai",block:null,timestamp:"1696000704",forkHash:"0xfd4f016b"},{name:"cancun",block:null,timestamp:"1707305664",forkHash:"0x9b192ad0"}],bootstrapNodes:[{ip:"146.190.13.128",port:30303,id:"ac906289e4b7f12df423d654c5a962b6ebe5b3a74cc9e06292a85221f9a64a6f1cfdd6b714ed6dacef51578f92b34c60ee91e9ede9c7f8fadc4d347326d95e2b",location:"",comment:"bootnode 1"},{ip:"178.128.136.233",port:30303,id:"a3435a0155a3e837c02f5e7f5662a2f1fbc25b48e4dc232016e1c51b544cb5b4510ef633ea3278c0e970fa8ad8141e2d4d0f9f95456c537ff05fdf9b31c15072",location:"",comment:"bootnode 2"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.holesky.ethdisco.net"]},kaustinen6:{name:"kaustinen6",chainId:69420,networkId:69420,defaultHardfork:"osaka",consensus:{type:"pos",algorithm:"casper"},comment:"Verkle kaustinen testnet 6 (likely temporary, do not hard-wire into production code)",url:"https://github.com/eth-clients/kaustinen/",genesis:{difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x66190fbc"},hardforks:[{name:"chainstart",block:0},{name:"homestead",block:0},{name:"tangerineWhistle",block:0},{name:"spuriousDragon",block:0},{name:"byzantium",block:0},{name:"constantinople",block:0},{name:"petersburg",block:0},{name:"istanbul",block:0},{name:"berlin",block:0},{name:"london",block:0},{name:"paris",ttd:"0",block:0},{name:"mergeForkIdTransition",block:0},{name:"shanghai",block:null,timestamp:"0"},{name:"osaka",block:null,timestamp:"1712848500"}],bootstrapNodes:[],dnsNetworks:[]}};let df=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(df=new Int32Array(df));const D5=(e,t)=>{let r=t===0?0:~~t^-1;for(let n=0;n<e.length;n++)r=df[(r^e[n])&255]^r>>>8;return r^-1},B5=(e,t)=>D5(e,t)>>>0;var pn;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia",e[e.Holesky=17e3]="Holesky",e[e.Kaustinen6=69420]="Kaustinen6"})(pn||(pn={}));pn.Mainnet+"",qt("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),pn.Goerli+"",qt("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"),pn.Sepolia+"",qt("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),pn.Holesky+"",qt("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783"),pn.Kaustinen6+"",qt("0x1fbf85345a3cbba9a6d44f991b721e55620a22397c2a93ee8d5011136ac300ee");var Be;(function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Paris="paris",e.Shanghai="shanghai",e.Cancun="cancun",e.Prague="prague",e.Osaka="osaka"})(Be||(Be={}));var Sd;(function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"})(Sd||(Sd={}));var Ad;(function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"})(Ad||(Ad={}));var xr;(function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"})(xr||(xr={}));var ct;(function(e){e.Stagnant="stagnant",e.Draft="draft",e.Review="review",e.Final="final"})(ct||(ct={}));const Qr={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:ct.Review,minimumHardfork:Be.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:ct.Final,minimumHardfork:Be.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:ct.Final,minimumHardfork:Be.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2537:{comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:Be.Chainstart,requiredEIPs:[],gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:500,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:800,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:45e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:65e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:43e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:75e3,d:"Gas cost of BLS12-381 map field element to G2"}},vm:{},pow:{}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:ct.Final,minimumHardfork:Be.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:ct.Final,minimumHardfork:Be.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:ct.Final,minimumHardfork:Be.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},2935:{comment:"Save historical block hashes in state (Verkle related usage, UNSTABLE)",url:"https://github.com/gballet/EIPs/pull/3/commits/2e9ac09a142b0d9fb4db0b8d4609f92e5d9990c5",status:ct.Draft,minimumHardfork:Be.Chainstart,requiredEIPs:[],vm:{historyStorageAddress:{v:BigInt("0x0aae40965e6800cd9b1f4b05ff21581047e3f91e"),d:"The address where the historical blockhashes are stored"},historyServeWindow:{v:BigInt(8192),d:"The amount of blocks to be served by the historical blockhash contract"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://github.com/ethereum/EIPs/commit/eca4416ff3c025fcb6ec8cd4eac481e74e108481",status:ct.Review,minimumHardfork:Be.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:ct.Final,minimumHardfork:Be.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:ct.Final,minimumHardfork:Be.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:ct.Review,minimumHardfork:Be.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:ct.Final,minimumHardfork:Be.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:ct.Final,minimumHardfork:Be.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:ct.Final,minimumHardfork:Be.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:ct.Review,minimumHardfork:Be.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:Be.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:ct.Final,minimumHardfork:Be.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:ct.Review,minimumHardfork:Be.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:ct.Review,minimumHardfork:Be.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:ct.Final,minimumHardfork:Be.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:ct.Review,minimumHardfork:Be.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:ct.Draft,minimumHardfork:Be.Cancun,requiredEIPs:[],gasPrices:{},vm:{historicalRootsLength:{v:8191,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:ct.Draft,minimumHardfork:Be.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:ct.Review,minimumHardfork:Be.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:ct.Draft,minimumHardfork:Be.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:ct.Draft,minimumHardfork:Be.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6110:{comment:"Supply validator deposits on chain",url:"https://eips.ethereum.org/EIPS/eip-6110",status:ct.Draft,minimumHardfork:Be.Cancun,requiredEIPs:[7685]},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:ct.Draft,minimumHardfork:Be.London,requiredEIPs:[]},6800:{comment:"Ethereum state using a unified verkle tree (experimental)",url:"https://github.com/ethereum/EIPs/pull/6800",status:ct.Draft,minimumHardfork:Be.London,requiredEIPs:[],gasPrices:{create:{v:1e3,d:"Base fee of the CREATE opcode"},coldsload:{v:0,d:"Gas cost of the first read of storage from a given location (per transaction)"}},vm:{historyStorageAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The address where the historical blockhashes are stored"}}},7002:{comment:"Execution layer triggerable withdrawals (experimental)",url:"https://github.com/ethereum/EIPs/blob/3b5fcad6b35782f8aaeba7d4ac26004e8fbd720f/EIPS/eip-7002.md",status:ct.Draft,minimumHardfork:Be.Paris,requiredEIPs:[7685],vm:{withdrawalRequestType:{v:BigInt(1),d:"The withdrawal request type for EIP-7685"},excessWithdrawalsRequestStorageSlot:{v:BigInt(0),d:"The storage slot of the excess withdrawals"},withdrawalsRequestCountStorage:{v:BigInt(1),d:"The storage slot of the withdrawal request count"},withdrawalsRequestQueueHeadStorageSlot:{v:BigInt(2),d:"The storage slot of the withdrawal request head of the queue"},withdrawalsRequestTailHeadStorageSlot:{v:BigInt(3),d:"The storage slot of the withdrawal request tail of the queue"},withdrawalsRequestQueueStorageOffset:{v:BigInt(4),d:"The storage slot of the withdrawal request queue offset"},maxWithdrawalRequestsPerBlock:{v:BigInt(16),d:"The max withdrawal requests per block"},targetWithdrawalRequestsPerBlock:{v:BigInt(2),d:"The target withdrawal requests per block"},minWithdrawalRequestFee:{v:BigInt(1),d:"The minimum withdrawal request fee (in wei)"},withdrawalRequestFeeUpdateFraction:{v:BigInt(17),d:"The withdrawal request fee update fraction (used in the fake exponential)"},systemAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The system address to perform operations on the withdrawal requests predeploy address"},withdrawalRequestPredeployAddress:{v:BigInt("0x00A3ca265EBcb825B45F985A16CEFB49958cE017"),d:"Address of the validator excess address"}}},7251:{comment:"Execution layer triggered consolidations (experimental)",url:"https://eips.ethereum.org/EIPS/eip-7251",status:ct.Draft,minimumHardfork:Be.Paris,requiredEIPs:[7685],vm:{consolidationRequestType:{v:BigInt(2),d:"The withdrawal request type for EIP-7685"},systemAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The system address to perform operations on the consolidation requests predeploy address"},consolidationRequestPredeployAddress:{v:BigInt("0x00b42dbF2194e931E80326D950320f7d9Dbeac02"),d:"Address of the consolidations contract"}}},7516:{comment:"BLOBBASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-7516",status:ct.Draft,minimumHardfork:Be.Paris,requiredEIPs:[4844],gasPrices:{blobbasefee:{v:2,d:"Gas cost of the BLOBBASEFEE opcode"}}},7685:{comment:"General purpose execution layer requests",url:"https://eips.ethereum.org/EIPS/eip-7685",status:ct.Draft,minimumHardfork:Be.Cancun,requiredEIPs:[3675],gasPrices:{}},7702:{comment:"Set EOA account code for one transaction",url:"https://github.com/ethereum/EIPs/blob/62419ca3f45375db00b04a368ea37c0bfb05386a/EIPS/eip-7702.md",status:ct.Review,minimumHardfork:Be.Cancun,requiredEIPs:[2718,2929,2930],gasPrices:{perAuthBaseCost:{v:2500,d:"Gas cost of each authority item"}}},7709:{comment:"Use historical block hashes saved in state for BLOCKHASH",url:"https://eips.ethereum.org/EIPS/eip-7709",status:ct.Draft,minimumHardfork:Be.Chainstart,requiredEIPs:[2935]}};var zt;(function(e){e.Draft="draft",e.Review="review",e.Final="final"})(zt||(zt={}));const C5={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:zt.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:zt.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:zt.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:zt.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:zt.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:zt.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:zt.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:zt.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:zt.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:zt.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:zt.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:zt.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:zt.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:zt.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:zt.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:zt.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:zt.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after shanghai, includes proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM, selfdestruct only in same transaction, and blob base fee opcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:zt.Final,eips:[1153,4844,4788,5656,6780,7516]},prague:{name:"prague",comment:"Next feature hardfork after cancun, internally used for pectra testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/prague.md",status:zt.Draft,eips:[2537,2935,3074,6110,7002,7251,7685]},osaka:{name:"osaka",comment:"Next feature hardfork after prague, internally used for verkle testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/osaka.md",status:zt.Draft,eips:[2935,6800]}};function N5(e){return!e||e==="0x0"?"0x0000000000000000":Ni(e)?`0x${Si(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`}function R5(e,t=!0){const{name:r,config:n,difficulty:i,mixHash:o,gasLimit:a,coinbase:s,baseFeePerGas:f,excessBlobGas:c,extraData:l,nonce:g,timestamp:y}=e,v=Number(y),{chainId:_,depositContractAddress:j}=n,z=l===""?"0x":l,Z=Ni(y)?y:th(parseInt(y)),k=g.length!==18?N5(g):g;if(n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const K={name:r,chainId:_,networkId:_,depositContractAddress:j,genesis:{timestamp:Z,gasLimit:a,difficulty:i,nonce:k,extraData:z,mixHash:o,coinbase:s,baseFeePerGas:f,excessBlobGas:c},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},$={[Be.Homestead]:{name:"homesteadBlock"},[Be.Dao]:{name:"daoForkBlock"},[Be.TangerineWhistle]:{name:"eip150Block"},[Be.SpuriousDragon]:{name:"eip155Block"},[Be.Byzantium]:{name:"byzantiumBlock"},[Be.Constantinople]:{name:"constantinopleBlock"},[Be.Petersburg]:{name:"petersburgBlock"},[Be.Istanbul]:{name:"istanbulBlock"},[Be.MuirGlacier]:{name:"muirGlacierBlock"},[Be.Berlin]:{name:"berlinBlock"},[Be.London]:{name:"londonBlock"},[Be.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[Be.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Be.Cancun]:{name:"cancunTime",postMerge:!0,isTimestamp:!0},[Be.Prague]:{name:"pragueTime",postMerge:!0,isTimestamp:!0},[Be.Osaka]:{name:"osakaTime",postMerge:!0,isTimestamp:!0}},B=Object.keys($).reduce((A,q)=>(A[$[q].name]=q,A),{}),D=Object.keys(n).filter(A=>B[A]!==void 0&&n[A]!==void 0&&n[A]!==null);K.hardforks=D.map(A=>({name:B[A],block:$[B[A]].isTimestamp===!0||typeof n[A]!="number"?null:n[A],timestamp:$[B[A]].isTimestamp===!0&&typeof n[A]=="number"?n[A]:void 0})).filter(A=>A.block!==null||A.timestamp!==void 0),K.hardforks.sort(function(A,q){return(A.block??1/0)-(q.block??1/0)}),K.hardforks.sort(function(A,q){return(A.timestamp??0)-(q.timestamp??0)});for(const A of K.hardforks)A.timestamp===v&&(A.timestamp=0);if(n.terminalTotalDifficulty!==void 0){const A={name:Be.Paris,ttd:n.terminalTotalDifficulty,block:null},q=K.hardforks.findIndex(re=>{var fe;return((fe=$[re.name])==null?void 0:fe.postMerge)===!0});q!==-1?K.hardforks.splice(q,0,A):K.hardforks.push(A)}const h=K.hardforks.length>0?K.hardforks.slice(-1)[0]:void 0;return K.hardfork=h==null?void 0:h.name,K.hardforks.unshift({name:Be.Chainstart,block:0}),K}function F5(e,t,r){try{const n=["config","difficulty","gasLimit","nonce","alloc"];if(n.some(o=>!(o in e))){const o=n.filter(a=>!(a in e));throw new Error(`Invalid format, expected geth genesis field "${o}" missing`)}const i={...e};return t!==void 0&&(i.name=t),R5(i,r)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}class lr{constructor(t){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new Rs.EventEmitter,this._customChains=t.customChains??[],this._chainParams=this.setChain(t.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??Be.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map(r=>[r.name,C5[r.name]??(this._chainParams.customHardforks&&this._chainParams.customHardforks[r.name])]),this._hardfork=this.DEFAULT_HARDFORK,t.hardfork!==void 0&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips),this.customCrypto=t.customCrypto??{},Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}static custom(t,r={}){const n=r.baseChain??"mainnet",i={...lr._getChainParams(n)};if(i.name="custom-chain",typeof t!="string")return new lr({chain:{...i,...t},...r});if(t===xr.PolygonMainnet)return lr.custom({name:xr.PolygonMainnet,chainId:137,networkId:137},r);if(t===xr.PolygonMumbai)return lr.custom({name:xr.PolygonMumbai,chainId:80001,networkId:80001},r);if(t===xr.ArbitrumOne)return lr.custom({name:xr.ArbitrumOne,chainId:42161,networkId:42161},r);if(t===xr.xDaiChain)return lr.custom({name:xr.xDaiChain,chainId:100,networkId:100},r);if(t===xr.OptimisticKovan)return lr.custom({name:xr.OptimisticKovan,chainId:69,networkId:69},r);if(t===xr.OptimisticEthereum)return lr.custom({name:xr.OptimisticEthereum,chainId:10,networkId:10},{hardfork:Be.Berlin,...r});throw new Error(`Custom chain ${t} not supported`)}static fromGethGenesis(t,{chain:r,eips:n,genesisHash:i,hardfork:o,mergeForkIdPostMerge:a,customCrypto:s}){const f=F5(t,r,a),c=new lr({chain:f.name??"custom",customChains:[f],eips:n,hardfork:o??f.hardfork,customCrypto:s});return i!==void 0&&c.setForkHashes(i),c}static isSupportedChainId(t){return!!this.getInitializedChains().names[t.toString()]}static _getChainParams(t,r){const n=this.getInitializedChains(r);if(typeof t=="number"||typeof t=="bigint"){if(t=t.toString(),n.names[t]){const i=n.names[t];return n[i]}throw new Error(`Chain with ID ${t} not supported`)}if(n[t]!==void 0)return n[t];throw new Error(`Chain with name ${t} not supported`)}setChain(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")this._chainParams=lr._getChainParams(t,this._customChains);else if(typeof t=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const r=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of r)if(!(n in t))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=t}else throw new Error("Wrong input format");for(const r of this.hardforks())if(r.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(t){let r=!1;for(const n of this.HARDFORK_CHANGES)n[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",t)),r=!0);if(!r)throw new Error(`Hardfork with name ${t} not supported`)}getHardforkBy(t){const r=mi(t.blockNumber,Fr.BigInt),n=mi(t.td,Fr.BigInt),i=mi(t.timestamp,Fr.BigInt),o=this.hardforks().filter(g=>g.block!==null||g.ttd!==null&&g.ttd!==void 0||g.timestamp!==void 0),a=o.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(o.slice(a+1).findIndex(g=>g.ttd!==null&&g.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let f=o.findIndex(g=>r!==void 0&&g.block!==null&&BigInt(g.block)>r||i!==void 0&&g.timestamp!==void 0&&BigInt(g.timestamp)>i);if(f===-1)f=o.length;else if(f===0)throw Error("Must have at least one hardfork at block 0");if(i===void 0){const g=o.slice(0,f).reverse().findIndex(y=>y.block!==null||y.ttd!==void 0);f=f-g}if(f=f-1,o[f].block===null&&o[f].timestamp===void 0)(n==null||BigInt(o[f].ttd)>n)&&(f-=1);else if(a>=0&&n!==void 0&&n!==null){if(f>=a&&BigInt(o[a].ttd)>n)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(f<a&&BigInt(o[a].ttd)<n)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const c=f;for(;f<o.length-1&&!(o[f].block!==o[f+1].block||o[f].timestamp!==o[f+1].timestamp);f++);if(i!==void 0){if(o.slice(0,c).reduce((v,_)=>Math.max(Number(_.timestamp??"0"),v),0)>i)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(f+1).reduce((v,_)=>Math.min(Number(_.timestamp??i),v),Number(i))<i)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[f].name}setHardforkBy(t){const r=this.getHardforkBy(t);return this.setHardfork(r),r}_getHardfork(t){const r=this.hardforks();for(const n of r)if(n.name===t)return n;return null}setEIPs(t=[]){for(const r of t){if(!(r in Qr))throw new Error(`${r} not supported`);const n=this.gteHardfork(Qr[r].minimumHardfork);if(!n)throw new Error(`${r} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`)}this._eips=t,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const r of t)if(Qr[r].requiredEIPs!==void 0){for(const n of Qr[r].requiredEIPs)if(!(t.includes(n)||this.isActivatedEIP(n)))throw new Error(`${r} requires EIP ${n}, but is not included in the EIP list`)}}_mergeWithParamsCache(t){this._paramsCache.gasConfig={...this._paramsCache.gasConfig,...t.gasConfig},this._paramsCache.gasPrices={...this._paramsCache.gasPrices,...t.gasPrices},this._paramsCache.pow={...this._paramsCache.pow,...t.pow},this._paramsCache.sharding={...this._paramsCache.sharding,...t.sharding},this._paramsCache.vm={...this._paramsCache.vm,...t.vm}}_buildParamsCache(){this._paramsCache={};const t=this.hardfork();for(const r of this.HARDFORK_CHANGES){if("eips"in r[1]){const n=r[1].eips;for(const i of n){if(!(i in Qr))throw new Error(`${i} not supported`);this._mergeWithParamsCache(Qr[i])}}else this._mergeWithParamsCache(r[1]);if(r[0]===t)break}for(const r of this._eips){if(!(r in Qr))throw new Error(`${r} not supported`);this._mergeWithParamsCache(Qr[r])}}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const t of this.HARDFORK_CHANGES){const r=t[1];this.gteHardfork(r.name)&&"eips"in r&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(r.eips))}this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(t,r){let n=null;return this._paramsCache[t]!==void 0&&this._paramsCache[t][r]!==void 0&&(n=this._paramsCache[t][r].v),BigInt(n??0)}paramByHardfork(t,r,n){let i=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const a=o[1].eips;for(const s of a){const f=this.paramByEIP(t,r,s);i=typeof f=="bigint"?f:i}}else o[1][t]!==void 0&&o[1][t][r]!==void 0&&(i=o[1][t][r].v);if(o[0]===n)break}return BigInt(i??0)}paramByEIP(t,r,n){if(!(n in Qr))throw new Error(`${n} not supported`);const i=Qr[n];if(!(t in i)||i[t][r]===void 0)return;const o=i[t][r].v;return BigInt(o)}paramByBlock(t,r,n,i,o){const a=this.getHardforkBy({blockNumber:n,td:i,timestamp:o});return this.paramByHardfork(t,r,a)}isActivatedEIP(t){return!!this._activatedEIPsCache.includes(t)}hardforkIsActiveOnBlock(t,r){r=mi(r,Fr.BigInt),t=t??this._hardfork;const n=this.hardforkBlock(t);return typeof n=="bigint"&&n!==vr&&r>=n}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t)}hardforkGteHardfork(t,r){t=t??this._hardfork;const n=this.hardforks();let i=-1,o=-1,a=0;for(const s of n)s.name===t&&(i=a),s.name===r&&(o=a),a+=1;return i>=o&&o!==-1}gteHardfork(t){return this.hardforkGteHardfork(null,t)}hardforkBlock(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.block;return r==null?null:BigInt(r)}hardforkTimestamp(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.timestamp;return r==null?null:BigInt(r)}eipBlock(t){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(t))return this.hardforkBlock(r[0])}return null}eipTimestamp(t){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(t))return this.hardforkTimestamp(r[0])}return null}hardforkTTD(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.ttd;return r==null?null:BigInt(r)}nextHardforkBlockOrTimestamp(t){t=t??this._hardfork;const r=this.hardforks();let n=r.findIndex(s=>s.name===t);if(t===Be.Paris&&(n-=1),n<0)return null;let i=r[n].timestamp??r[n].block;i=i!=null?Number(i):null;const o=r.slice(n+1).find(s=>{let f=s.timestamp??s.block;return f=f!=null?Number(f):null,s.name!==Be.Paris&&f!==null&&f!==void 0&&f!==i});if(o===void 0)return null;const a=o.timestamp??o.block;return a==null?null:BigInt(a)}_calcForkHash(t,r){let n=new Uint8Array(0),i=0;for(const s of this.hardforks()){const{block:f,timestamp:c,name:l}=s;let g=c??f;if(g=g!==null?Number(g):null,typeof g=="number"&&g!==0&&g!==i&&l!==Be.Paris){const y=qt(`0x${g.toString(16).padStart(16,"0")}`);n=Ji(n,y),i=g}if(s.name===t)break}const o=Ji(r,n);return At(ai(B5(o)>>>0))}forkHash(t,r){t=t??this._hardfork;const n=this._getHardfork(t);if(n===null||(n==null?void 0:n.block)===null&&(n==null?void 0:n.timestamp)===void 0&&(n==null?void 0:n.ttd)===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if((n==null?void 0:n.forkHash)!==null&&(n==null?void 0:n.forkHash)!==void 0)return n.forkHash;if(!r)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(t,r)}hardforkForForkHash(t){const r=this.hardforks().filter(n=>n.forkHash===t);return r.length>=1?r[r.length-1]:null}setForkHashes(t){for(const r of this.hardforks()){const n=r.timestamp??r.block;(r.forkHash===null||r.forkHash===void 0)&&(n!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,t))}}genesis(){return this._chainParams.genesis}hardforks(){const t=this._chainParams.hardforks;return this._chainParams.customHardforks!==void 0&&this._chainParams.customHardforks,t}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.type),n[0]===t)break;return r??this._chainParams.consensus.type}consensusAlgorithm(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.algorithm),n[0]===t)break;return r??this._chainParams.consensus.algorithm}consensusConfig(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES){if("consensus"in n[1]){const i=n[1],o=i.consensus.algorithm;r=i.consensus[o]}if(n[0]===t)break}return r??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.events=new Rs.EventEmitter,t}static getInitializedChains(t){const r={};for(const[i,o]of Object.entries(pn))r[o]=i.toLowerCase();const n={...O5};if(t)for(const i of t){const{name:o}=i;r[i.chainId.toString()]=o,n[o]=i}return n.names=r,n}}var nn;(function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists",e[e.EIP7702EOACode=7702]="EIP7702EOACode"})(nn||(nn={}));function L5(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function $5(e){return!L5(e)}function M5(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function k5(e){return!M5(e)}var _t;(function(e){e[e.Legacy=0]="Legacy",e[e.AccessListEIP2930=1]="AccessListEIP2930",e[e.FeeMarketEIP1559=2]="FeeMarketEIP1559",e[e.BlobEIP4844=3]="BlobEIP4844",e[e.EOACodeEIP7702=4]="EOACodeEIP7702"})(_t||(_t={}));function U5(e){return Number(Ze(tt(e.type)))===_t.Legacy}function j5(e){return Number(Ze(tt(e.type)))===_t.AccessListEIP2930}function H5(e){return Number(Ze(tt(e.type)))===_t.FeeMarketEIP1559}function G5(e){return Number(Ze(tt(e.type)))===_t.BlobEIP4844}function z5(e){return Number(Ze(tt(e.type)))===_t.EOACodeEIP7702}function V5(e,t){const r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)}class Er{static getAccessListData(t){let r,n;if($5(t)){r=t;const i=[];for(let o=0;o<t.length;o++){const a=t[o],s=qt(a.address),f=[];for(let c=0;c<a.storageKeys.length;c++)f.push(qt(a.storageKeys[c]));i.push([s,f])}n=i}else{n=t??[];const i=[];for(let o=0;o<n.length;o++){const a=n[o],s=At(a[0]),f=[];for(let l=0;l<a[1].length;l++)f.push(At(a[1][l]));const c={address:s,storageKeys:f};i.push(c)}r=i}return{AccessListJSON:r,accessList:n}}static verifyAccessList(t){for(let r=0;r<t.length;r++){const n=t[r],i=n[0],o=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let a=0;a<o.length;a++)if(o[a].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(t){const r=[];for(let n=0;n<t.length;n++){const i=t[n],o={address:At(Wi(i[0],20)),storageKeys:[]},a=i[1];for(let s=0;s<a.length;s++){const f=a[s];o.storageKeys.push(At(Wi(f,32)))}r.push(o)}return r}static getDataFeeEIP2930(t,r){const n=r.param("gasPrices","accessListStorageKeyCost"),i=r.param("gasPrices","accessListAddressCost");let o=0;for(let s=0;s<t.length;s++){const c=t[s][1];o+=c.length}return t.length*Number(i)+o*Number(n)}}class _d{static getAuthorizationListData(t){let r,n;if(k5(t)){r=t;const i=[],o=["chainId","address","nonce","yParity","r","s"];for(let a=0;a<t.length;a++){const s=t[a];for(const _ of o)if(s[_]===void 0)throw new Error(`EIP-7702 authorization list invalid: ${_} is not defined`);const f=qt(s.chainId),c=qt(s.address),l=[];for(let _=0;_<s.nonce.length;_++)l.push(qt(s.nonce[_]));const g=qt(s.yParity),y=qt(s.r),v=qt(s.s);i.push([f,c,l,g,y,v])}n=i}else{n=t??[];const i=[];for(let o=0;o<n.length;o++){const a=n[o],s=At(a[0]),f=At(a[1]),c=a[2],l=[];for(let j=0;j<c.length;j++)l.push(At(c[j]));const g=At(a[3]),y=At(a[4]),v=At(a[5]),_={chainId:s,address:f,nonce:l,yParity:g,r:y,s:v};i.push(_)}r=i}return{AuthorizationListJSON:r,authorizationList:n}}static verifyAuthorizationList(t){for(let r=0;r<t.length;r++){const n=t[r],i=n[1],o=n[2],a=n[3],s=n[4],f=n[5];if(Yn({yParity:a,r:s,s:f}),i.length!==20)throw new Error("Invalid EIP-7702 transaction: address length should be 20 bytes");if(o.length>1)throw new Error("Invalid EIP-7702 transaction: nonce list should consist of at most 1 item");o.length===1&&Yn({nonce:o[0]})}}static getDataFeeEIP7702(t,r){const n=r.param("gasPrices","perAuthBaseCost");return t.length*Number(n)}}function Ai(e){return qt(`0x${e.toString(16).padStart(2,"0")}`)}class Kr{constructor(t,r){this.cache={hash:void 0,dataFee:void 0,senderPubKey:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=pn.Mainnet;const{nonce:n,gasLimit:i,to:o,value:a,data:s,v:f,r:c,s:l,type:g}=t;this._type=Number(Ze(tt(g))),this.txOptions=r;const y=tt(o===""?"0x":o),v=tt(f),_=tt(c),j=tt(l);this.nonce=Ze(tt(n)),this.gasLimit=Ze(tt(i)),this.to=y.length>0?new vd(y):void 0,this.value=Ze(tt(a)),this.data=tt(s===""?"0x":s),this.v=v.length>0?Ze(v):void 0,this.r=_.length>0?Ze(_):void 0,this.s=j.length>0?Ze(j):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const z=this.to===void 0||this.to===null,Z=r.allowUnlimitedInitCodeSize??!1,k=r.common??this._getCommon();z&&k.isActivatedEIP(3860)&&Z===!1&&V5(k,this.data.length)}get type(){return this._type}supports(t){return this.activeCapabilities.includes(t)}getValidationErrors(){const t=[];return this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),t}isValid(){return this.getValidationErrors().length===0}getBaseFee(){const t=this.common.param("gasPrices","tx");let r=this.getDataFee();if(t&&(r+=t),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(r+=n)}return r}getDataFee(){const t=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero");let n=vr;for(let i=0;i<this.data.length;i++)this.data[i]===0?n+=t:n+=r;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),o=this.common.param("gasPrices","initCodeWordCost")*i;n+=o}return n}toCreationAddress(){return this.to===void 0||this.to.bytes.length===0}isSigned(){const{v:t,r,s:n}=this;return!(t===void 0||r===void 0||n===void 0)}verifySignature(){try{const t=this.getSenderPublicKey();return Yo(t).length!==0}catch{return!1}}getSenderAddress(){return new vd(oh(this.getSenderPublicKey()))}sign(t){var c;if(t.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let r=!1;this.type===_t.Legacy&&this.common.gteHardfork("spuriousDragon")&&!this.supports(nn.EIP155ReplayProtection)&&(this.activeCapabilities.push(nn.EIP155ReplayProtection),r=!0);const n=this.getHashedMessageToSign(),i=((c=this.common.customCrypto)==null?void 0:c.ecsign)??h5,{v:o,r:a,s}=i(n,t),f=this.addSignature(o,a,s,!0);if(r){const l=this.activeCapabilities.indexOf(nn.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return f}toJSON(){return{type:Ft(BigInt(this.type)),nonce:Ft(this.nonce),gasLimit:Ft(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Ft(this.value),data:At(this.data),v:this.v!==void 0?Ft(this.v):void 0,r:this.r!==void 0?Ft(this.r):void 0,s:this.s!==void 0?Ft(this.s):void 0}}_getCommon(t,r){if(r!==void 0){const n=Ze(tt(r));if(t){if(t.chainId()!==n){const i=this._errorMsg(`The chain ID does not match the chain ID of Common. Got: ${n}, expected: ${t.chainId()}`);throw new Error(i)}return t.copy()}else return lr.isSupportedChainId(n)?new lr({chain:n}):lr.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN})}else return(t==null?void 0:t.copy())??new lr({chain:this.DEFAULT_CHAIN})}_validateCannotExceedMaxInteger(t,r=256,n=!1){for(const[i,o]of Object.entries(t))switch(r){case 64:if(n){if(o!==void 0&&o>=yd){const a=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(a)}}else if(o!==void 0&&o>yd){const a=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(a)}break;case 256:if(n){if(o!==void 0&&o>=Xn){const a=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(a)}}else if(o!==void 0&&o>Xn){const a=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(t){const r=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,i]of Object.entries(t))if(r.includes(n)&&Array.isArray(i))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let t="";try{t=this.isSigned()?At(this.hash()):"not available (unsigned)"}catch{t="error"}let r="";try{r=this.isSigned().toString()}catch{t="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let i=`tx type=${this.type} hash=${t} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${r} hf=${n}`,i}}function uc(e,t){const r=e.maxPriorityFeePerGas,n=e.maxFeePerGas-t,o=(r<n?r:n)+t;return e.gasLimit*o+e.value}function dc(e,t){if(t===void 0||t>e.maxFeePerGas)throw new Error("Tx cannot pay baseFee");const r=e.maxFeePerGas-t;return e.maxPriorityFeePerGas<r?e.maxPriorityFeePerGas:r}function En(e,t){return`${t} (${e.errorStr()})`}function lc(e,t){if(e.cache.dataFee&&e.cache.dataFee.hardfork===e.common.hardfork())return e.cache.dataFee.value;const r=Kr.prototype.getDataFee.bind(e)()+(t??0n);return Object.isFrozen(e)&&(e.cache.dataFee={value:r,hardfork:e.common.hardfork()}),r}function lo(e){if(!e.isSigned()){const r=En(e,"Cannot call hash method if transaction is not signed");throw new Error(r)}const t=e.common.customCrypto.keccak256??Tn;return Object.isFrozen(e)?(e.cache.hash||(e.cache.hash=t(e.serialize())),e.cache.hash):t(e.serialize())}function ho(e){const{s:t}=e;if(e.common.gteHardfork("homestead")&&t!==void 0&&t>o5){const r=En(e,"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}}function go(e){if(e.cache.senderPubKey!==void 0)return e.cache.senderPubKey;const t=e.getMessageToVerifySignature(),{v:r,r:n,s:i}=e;ho(e);try{const a=(e.common.customCrypto.ecrecover??m5)(t,r,Ge(n),Ge(i),e.supports(nn.EIP155ReplayProtection)?e.common.chainId():void 0);return Object.isFrozen(e)&&(e.cache.senderPubKey=a),a}catch{const a=En(e,"Invalid Signature");throw new Error(a)}}function fh(e,t){if(t!==void 0&&t>e)throw new Error("Tx cannot pay baseFee");return t===void 0?e:e-t}function Ia(e){return(e.common.customCrypto.keccak256??Tn)(e.getMessageToSign())}function yn(e,t){return Ji(Ai(e.type),qr.encode(t??e.raw()))}function Ta(e){const{v:t}=e;if(t!==void 0&&t!==vr&&t!==fc){const r=En(e,"The y-parity of the transaction should either be 0 or 1");throw new Error(r)}}function hc(e){return lc(e,BigInt(Er.getDataFeeEIP2930(e.accessList,e.common)))}class jn extends Kr{constructor(t,r={}){super({...t,type:_t.FeeMarketEIP1559},r);const{chainId:n,accessList:i,maxFeePerGas:o,maxPriorityFeePerGas:a}=t;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const s=Er.getAccessListData(i??[]);if(this.accessList=s.accessList,this.AccessListJSON=s.AccessListJSON,Er.verifyAccessList(this.accessList),this.maxFeePerGas=Ze(tt(o)),this.maxPriorityFeePerGas=Ze(tt(a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Kr._validateNotArray(t),this.gasLimit*this.maxFeePerGas>Xn){const c=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(c)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const c=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(c)}Ta(this),ho(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new jn(t,r)}static fromSerializedTx(t,r={}){if(Kn(t.subarray(0,1),Ai(_t.FeeMarketEIP1559))===!1)throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${_t.FeeMarketEIP1559}, received: ${At(t.subarray(0,1))}`);const n=qr.decode(t.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return jn.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==9&&t.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,i,o,a,s,f,c,l,g,y,v,_]=t;return this._validateNotArray({chainId:n,v:y}),Yn({nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,value:c,v:y,r:v,s:_}),new jn({chainId:Ze(n),nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,to:f,value:c,data:l,accessList:g??[],v:y!==void 0?Ze(y):void 0,r:v,s:_},r)}getDataFee(){return hc(this)}getEffectivePriorityFee(t){return dc(this,t)}getUpfrontCost(t=vr){return uc(this,t)}raw(){return[Ge(this.chainId),Ge(this.nonce),Ge(this.maxPriorityFeePerGas),Ge(this.maxFeePerGas),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data,this.accessList,this.v!==void 0?Ge(this.v):new Uint8Array(0),this.r!==void 0?Ge(this.r):new Uint8Array(0),this.s!==void 0?Ge(this.s):new Uint8Array(0)]}serialize(){return yn(this)}getMessageToSign(){return yn(this,this.raw().slice(0,9))}getHashedMessageToSign(){return Ia(this)}hash(){return lo(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return go(this)}addSignature(t,r,n,i=!1){r=tt(r),n=tt(n);const o={...this.txOptions,common:this.common};return jn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?t-uo:t,r:Ze(r),s:Ze(n)},o)}toJSON(){const t=Er.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ft(this.chainId),maxPriorityFeePerGas:Ft(this.maxPriorityFeePerGas),maxFeePerGas:Ft(this.maxFeePerGas),accessList:t}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return En(this,t)}}class Hn extends Kr{constructor(t,r={}){super({...t,type:_t.AccessListEIP2930},r);const{chainId:n,accessList:i,gasPrice:o}=t;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const a=Er.getAccessListData(i??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,Er.verifyAccessList(this.accessList),this.gasPrice=Ze(tt(o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Kr._validateNotArray(t),this.gasPrice*this.gasLimit>Xn){const f=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(f)}Ta(this),ho(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new Hn(t,r)}static fromSerializedTx(t,r={}){if(Kn(t.subarray(0,1),Ai(_t.AccessListEIP2930))===!1)throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${_t.AccessListEIP2930}, received: ${At(t.subarray(0,1))}`);const n=qr.decode(Uint8Array.from(t.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Hn.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==8&&t.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,i,o,a,s,f,c,l,g,y,v]=t;this._validateNotArray({chainId:n,v:g}),Yn({nonce:i,gasPrice:o,gasLimit:a,value:f,v:g,r:y,s:v});const _=[];return new Hn({chainId:Ze(n),nonce:i,gasPrice:o,gasLimit:a,to:s,value:f,data:c,accessList:l??_,v:g!==void 0?Ze(g):void 0,r:y,s:v},r)}getEffectivePriorityFee(t){return fh(this.gasPrice,t)}getDataFee(){return hc(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Ge(this.chainId),Ge(this.nonce),Ge(this.gasPrice),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data,this.accessList,this.v!==void 0?Ge(this.v):new Uint8Array(0),this.r!==void 0?Ge(this.r):new Uint8Array(0),this.s!==void 0?Ge(this.s):new Uint8Array(0)]}serialize(){return yn(this)}getMessageToSign(){return yn(this,this.raw().slice(0,8))}getHashedMessageToSign(){return Ia(this)}hash(){return lo(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return go(this)}addSignature(t,r,n,i=!1){r=tt(r),n=tt(n);const o={...this.txOptions,common:this.common};return Hn.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?t-uo:t,r:Ze(r),s:Ze(n)},o)}toJSON(){const t=Er.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ft(this.chainId),gasPrice:Ft(this.gasPrice),accessList:t}}errorStr(){var r;let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice} accessListCount=${((r=this.accessList)==null?void 0:r.length)??0}`,t}_errorMsg(t){return En(this,t)}}const Pd=6,q5=(e,t,r,n,i,o)=>{if(!(e.length===t.length&&t.length===r.length))throw new Error("Number of blobVersionedHashes, blobs, and commitments not all equal");if(e.length===0)throw new Error("Invalid transaction with empty blobs");let a;try{a=o.verifyBlobKzgProofBatch(t,r,n)}catch(s){throw new Error(`KZG verification of blobs fail with error=${s}`)}if(!a)throw new Error("KZG proof cannot be verified from blobs/commitments");for(let s=0;s<e.length;s++){const f=sh(r[s],i);if(!Kn(f,e[s]))throw new Error(`commitment for blob at index ${s} does not match versionedHash`)}};class hn extends Kr{constructor(t,r={}){var l,g,y;super({...t,type:_t.BlobEIP4844},r);const{chainId:n,accessList:i,maxFeePerGas:o,maxPriorityFeePerGas:a,maxFeePerBlobGas:s}=t;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");if(!this.common.isActivatedEIP(4844))throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const f=Er.getAccessListData(i??[]);if(this.accessList=f.accessList,this.AccessListJSON=f.AccessListJSON,Er.verifyAccessList(this.accessList),this.maxFeePerGas=Ze(tt(o)),this.maxPriorityFeePerGas=Ze(tt(a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Kr._validateNotArray(t),this.gasLimit*this.maxFeePerGas>Xn){const v=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(v)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const v=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(v)}this.maxFeePerBlobGas=Ze(tt((s??"")===""?"0x":s)),this.blobVersionedHashes=(t.blobVersionedHashes??[]).map(v=>tt(v)),Ta(this),ho(this);for(const v of this.blobVersionedHashes){if(v.length!==32){const _=this._errorMsg("versioned hash is invalid length");throw new Error(_)}if(BigInt(v[0])!==this.common.param("sharding","blobCommitmentVersionKzg")){const _=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(_)}}if(this.blobVersionedHashes.length>Pd){const v=this._errorMsg(`tx can contain at most ${Pd} blobs`);throw new Error(v)}else if(this.blobVersionedHashes.length===0){const v=this._errorMsg("tx should contain at least one blob");throw new Error(v)}if(this.to===void 0){const v=this._errorMsg('tx should have a "to" field and cannot be used to create contracts');throw new Error(v)}this.blobs=(l=t.blobs)==null?void 0:l.map(v=>tt(v)),this.kzgCommitments=(g=t.kzgCommitments)==null?void 0:g.map(v=>tt(v)),this.kzgProofs=(y=t.kzgProofs)==null?void 0:y.map(v=>tt(v)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r){var i,o;if(((o=(i=r==null?void 0:r.common)==null?void 0:i.customCrypto)==null?void 0:o.kzg)===void 0)throw new Error("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");const n=r.common.customCrypto.kzg;if(t.blobsData!==void 0){if(t.blobs!==void 0)throw new Error("cannot have both raw blobs data and encoded blobs in constructor");if(t.kzgCommitments!==void 0)throw new Error("cannot have both raw blobs data and KZG commitments in constructor");if(t.blobVersionedHashes!==void 0)throw new Error("cannot have both raw blobs data and versioned hashes in constructor");if(t.kzgProofs!==void 0)throw new Error("cannot have both raw blobs data and KZG proofs in constructor");t.blobs=S5(t.blobsData.reduce((a,s)=>a+s)),t.kzgCommitments=A5(n,t.blobs),t.blobVersionedHashes=P5(t.kzgCommitments),t.kzgProofs=_5(n,t.blobs,t.kzgCommitments)}return new hn(t,r)}getEffectivePriorityFee(t){return dc(this,t)}static minimalFromNetworkWrapper(t,r){var i,o;if(((o=(i=r==null?void 0:r.common)==null?void 0:i.customCrypto)==null?void 0:o.kzg)===void 0)throw new Error("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");return hn.fromTxData({...t,blobs:void 0,kzgCommitments:void 0,kzgProofs:void 0},r)}static fromSerializedTx(t,r={}){var i,o;if(((o=(i=r.common)==null?void 0:i.customCrypto)==null?void 0:o.kzg)===void 0)throw new Error("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");if(Kn(t.subarray(0,1),Ai(_t.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${_t.BlobEIP4844}, received: ${At(t.subarray(0,1))}`);const n=qr.decode(t.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return hn.fromValuesArray(n,r)}static fromValuesArray(t,r={}){var Z,k;if(((k=(Z=r.common)==null?void 0:Z.customCrypto)==null?void 0:k.kzg)===void 0)throw new Error("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");if(t.length!==11&&t.length!==14)throw new Error("Invalid EIP-4844 transaction. Only expecting 11 values (for unsigned tx) or 14 values (for signed tx).");const[n,i,o,a,s,f,c,l,g,y,v,_,j,z]=t;return this._validateNotArray({chainId:n,v:_}),Yn({nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,value:c,maxFeePerBlobGas:y,v:_,r:j,s:z}),new hn({chainId:Ze(n),nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,to:f,value:c,data:l,accessList:g??[],maxFeePerBlobGas:y,blobVersionedHashes:v,v:_!==void 0?Ze(_):void 0,r:j,s:z},r)}static fromSerializedBlobTxNetworkWrapper(t,r){var g,y;if(!r||!r.common)throw new Error("common instance required to validate versioned hashes");if(((y=(g=r.common)==null?void 0:g.customCrypto)==null?void 0:y.kzg)===void 0)throw new Error("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");if(Kn(t.subarray(0,1),Ai(_t.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${_t.BlobEIP4844}, received: ${At(t.subarray(0,1))}`);const n=qr.decode(t.subarray(1));if(n.length!==4)throw Error("Expected 4 values in the deserialized network transaction");const[i,o,a,s]=n,f=hn.fromValuesArray(i,{...r,freeze:!1});if(f.to===void 0)throw Error("BlobEIP4844Transaction can not be send without a valid `to`");const c=Number(r.common.param("sharding","blobCommitmentVersionKzg"));return q5(f.blobVersionedHashes,o,a,s,c,r.common.customCrypto.kzg),f.blobs=o,f.kzgCommitments=a,f.kzgProofs=s,((r==null?void 0:r.freeze)??!0)&&Object.freeze(f),f}getDataFee(){return hc(this)}getUpfrontCost(t=vr){return uc(this,t)}raw(){return[Ge(this.chainId),Ge(this.nonce),Ge(this.maxPriorityFeePerGas),Ge(this.maxFeePerGas),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data,this.accessList,Ge(this.maxFeePerBlobGas),this.blobVersionedHashes,this.v!==void 0?Ge(this.v):new Uint8Array(0),this.r!==void 0?Ge(this.r):new Uint8Array(0),this.s!==void 0?Ge(this.s):new Uint8Array(0)]}serialize(){return yn(this)}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.kzgProofs===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided");return yn(this,[this.raw(),this.blobs,this.kzgCommitments,this.kzgProofs])}getMessageToSign(){return yn(this,this.raw().slice(0,11))}getHashedMessageToSign(){return Ia(this)}hash(){return lo(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return go(this)}static networkWrapperToJson(t,r){const n=this.fromSerializedBlobTxNetworkWrapper(t,r),i=Er.getAccessListJSON(n.accessList);return{...n.toJSON(),chainId:Ft(n.chainId),maxPriorityFeePerGas:Ft(n.maxPriorityFeePerGas),maxFeePerGas:Ft(n.maxFeePerGas),accessList:i,maxFeePerBlobGas:Ft(n.maxFeePerBlobGas),blobVersionedHashes:n.blobVersionedHashes.map(a=>At(a)),blobs:n.blobs.map(a=>At(a)),kzgCommitments:n.kzgCommitments.map(a=>At(a)),kzgProofs:n.kzgProofs.map(a=>At(a))}}toJSON(){const t=Er.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ft(this.chainId),maxPriorityFeePerGas:Ft(this.maxPriorityFeePerGas),maxFeePerGas:Ft(this.maxFeePerGas),accessList:t,maxFeePerBlobGas:Ft(this.maxFeePerBlobGas),blobVersionedHashes:this.blobVersionedHashes.map(n=>At(n))}}addSignature(t,r,n,i=!1){r=tt(r),n=tt(n);const o={...this.txOptions,common:this.common};return hn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:i?t-uo:t,r:Ze(r),s:Ze(n),maxFeePerBlobGas:this.maxFeePerBlobGas,blobVersionedHashes:this.blobVersionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProofs:this.kzgProofs},o)}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return En(this,t)}numBlobs(){return this.blobVersionedHashes.length}}function K5(e){const t=BigInt(Er.getDataFeeEIP2930(e.accessList,e.common)),r=BigInt(e.authorizationList.length*Number(e.common.param("gasPrices","perAuthBaseCost")));return lc(e,t+r)}class Gn extends Kr{constructor(t,r={}){super({...t,type:_t.EOACodeEIP7702},r);const{chainId:n,accessList:i,authorizationList:o,maxFeePerGas:a,maxPriorityFeePerGas:s}=t;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(7702))throw new Error("EIP-7702 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930,7702]);const f=Er.getAccessListData(i??[]);this.accessList=f.accessList,this.AccessListJSON=f.AccessListJSON,Er.verifyAccessList(this.accessList);const c=_d.getAuthorizationListData(o??[]);if(this.authorizationList=c.authorizationList,this.AuthorizationListJSON=c.AuthorizationListJSON,_d.verifyAuthorizationList(this.authorizationList),this.maxFeePerGas=Ze(tt(a)),this.maxPriorityFeePerGas=Ze(tt(s)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Kr._validateNotArray(t),this.gasLimit*this.maxFeePerGas>Xn){const g=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(g)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const g=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(g)}Ta(this),ho(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new Gn(t,r)}static fromSerializedTx(t,r={}){if(Kn(t.subarray(0,1),Ai(_t.EOACodeEIP7702))===!1)throw new Error(`Invalid serialized tx input: not an EIP-7702 transaction (wrong tx type, expected: ${_t.EOACodeEIP7702}, received: ${At(t.subarray(0,1))}`);const n=qr.decode(t.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Gn.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==10&&t.length!==13)throw new Error("Invalid EIP-7702 transaction. Only expecting 10 values (for unsigned tx) or 13 values (for signed tx).");const[n,i,o,a,s,f,c,l,g,y,v,_,j]=t;return this._validateNotArray({chainId:n,v}),Yn({nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,value:c,v,r:_,s:j}),new Gn({chainId:Ze(n),nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:a,gasLimit:s,to:f,value:c,data:l,accessList:g??[],authorizationList:y??[],v:v!==void 0?Ze(v):void 0,r:_,s:j},r)}getDataFee(){return K5(this)}getEffectivePriorityFee(t){return dc(this,t)}getUpfrontCost(t=vr){return uc(this,t)}raw(){return[Ge(this.chainId),Ge(this.nonce),Ge(this.maxPriorityFeePerGas),Ge(this.maxFeePerGas),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data,this.accessList,this.authorizationList,this.v!==void 0?Ge(this.v):new Uint8Array(0),this.r!==void 0?Ge(this.r):new Uint8Array(0),this.s!==void 0?Ge(this.s):new Uint8Array(0)]}serialize(){return yn(this)}getMessageToSign(){return yn(this,this.raw().slice(0,10))}getHashedMessageToSign(){return Ia(this)}hash(){return lo(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return go(this)}addSignature(t,r,n,i=!1){r=tt(r),n=tt(n);const o={...this.txOptions,common:this.common};return Gn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,authorizationList:this.authorizationList,v:i?t-uo:t,r:Ze(r),s:Ze(n)},o)}toJSON(){const t=Er.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Ft(this.chainId),maxPriorityFeePerGas:Ft(this.maxPriorityFeePerGas),maxFeePerGas:Ft(this.maxFeePerGas),accessList:t,authorizationList:this.AuthorizationListJSON}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return En(this,t)}}function Id(e,t){const r=Number(e),n=Number(t)*2;return r===n+35||r===n+36}class _n extends Kr{constructor(t,r={}){if(super({...t,type:_t.Legacy},r),this.common=this._validateTxV(this.v,r.common),this.keccakFunction=this.common.customCrypto.keccak256??Tn,this.gasPrice=Ze(tt(t.gasPrice)),this.gasPrice*this.gasLimit>Xn){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Kr._validateNotArray(t),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?Id(this.v,this.common.chainId())&&this.activeCapabilities.push(nn.EIP155ReplayProtection):this.activeCapabilities.push(nn.EIP155ReplayProtection)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new _n(t,r)}static fromSerializedTx(t,r={}){const n=qr.decode(t);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==6&&t.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,i,o,a,s,f,c,l,g]=t;return Yn({nonce:n,gasPrice:i,gasLimit:o,value:s,v:c,r:l,s:g}),new _n({nonce:n,gasPrice:i,gasLimit:o,to:a,value:s,data:f,v:c,r:l,s:g},r)}getEffectivePriorityFee(t){return fh(this.gasPrice,t)}raw(){return[Ge(this.nonce),Ge(this.gasPrice),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data,this.v!==void 0?Ge(this.v):new Uint8Array(0),this.r!==void 0?Ge(this.r):new Uint8Array(0),this.s!==void 0?Ge(this.s):new Uint8Array(0)]}serialize(){return qr.encode(this.raw())}getMessageToSign(){const t=[Ge(this.nonce),Ge(this.gasPrice),Ge(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Ge(this.value),this.data];return this.supports(nn.EIP155ReplayProtection)&&(t.push(Ge(this.common.chainId())),t.push(Yo(tt(0))),t.push(Yo(tt(0)))),t}getHashedMessageToSign(){const t=this.getMessageToSign();return this.keccakFunction(qr.encode(t))}getDataFee(){return lc(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){return lo(this)}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}return this.getHashedMessageToSign()}getSenderPublicKey(){return go(this)}addSignature(t,r,n,i=!1){r=tt(r),n=tt(n),i&&this.supports(nn.EIP155ReplayProtection)&&(t+=this.common.chainId()*Xo+c5);const o={...this.txOptions,common:this.common};return _n.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:t,r:Ze(r),s:Ze(n)},o)}toJSON(){return{...super.toJSON(),gasPrice:Ft(this.gasPrice)}}_validateTxV(t,r){let n;const i=t!==void 0?Number(t):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!r||r.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(r){if(!Id(BigInt(i),r.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${r.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(i-35)%2===0?o=35:o=36,n=BigInt(i-o)/Xo}return this._getCommon(r,n)}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t}_errorMsg(t){return En(this,t)}}const W5=e=>{const t=Object.assign({},e);return t.gasLimit=mi(t.gasLimit??t.gas,Fr.BigInt),t.data=t.data===void 0?t.input:t.data,t.gasPrice=t.gasPrice!==void 0?BigInt(t.gasPrice):void 0,t.value=t.value!==void 0?BigInt(t.value):void 0,t.to=t.to!==null&&t.to!==void 0?Wi(tt(t.to),20):null,t.v=t.v==="0x0"?"0x":t.v,t.r=t.r==="0x0"?"0x":t.r,t.s=t.s==="0x0"?"0x":t.s,(t.v!=="0x"||t.r!=="0x"||t.s!=="0x")&&(t.v=mi(t.v,Fr.BigInt)),t};class Zo{constructor(){}static fromTxData(t,r={}){if(!("type"in t)||t.type===void 0)return _n.fromTxData(t,r);if(U5(t))return _n.fromTxData(t,r);if(j5(t))return Hn.fromTxData(t,r);if(H5(t))return jn.fromTxData(t,r);if(G5(t))return hn.fromTxData(t,r);if(z5(t))return Gn.fromTxData(t,r);throw new Error(`Tx instantiation with type ${t==null?void 0:t.type} not supported`)}static fromSerializedData(t,r={}){if(t[0]<=127)switch(t[0]){case _t.AccessListEIP2930:return Hn.fromSerializedTx(t,r);case _t.FeeMarketEIP1559:return jn.fromSerializedTx(t,r);case _t.BlobEIP4844:return hn.fromSerializedTx(t,r);case _t.EOACodeEIP7702:return Gn.fromSerializedTx(t,r);default:throw new Error(`TypedTransaction with ID ${t[0]} unknown`)}else return _n.fromSerializedTx(t,r)}static fromBlockBodyData(t,r={}){if(t instanceof Uint8Array)return this.fromSerializedData(t,r);if(Array.isArray(t))return _n.fromValuesArray(t,r);throw new Error("Cannot decode transaction: unknown type input")}static async fromJsonRpcProvider(t,r,n){const i=T5(t),o=await I5(i,{method:"eth_getTransactionByHash",params:[r]});if(o===null)throw new Error("No data returned from provider");return Zo.fromRPC(o,n)}static async fromRPC(t,r={}){return Zo.fromTxData(W5(t),r)}}var hr={},Pn={},Oa={},Da={},Ba={};const J5=eo(am);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=J5;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})})(Ba);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=Rp,r=Ba;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Da);var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.GWEI_TO_WEI=void 0;Ca.GWEI_TO_WEI=BigInt(1e9);var gc={};const Y5=eo(fm);var si={},Lr={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.isHexString=Ot.getKeys=Ot.fromAscii=Ot.fromUtf8=Ot.toAscii=Ot.arrayContainsArray=Ot.getBinarySize=Ot.padToEven=Ot.stripHexPrefix=Ot.isHexPrefixed=void 0;function ch(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}Ot.isHexPrefixed=ch;const X5=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return ch(e)?e.slice(2):e};Ot.stripHexPrefix=X5;function uh(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}Ot.padToEven=uh;function Z5(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return Buffer.byteLength(e,"utf8")}Ot.getBinarySize=Z5;function Q5(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}Ot.arrayContainsArray=Q5;function eS(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}Ot.toAscii=eS;function tS(e){const t=Buffer.from(e,"utf8");return`0x${uh(t.toString("hex")).replace(/^0+|0+$/g,"")}`}Ot.fromUtf8=tS;function rS(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}Ot.fromAscii=rS;function nS(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(r===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}Ot.getKeys=nS;function iS(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}Ot.isHexString=iS;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.assertIsString=Lr.assertIsArray=Lr.assertIsBuffer=Lr.assertIsHexString=void 0;const oS=Ot,aS=function(e){if(!(0,oS.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};Lr.assertIsHexString=aS;const sS=function(e){if(!Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};Lr.assertIsBuffer=sS;const fS=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};Lr.assertIsArray=fS;const cS=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};Lr.assertIsString=cS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=Lr,r=Ot,n=function(p){if(!Number.isSafeInteger(p)||p<0)throw new Error(`Received an invalid integer type: ${p}`);return`0x${p.toString(16)}`};e.intToHex=n;const i=function(p){const x=(0,e.intToHex)(p);return Buffer.from((0,r.padToEven)(x.slice(2)),"hex")};e.intToBuffer=i;const o=function(p){return Buffer.allocUnsafe(p).fill(0)};e.zeros=o;const a=function(p,x,M){const H=(0,e.zeros)(x);return M?p.length<x?(p.copy(H),H):p.slice(0,x):p.length<x?(p.copy(H,x-p.length),H):p.slice(-x)},s=function(p,x){return(0,t.assertIsBuffer)(p),a(p,x,!1)};e.setLengthLeft=s;const f=function(p,x){return(0,t.assertIsBuffer)(p),a(p,x,!0)};e.setLengthRight=f;const c=function(p){let x=p[0];for(;p.length>0&&x.toString()==="0";)p=p.slice(1),x=p[0];return p},l=function(p){return(0,t.assertIsBuffer)(p),c(p)};e.unpadBuffer=l;const g=function(p){return(0,t.assertIsArray)(p),c(p)};e.unpadArray=g;const y=function(p){return(0,t.assertIsHexString)(p),p=(0,r.stripHexPrefix)(p),"0x"+c(p)};e.unpadHexString=y;const v=function(p){if(p==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(p)||Array.isArray(p)||p instanceof Uint8Array)return Buffer.from(p);if(typeof p=="string"){if(!(0,r.isHexString)(p))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${p}`);return Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(p)),"hex")}if(typeof p=="number")return(0,e.intToBuffer)(p);if(typeof p=="bigint"){if(p<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${p}`);let x=p.toString(16);return x.length%2&&(x="0"+x),Buffer.from(x,"hex")}if(p.toArray)return Buffer.from(p.toArray());if(p.toBuffer)return Buffer.from(p.toBuffer());throw new Error("invalid type")};e.toBuffer=v;const _=function(p){return p=(0,e.toBuffer)(p),"0x"+p.toString("hex")};e.bufferToHex=_;function j(p){const x=(0,e.bufferToHex)(p);return BigInt(x==="0x"?0:x)}e.bufferToBigInt=j;function z(p){return(0,e.toBuffer)("0x"+p.toString(16))}e.bigIntToBuffer=z;const Z=function(p){const x=Number(j(p));if(!Number.isSafeInteger(x))throw new Error("Number exceeds 53 bits");return x};e.bufferToInt=Z;const k=function(p){return BigInt.asIntN(256,j(p))};e.fromSigned=k;const K=function(p){return z(BigInt.asUintN(256,p))};e.toUnsigned=K;const $=function(p){return typeof p!="string"||(0,r.isHexPrefixed)(p)?p:"0x"+p};e.addHexPrefix=$;function B(p,x=50){const M=Buffer.isBuffer(p)?p.toString("hex"):p;return M.length<=x?M:M.slice(0,x)+""}e.short=B;const D=function(p){const x=/^(00)+|(00)+$/g;if(p=(0,r.stripHexPrefix)(p),p.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(p.replace(x,""),"hex").toString("utf8")};e.toUtf8=D;const h=function(p){if(Buffer.isBuffer(p))return`0x${p.toString("hex")}`;if(p instanceof Array){const x=[];for(let M=0;M<p.length;M++)x.push((0,e.baToJSON)(p[M]));return x}};e.baToJSON=h;const A=function(p){for(const[x,M]of Object.entries(p))if(M!==void 0&&M.length>0&&M[0]===0)throw new Error(`${x} cannot have leading zeroes, received: ${M.toString("hex")}`)};e.validateNoLeadingZeroes=A;function q(p){return Array.isArray(p)?p.map(x=>q(x)):Buffer.from(p)}e.arrToBufArr=q;function re(p){return Array.isArray(p)?p.map(x=>re(x)):Uint8Array.from(p??[])}e.bufArrToArr=re;const fe=p=>"0x"+p.toString(16);e.bigIntToHex=fe;function T(p){return(0,e.unpadBuffer)(z(p))}e.bigIntToUnpaddedBuffer=T;function N(p){return(0,e.unpadBuffer)((0,e.intToBuffer)(p))}e.intToUnpaddedBuffer=N})(si);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=cm,r=Ef,n=Ba,i=Y5,o=si,a=Da,s=Lr,f=Ot,c=BigInt(0);class l{constructor(N=c,p=c,x=a.KECCAK256_RLP,M=a.KECCAK256_NULL){this.nonce=N,this.balance=p,this.storageRoot=x,this.codeHash=M,this._validate()}static fromAccountData(N){const{nonce:p,balance:x,storageRoot:M,codeHash:H}=N;return new l(p!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(p)):void 0,x!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(x)):void 0,M!==void 0?(0,o.toBuffer)(M):void 0,H!==void 0?(0,o.toBuffer)(H):void 0)}static fromRlpSerializedAccount(N){const p=(0,o.arrToBufArr)(t.RLP.decode(Uint8Array.from(N)));if(!Array.isArray(p))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(p)}static fromValuesArray(N){const[p,x,M,H]=N;return new l((0,o.bufferToBigInt)(p),(0,o.bufferToBigInt)(x),M,H)}_validate(){if(this.nonce<c)throw new Error("nonce must be greater than zero");if(this.balance<c)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(t.RLP.encode((0,o.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(a.KECCAK256_NULL)}isEmpty(){return this.balance===c&&this.nonce===c&&this.codeHash.equals(a.KECCAK256_NULL)}}e.Account=l;const g=function(T){try{(0,s.assertIsString)(T)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(T)};e.isValidAddress=g;const y=function(T,N){(0,s.assertIsHexString)(T);const p=(0,f.stripHexPrefix)(T).toLowerCase();let x="";N!==void 0&&(x=(0,o.bufferToBigInt)((0,o.toBuffer)(N)).toString()+"0x");const M=Buffer.from(x+p,"utf8"),H=(0,i.bytesToHex)((0,r.keccak256)(M));let G="0x";for(let L=0;L<p.length;L++)parseInt(H[L],16)>=8?G+=p[L].toUpperCase():G+=p[L];return G};e.toChecksumAddress=y;const v=function(T,N){return(0,e.isValidAddress)(T)&&(0,e.toChecksumAddress)(T,N)===T};e.isValidChecksumAddress=v;const _=function(T,N){return(0,s.assertIsBuffer)(T),(0,s.assertIsBuffer)(N),(0,o.bufferToBigInt)(N)===BigInt(0)?Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([T,null])))).slice(-20):Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([T,N])))).slice(-20)};e.generateAddress=_;const j=function(T,N,p){if((0,s.assertIsBuffer)(T),(0,s.assertIsBuffer)(N),(0,s.assertIsBuffer)(p),T.length!==20)throw new Error("Expected from to be of length 20");if(N.length!==32)throw new Error("Expected salt to be of length 32");const x=(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),T,N,(0,r.keccak256)(p)]));return(0,o.toBuffer)(x).slice(-20)};e.generateAddress2=j;const z=function(T){return n.secp256k1.utils.isValidPrivateKey(T)};e.isValidPrivate=z;const Z=function(T,N=!1){if((0,s.assertIsBuffer)(T),T.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),T])),!0}catch{return!1}if(!N)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(T),!0}catch{return!1}};e.isValidPublic=Z;const k=function(T,N=!1){if((0,s.assertIsBuffer)(T),N&&T.length!==64&&(T=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,r.keccak256)(T)).slice(-20)};e.pubToAddress=k,e.publicToAddress=e.pubToAddress;const K=function(T){return(0,s.assertIsBuffer)(T),Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(T).toRawBytes(!1).slice(1))};e.privateToPublic=K;const $=function(T){return(0,e.publicToAddress)((0,e.privateToPublic)(T))};e.privateToAddress=$;const B=function(T){return(0,s.assertIsBuffer)(T),T.length!==64&&(T=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T};e.importPublic=B;const D=function(){const N=(0,o.zeros)(20);return(0,o.bufferToHex)(N)};e.zeroAddress=D;const h=function(T){try{(0,s.assertIsString)(T)}catch{return!1}return(0,e.zeroAddress)()===T};e.isZeroAddress=h;function A(T){const[N,p,x,M]=T;return[N,p,(0,o.arrToBufArr)(x).length===0?a.KECCAK256_RLP:x,(0,o.arrToBufArr)(M).length===0?a.KECCAK256_NULL:M]}e.accountBodyFromSlim=A;const q=new Uint8Array(0);function re(T){const[N,p,x,M]=T;return[N,p,(0,o.arrToBufArr)(x).equals(a.KECCAK256_RLP)?q:x,(0,o.arrToBufArr)(M).equals(a.KECCAK256_NULL)?q:M]}e.accountBodyToSlim=re;function fe(T,N=!0){const p=N?A(T):T;return(0,o.arrToBufArr)(t.RLP.encode(p))}e.accountBodyToRLP=fe})(gc);var po={};Object.defineProperty(po,"__esModule",{value:!0});po.Address=void 0;const ki=gc,xo=si;class ln{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new ln((0,xo.zeros)(20))}static fromString(t){if(!(0,ki.isValidAddress)(t))throw new Error("Invalid address");return new ln((0,xo.toBuffer)(t))}static fromPublicKey(t){if(!Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,ki.pubToAddress)(t);return new ln(r)}static fromPrivateKey(t){if(!Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,ki.privateToAddress)(t);return new ln(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new ln((0,ki.generateAddress)(t.buf,(0,xo.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new ln((0,ki.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(ln.zero())}isPrecompileOrSystemAddress(){const t=(0,xo.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}po.Address=ln;var Na={},pc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=si,r=Ot;var n;(function(o){o[o.Number=0]="Number",o[o.BigInt=1]="BigInt",o[o.Buffer=2]="Buffer",o[o.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(o,a){if(o===null)return null;if(o===void 0)return;if(typeof o=="string"&&!(0,r.isHexString)(o))throw new Error(`A string must be provided with a 0x-prefix, given: ${o}`);if(typeof o=="number"&&!Number.isSafeInteger(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const s=(0,t.toBuffer)(o);switch(a){case n.Buffer:return s;case n.BigInt:return(0,t.bufferToBigInt)(s);case n.Number:{const f=(0,t.bufferToBigInt)(s);if(f>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(f)}case n.PrefixedHexString:return(0,t.bufferToHex)(s);default:throw new Error("unknown outputType")}}e.toType=i})(pc);Object.defineProperty(Na,"__esModule",{value:!0});Na.Withdrawal=void 0;const Td=po,_s=si,Gt=pc;class zi{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Gt.toType)(r,Gt.TypeOutput.BigInt),s=(0,Gt.toType)(n,Gt.TypeOutput.BigInt),f=new Td.Address((0,Gt.toType)(i,Gt.TypeOutput.Buffer)),c=(0,Gt.toType)(o,Gt.TypeOutput.BigInt);return new zi(a,s,f,c)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,o]=t;return zi.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Gt.toType)(r,Gt.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,Gt.toType)(r,Gt.TypeOutput.Buffer),s=(0,Gt.toType)(n,Gt.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,Gt.toType)(n,Gt.TypeOutput.Buffer);let f;i instanceof Td.Address?f=i.buf:f=(0,Gt.toType)(i,Gt.TypeOutput.Buffer);const c=(0,Gt.toType)(o,Gt.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,Gt.toType)(o,Gt.TypeOutput.Buffer);return[a,s,f,c]}raw(){return zi.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,_s.bigIntToHex)(this.index),validatorIndex:(0,_s.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,_s.bigIntToHex)(this.amount)}}}Na.Withdrawal=zi;var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.hashPersonalMessage=gr.isValidSignature=gr.fromRpcSig=gr.toCompactSig=gr.toRpcSig=gr.ecrecover=gr.ecsign=void 0;const uS=Ef,dh=Ba,_r=si,Ps=Da,dS=Lr;function lS(e,t,r){const n=dh.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=Buffer.from(i.slice(0,32)),a=Buffer.from(i.slice(32,64)),s=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:s}}gr.ecsign=lS;function Ra(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Fa(e){return e===BigInt(0)||e===BigInt(1)}const hS=function(e,t,r,n,i){const o=Buffer.concat([(0,_r.setLengthLeft)(r,32),(0,_r.setLengthLeft)(n,32)],64),a=Ra(t,i);if(!Fa(a))throw new Error("Invalid signature v value");const f=dh.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(a)).recoverPublicKey(e);return Buffer.from(f.toRawBytes(!1).slice(1))};gr.ecrecover=hS;const gS=function(e,t,r,n){const i=Ra(e,n);if(!Fa(i))throw new Error("Invalid signature v value");return(0,_r.bufferToHex)(Buffer.concat([(0,_r.setLengthLeft)(t,32),(0,_r.setLengthLeft)(r,32),(0,_r.toBuffer)(e)]))};gr.toRpcSig=gS;const pS=function(e,t,r,n){const i=Ra(e,n);if(!Fa(i))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=Buffer.from(r),o[0]|=128),(0,_r.bufferToHex)(Buffer.concat([(0,_r.setLengthLeft)(t,32),(0,_r.setLengthLeft)(o,32)]))};gr.toCompactSig=pS;const mS=function(e){const t=(0,_r.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,_r.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,_r.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};gr.fromRpcSig=mS;const bS=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Fa(Ra(e,i)))return!1;const o=(0,_r.bufferToBigInt)(t),a=(0,_r.bufferToBigInt)(r);return!(o===BigInt(0)||o>=Ps.SECP256K1_ORDER||a===BigInt(0)||a>=Ps.SECP256K1_ORDER||n&&a>=Ps.SECP256K1_ORDER_DIV_2)};gr.isValidSignature=bS;const yS=function(e){(0,dS.assertIsBuffer)(e);const t=Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return Buffer.from((0,uS.keccak256)(Buffer.concat([t,e])))};gr.hashPersonalMessage=yS;var lh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=a=>a.length>0&&a[a.length-1]===16;e.hasTerminator=t;const r=(a,s)=>{for(let f=0,c=0;c<a.length;f+=1,c+=2)s[f]=a[c]<<4|a[c+1]};e.nibblesToBytes=r;const n=a=>{let s=0;(0,e.hasTerminator)(a)&&(s=1,a=a.subarray(0,a.length-1));const f=new Uint8Array(a.length/2+1);return f[0]=s<<5,(a.length&1)===1&&(f[0]|=16,f[0]|=a[0],a=a.subarray(1)),(0,e.nibblesToBytes)(a,f.subarray(1)),f};e.nibblesToCompactBytes=n;const i=a=>{const s=a.length*2+1,f=new Uint8Array(s);for(let c=0;c<a.length;c++){const l=a[c];f[c*2]=l/16,f[c*2+1]=l%16}return f[s-1]=16,f};e.bytesToNibbles=i;const o=a=>{if(a.length===0)return a;let s=(0,e.bytesToNibbles)(a);s[0]<2&&(s=s.subarray(0,s.length-1));const f=2-(s[0]&1);return s.subarray(f)};e.compactBytesToNibbles=o})(lh);var La={};Object.defineProperty(La,"__esModule",{value:!0});La.AsyncEventEmitter=void 0;const vS=Rs;async function ES(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((o,a)=>{i.call(e,r,s=>{s?a(s):o()})})}catch(o){n=o}if(n)throw n}class wS extends vS.EventEmitter{emit(t,...r){let[n,i]=r;const o=this;let a=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),a=Array.isArray(a)?a:[a],ES(o,a.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,a){n.removeListener(t,i),r(o,a)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],a,s;const f=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),s=o.length,a=o.length;a--;)if(o[a]===r){s=a+f;break}return o.splice(s,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}La.AsyncEventEmitter=wS;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.Lock=void 0;class xS{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}$a.Lock=xS;var _i={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.InvalidStatusCodeError=Qn.InvalidCertError=void 0;const hh=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class lf extends Error{constructor(t,r){super(t),this.fingerprint256=r}}Qn.InvalidCertError=lf;class mc extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}Qn.InvalidStatusCodeError=mc;function gh(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let Od={};function hf(e,t){var y;let r={...hh,...t};const n=hi,i=hi,o=hi,{promisify:a}=Wn,{resolve:s}=hi,f=!!/^https/.test(e);let c={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const l=v=>v.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const v={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},_=[f,f&&((y=r.sslPinnedCertificates)==null?void 0:y.map(j=>l(j)).sort())].join();c.agent=Od[_]||(Od[_]=new(f?i:n).Agent(v))}r.type==="json"&&(c.headers["Content-Type"]="application/json"),r.data&&(r.method||(c.method="POST"),c.body=r.type==="json"?JSON.stringify(r.data):r.data),c.headers={...c.headers,...r.headers},r.sslAllowSelfSigned&&(c.rejectUnauthorized=!1);const g=async v=>{const _=v.statusCode;if(r.redirect&&300<=_&&_<400&&v.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await hf(s(e,v.headers.location),r)}if(r.expectStatusCode&&_!==r.expectStatusCode)throw v.resume(),new mc(_);let j=[];for await(const K of v)j.push(K);let z=Buffer.concat(j);const Z=v.headers["content-encoding"];Z==="br"&&(z=await a(o.brotliDecompress)(z)),(Z==="gzip"||Z==="deflate")&&(z=await a(o.unzip)(z));const k=gh(z,r.type);return r.full?{headers:v.headers,status:_,body:k}:k};return new Promise((v,_)=>{var K;const j=async $=>{if($&&$.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await hf(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(B){B&&B.fingerprint256&&($=new lf(`Self-signed SSL certificate: ${B.fingerprint256}`,B.fingerprint256))}_($)},z=(f?i:n).request(e,c,$=>{$.on("error",j),(async()=>{try{v(await g($))}catch(B){_(B)}})()});z.on("error",j);const Z=(K=r.sslPinnedCertificates)==null?void 0:K.map($=>l($)),k=$=>{var D;const B=l(((D=$.getPeerCertificate())==null?void 0:D.fingerprint256)||"");if(!(!B&&$.isSessionReused())&&!Z.includes(B))return z.emit("error",new lf(`Invalid SSL certificate: ${B} Expected: ${Z}`,B)),z.abort()};r.sslPinnedCertificates&&z.on("socket",$=>{$.listeners("secureConnect").map(D=>(D.name||"").replace("bound ","")).includes("mfetchSecureConnect")||$.on("secureConnect",k.bind(null,$))}),r.keepAlive&&z.setNoDelay(!0),c.body&&z.write(c.body),z.end()})}const SS=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),AS=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function _S(e,t){let r={...hh,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const f=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${f}`),i.username="",i.password=""}e=""+i;for(let f in r.headers){const c=f.toLowerCase();(SS.has(c)||r.cors&&!AS.has(c))&&n.set(f,r.headers[f])}let o={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body=r.type==="json"?JSON.stringify(r.data):r.data);const a=await fetch(e,o);if(r.expectStatusCode&&a.status!==r.expectStatusCode)throw new mc(a.status);const s=gh(new Uint8Array(await a.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(a.headers.entries()),status:a.status,body:s}:s}const PS=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function IS(e,t){return(PS?hf:_S)(e,t)}Qn.default=IS;Object.defineProperty(_i,"__esModule",{value:!0});_i.getProvider=_i.fetchFromProvider=void 0;const TS=Qn,OS=async(e,t)=>(await(0,TS.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;_i.fetchFromProvider=OS;const DS=e=>{var t;if(typeof e=="string")return e;if(((t=e==null?void 0:e.connection)==null?void 0:t.url)!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};_i.getProvider=DS;(function(e){var t=pt&&pt.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a);var f=Object.getOwnPropertyDescriptor(o,a);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,s,f)}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),r=pt&&pt.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(Da,e),r(Ca,e),r(gc,e),r(po,e),r(Na,e),r(gr,e),r(si,e),r(pc,e),r(lh,e),r(La,e);var n=Ot;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r($a,e),r(_i,e)})(Oa);var rr={};const br=eo(Ov);Object.defineProperty(rr,"__esModule",{value:!0});rr.normalize=rr.recoverPublicKey=rr.concatSig=rr.legacyToBuffer=rr.isNullish=rr.padWithZeroes=void 0;const mn=Oa,vi=br;function gf(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}rr.padWithZeroes=gf;function ph(e){return e==null}rr.isNullish=ph;function BS(e){return typeof e=="string"&&!(0,mn.isHexString)(e)?Buffer.from(e):(0,mn.toBuffer)(e)}rr.legacyToBuffer=BS;function CS(e,t,r){const n=(0,mn.fromSigned)(t),i=(0,mn.fromSigned)(r),o=(0,mn.bufferToInt)(e),a=gf((0,mn.toUnsigned)(n).toString("hex"),64),s=gf((0,mn.toUnsigned)(i).toString("hex"),64),f=(0,vi.remove0x)((0,vi.numberToHex)(o));return(0,vi.add0x)(a.concat(s,f))}rr.concatSig=CS;function NS(e,t){const r=(0,mn.fromRpcSig)(t);return(0,mn.ecrecover)(e,r.v,r.r,r.s)}rr.recoverPublicKey=NS;function RS(e){if(!ph(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,vi.numberToBytes)(e);e=(0,vi.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,vi.add0x)(e.toLowerCase())}}rr.normalize=RS;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.extractPublicKey=Pn.recoverPersonalSignature=Pn.personalSign=void 0;const Ei=Oa,on=rr;function FS({privateKey:e,data:t}){if((0,on.isNullish)(t))throw new Error("Missing data parameter");if((0,on.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,on.legacyToBuffer)(t),n=(0,Ei.hashPersonalMessage)(r),i=(0,Ei.ecsign)(n,e);return(0,on.concatSig)((0,Ei.toBuffer)(i.v),i.r,i.s)}Pn.personalSign=FS;function LS({data:e,signature:t}){if((0,on.isNullish)(e))throw new Error("Missing data parameter");if((0,on.isNullish)(t))throw new Error("Missing signature parameter");const r=mh(e,t),n=(0,Ei.publicToAddress)(r);return(0,Ei.bufferToHex)(n)}Pn.recoverPersonalSignature=LS;function $S({data:e,signature:t}){if((0,on.isNullish)(e))throw new Error("Missing data parameter");if((0,on.isNullish)(t))throw new Error("Missing signature parameter");return`0x${mh(e,t).toString("hex")}`}Pn.extractPublicKey=$S;function mh(e,t){const r=(0,Ei.hashPersonalMessage)((0,on.legacyToBuffer)(e));return(0,on.recoverPublicKey)(r,t)}var bh={},yh={},vh={},Yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=br,r=o=>typeof o=="string"?o:o instanceof Error||(0,t.isObject)(o)&&(0,t.hasProperty)(o,"message")&&typeof o.message=="string"?o.message:"Unknown error.";e.getErrorMessage=r;const n=o=>{if(o instanceof Error)return o.stack};e.getErrorStack=n;class i extends Error{constructor(a,s){super(a),this.name="ParserError";const f=(0,e.getErrorStack)(s);f&&(this.stack=f)}}e.ParserError=i})(Yr);var Is={},Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.iterate=void 0;const Dd=br,MS=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=o=>{(0,Dd.assert)(o>=0,"Cannot skip a negative number of bytes."),(0,Dd.assert)(o%t===0,"Length must be a multiple of the size."),r+=o},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};Ma.iterate=MS;var Ts={},Eh={},Cn={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.padEnd=In.padStart=In.set=void 0;const bc=br,wh=32,kS=(e,t,r)=>(0,bc.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);In.set=kS;const US=(e,t=wh)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,bc.concatBytes)([r,e])};In.padStart=US;const jS=(e,t=wh)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,bc.concatBytes)([e,r])};In.padEnd=jS;(function(e){var t=pt&&pt.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=pt&&pt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(In,e)})(Cn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=br,r=Yr,n=Cn,i=o=>{const a=(0,t.createBytes)(o);return(0,t.assert)(a.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${a.length} bytes.`)),(0,n.padStart)(a,20)};e.getAddress=i,e.address={isDynamic:!1,isType:o=>o==="address",getByteLength(){return 32},encode({buffer:o,value:a,packed:s}){const f=(0,e.getAddress)(a);if(s)return(0,t.concatBytes)([o,f]);const c=(0,n.padStart)(f);return(0,t.concatBytes)([o,c])},decode({value:o}){return(0,t.add0x)((0,t.bytesToHex)(o.slice(12,32)))}}})(Eh);var Os={},ka={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=br,r=Yr,n=Cn,i=/^bytes([0-9]{1,2})$/u,o=a=>{var c;const s=(c=a.match(i))==null?void 0:c[1];(0,t.assert)(s,`Invalid byte length. Expected a number between 1 and 32, but received "${a}".`);const f=Number(s);return(0,t.assert)(f>0&&f<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${a}".`)),f};e.getByteLength=o,e.fixedBytes={isDynamic:!1,isType(a){return i.test(a)},getByteLength(){return 32},encode({type:a,buffer:s,value:f,packed:c}){const l=(0,e.getByteLength)(a),g=(0,t.createBytes)(f);return(0,t.assert)(g.length<=l,new r.ParserError(`Expected a value of length ${l}, but received a value of length ${g.length}.`)),c?(0,t.concatBytes)([s,(0,n.padEnd)(g,l)]):(0,t.concatBytes)([s,(0,n.padEnd)(g)])},decode({type:a,value:s}){const f=(0,e.getByteLength)(a);return s.slice(0,f)}}})(ka);var Ds={},Bd;function xh(){return Bd||(Bd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=br,r=Yr,n=vc(),i=/^\((.+)\)$/u,o=s=>i.test(s),a=s=>{(0,t.assert)(s.startsWith("(")&&s.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${s}".`));const f=[];let c="",l=0;for(let g=1;g<s.length-1;g++){const y=s[g];y===","&&l===0?(f.push(c.trim()),c=""):(c+=y,y==="("?l+=1:y===")"&&(l-=1))}return c.trim()&&f.push(c.trim()),f};e.getTupleElements=a,e.tuple={isDynamic(s){return(0,e.getTupleElements)(s).some(c=>{const l=(0,n.getParser)(c);return(0,n.isDynamicParser)(l,c)})},isType(s){return o(s)},getByteLength(s){return(0,n.isDynamicParser)(this,s)?32:(0,e.getTupleElements)(s).reduce((c,l)=>c+(0,n.getParser)(l).getByteLength(l),0)},encode({type:s,buffer:f,value:c,packed:l,tight:g}){const y=(0,e.getTupleElements)(s);return(0,n.pack)({types:y,values:c,byteArray:f,packed:l,tight:g})},decode({type:s,value:f,skip:c}){const l=(0,e.getTupleElements)(s),g=this.getByteLength(s)-32;return c(g),(0,n.unpack)(l,f)}}}(Ds)),Ds}var Cd;function HS(){return Cd||(Cd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=br,r=Yr,n=vc(),i=Cn,o=ka,a=xh(),s=/^(?<type>.*)\[(?<length>\d*?)\]$/u,f=g=>s.test(g);e.isArrayType=f;const c=g=>{var v;const y=g.match(s);return(0,t.assert)((v=y==null?void 0:y.groups)==null?void 0:v.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${g}".`)),[y.groups.type,y.groups.length?parseInt(y.groups.length,10):void 0]};e.getArrayType=c;const l=(g,y)=>`(${new Array(y).fill(g).join(",")})`;e.getTupleType=l,e.array={isDynamic(g){const[y,v]=(0,e.getArrayType)(g);return v===void 0||(0,n.isDynamicParser)((0,n.getParser)(y),y)},isType(g){return(0,e.isArrayType)(g)},getByteLength(g){(0,t.assert)((0,e.isArrayType)(g),new r.ParserError(`Expected an array type, but received "${g}".`));const[y,v]=(0,e.getArrayType)(g);return!(0,n.isDynamicParser)(this,g)&&v!==void 0?a.tuple.getByteLength((0,e.getTupleType)(y,v)):32},encode({type:g,buffer:y,value:v,packed:_,tight:j}){const[z,Z]=(0,e.getArrayType)(g);if((0,t.assert)(!_||!(0,e.isArrayType)(z),new r.ParserError("Cannot pack nested arrays.")),_&&(0,n.isDynamicParser)((0,n.getParser)(z),z))return(0,n.pack)({types:new Array(v.length).fill(z),values:v,byteArray:y,packed:_,arrayPacked:!0,tight:j});if(Z)return(0,t.assert)(Z===v.length,new r.ParserError(`Array length does not match type length. Expected a length of ${Z}, but received ${v.length}.`)),a.tuple.encode({type:(0,e.getTupleType)(z,Z),buffer:y,value:v,packed:o.fixedBytes.isType(z)&&j,tight:j});if(_)return(0,n.pack)({types:new Array(v.length).fill(z),values:v,byteArray:y,packed:o.fixedBytes.isType(z)&&j,arrayPacked:!0,tight:j});const k=(0,i.padStart)((0,t.numberToBytes)(v.length));return(0,n.pack)({types:new Array(v.length).fill(z),values:v,byteArray:(0,t.concatBytes)([y,k]),packed:_,tight:j})},decode({type:g,value:y,...v}){const[_,j]=(0,e.getArrayType)(g);if(j){const Z=a.tuple.decode({type:(0,e.getTupleType)(_,j),value:y,...v});return(0,t.assert)(Z.length===j,new r.ParserError(`Array length does not match type length. Expected a length of ${j}, but received ${Z.length}.`)),Z}const z=(0,t.bytesToNumber)(y.subarray(0,32));return(0,n.unpack)(new Array(z).fill(_),y.subarray(32))}}}(Os)),Os}var Sh={};const Ah=eo(gm);var yc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=br,r=Yr,n=Cn,i=/^u?int(?<length>[0-9]*)?$/u,o=c=>!c.startsWith("u");e.isSigned=o;const a=c=>{var y;if(c==="int"||c==="uint")return 256;const l=c.match(i);(0,t.assert)((y=l==null?void 0:l.groups)==null?void 0:y.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${c}".`));const g=parseInt(l.groups.length,10);return(0,t.assert)(g>=8&&g<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${c}".`)),(0,t.assert)(g%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${c}".`)),g};e.getLength=a;const s=(c,l)=>{const g=(0,e.getLength)(l),y=BigInt(2)**BigInt(g-((0,e.isSigned)(l)?1:0))-BigInt(1);if((0,e.isSigned)(l)){(0,t.assert)(c>=-(y+BigInt(1))&&c<=y,new r.ParserError(`Number "${c}" is out of range for type "${l}".`));return}(0,t.assert)(c<=y,new r.ParserError(`Number "${c}" is out of range for type "${l}".`))};e.assertNumberLength=s;const f=c=>{try{return(0,t.createBigInt)(c)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${c}".`)}};e.getBigInt=f,e.number={isDynamic:!1,isType(c){return i.test(c)},getByteLength(){return 32},encode({type:c,buffer:l,value:g,packed:y}){const v=(0,e.getBigInt)(g);if((0,e.assertNumberLength)(v,c),(0,e.isSigned)(c)){if(y){const _=(0,e.getLength)(c)/8;return(0,t.concatBytes)([l,(0,t.signedBigIntToBytes)(v,_)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.signedBigIntToBytes)(v,32))])}if(y){const _=(0,e.getLength)(c)/8;return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v),_)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v))])},decode({type:c,value:l}){const g=l.subarray(0,32);if((0,e.isSigned)(c)){const v=(0,t.bytesToSignedBigInt)(g);return(0,e.assertNumberLength)(v,c),v}const y=(0,t.bytesToBigInt)(g);return(0,e.assertNumberLength)(y,c),y}}})(yc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=Ah,r=br,n=Yr,i=yc,o=(0,t.coerce)((0,t.boolean)(),(0,t.union)([(0,t.literal)("true"),(0,t.literal)("false")]),s=>s==="true"),a=s=>{try{return(0,t.create)(s,o)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${s}".`)}};e.getBooleanValue=a,e.bool={isDynamic:!1,isType:s=>s==="bool",getByteLength(){return 32},encode({buffer:s,value:f,packed:c,tight:l}){const g=(0,e.getBooleanValue)(f);return c?(0,r.concatBytes)([s,(0,r.bigIntToBytes)(g)]):i.number.encode({type:"uint256",buffer:s,value:g,packed:c,tight:l})},decode(s){return i.number.decode({...s,type:"uint256"})===BigInt(1)}}})(Sh);var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.bytes=void 0;const Ui=br,Nd=Cn;mo.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,Ui.createBytes)(t);if(r)return(0,Ui.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,Ui.concatBytes)([e,(0,Nd.padStart)((0,Ui.numberToBytes)(n.byteLength)),(0,Nd.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,Ui.bytesToNumber)(t);return e.slice(32,32+r)}};var _h={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=Ah,r=br,n=Yr,i=ka,o=(0,t.coerce)((0,t.object)({address:r.StrictHexStruct,selector:r.StrictHexStruct}),(0,t.union)([r.StrictHexStruct,(0,t.instance)(Uint8Array)]),s=>{const f=(0,r.createBytes)(s);return(0,r.assert)(f.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${f.length} bytes.`)),{address:(0,r.bytesToHex)(f.subarray(0,20)),selector:(0,r.bytesToHex)(f.subarray(20,24))}}),a=s=>{const f=(0,t.create)(s,o);return(0,r.concatBytes)([(0,r.hexToBytes)(f.address),(0,r.hexToBytes)(f.selector)])};e.getFunction=a,e.fn={isDynamic:!1,isType:s=>s==="function",getByteLength(){return 32},encode({buffer:s,value:f,packed:c,tight:l}){const g=(0,e.getFunction)(f);return i.fixedBytes.encode({type:"bytes24",buffer:s,value:g,packed:c,tight:l})},decode({value:s}){return{address:(0,r.bytesToHex)(s.slice(0,20)),selector:(0,r.bytesToHex)(s.slice(20,24))}}}})(_h);var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.string=void 0;const Rd=br,Fd=mo;Ua.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return Fd.bytes.encode({type:"bytes",buffer:e,value:(0,Rd.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,Rd.bytesToString)(Fd.bytes.decode(e))}};var Ld;function Ih(){return Ld||(Ld=1,function(e){var t=pt&&pt.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=pt&&pt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Eh,e),r(HS(),e),r(Sh,e),r(mo,e),r(ka,e),r(_h,e),r(yc,e),r(Ph,e),r(Ua,e),r(xh(),e)}(Ts)),Ts}var $d;function vc(){return $d||($d=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=br,r=Yr,n=Ma,i=Ih(),o=Cn,a=l=>{const g={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},y=g[l];if(y)return y;const v=Object.values(g).find(_=>_.isType(l));if(v)return v;throw new r.ParserError(`The type "${l}" is not supported.`)};e.getParser=a;const s=(l,g)=>{const{isDynamic:y}=l;return typeof y=="function"?y(g):y};e.isDynamicParser=s;const f=({types:l,values:g,packed:y=!1,tight:v=!1,arrayPacked:_=!1,byteArray:j=new Uint8Array})=>{(0,t.assert)(l.length===g.length,new r.ParserError(`The number of types (${l.length}) does not match the number of values (${g.length}).`));const{staticBuffer:z,dynamicBuffer:Z,pointers:k}=l.reduce(({staticBuffer:B,dynamicBuffer:D,pointers:h},A,q)=>{const re=(0,e.getParser)(A),fe=g[q];if(y||_||!(0,e.isDynamicParser)(re,A))return{staticBuffer:re.encode({buffer:B,value:fe,type:A,packed:y,tight:v}),dynamicBuffer:D,pointers:h};const T=(0,t.concatBytes)([B,new Uint8Array(32)]),N=re.encode({buffer:D,value:fe,type:A,packed:y,tight:v});return{staticBuffer:T,dynamicBuffer:N,pointers:[...h,{position:B.length,pointer:D.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!y&&!_||Z.length===0,new r.ParserError("Invalid pack state."));const K=z.length,$=k.reduce((B,{pointer:D,position:h})=>{const A=(0,o.padStart)((0,t.numberToBytes)(K+D));return(0,o.set)(B,A,h)},z);return(0,t.concatBytes)([j,$,Z])};e.pack=f;const c=(l,g)=>{const y=(0,n.iterate)(g);return l.map(v=>{const{value:{value:_,skip:j},done:z}=y.next();(0,t.assert)(!z,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${v}".`));const Z=(0,e.getParser)(v);if((0,e.isDynamicParser)(Z,v)){const K=(0,t.bytesToNumber)(_.subarray(0,32)),$=g.subarray(K);return Z.decode({type:v,value:$,skip:j})}return Z.decode({type:v,value:_,skip:j})})};e.unpack=c}(Is)),Is}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=br,r=Yr,n=vc(),i=(c,l,g,y)=>{try{return(0,n.pack)({types:c,values:l,packed:g,tight:y})}catch(v){throw v instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${v.message}`,v):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(v)}`,v)}};e.encode=i;const o=(c,l)=>(0,e.encode)([c],[l]);e.encodeSingle=o;const a=(c,l,g)=>(0,e.encode)(c,l,!0,g);e.encodePacked=a;const s=(c,l)=>{const g=(0,t.createBytes)(l);try{return(0,n.unpack)(c,g)}catch(y){throw y instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${y.message}`,y):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(y)}`,y)}};e.decode=s;const f=(c,l)=>{const g=(0,e.decode)([c],l);return(0,t.assert)(g.length===1,new r.ParserError("Decoded value array has unexpected length.")),g[0]};e.decodeSingle=f})(vh);var Th={},Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});(function(e){var t=pt&&pt.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=pt&&pt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Oh,e)})(Th);(function(e){var t=pt&&pt.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=pt&&pt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(vh,e),r(Yr,e),r(Th,e)})(yh);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=Oa,r=yh,n=Ih(),i=Cn,o=br,a=Ef,s=rr;var f;(function(T){T.V1="V1",T.V3="V3",T.V4="V4"})(f=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function c(T,N){if(Object.keys(f).includes(T)){if(N&&!N.includes(T))throw new Error(`SignTypedDataVersion not allowed: '${T}'. Allowed versions are: ${N.join(", ")}`)}else throw new Error(`Invalid version: '${T}'`)}function l(T,N){(0,o.assert)(N!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${N}".`);const p=BigInt(N),x=(0,n.getLength)(T),M=BigInt(2)**BigInt(x)-BigInt(1);return(0,o.assert)(p>=-M&&p<=M,`Unable to encode value: Number "${N}" is out of range for type "${T}".`),p}function g(T){let N=BigInt(0);for(let p=0;p<T.length;p++){const x=BigInt(T.charCodeAt(p)-48);N*=BigInt(10),x>=49?N+=x-BigInt(49)+BigInt(10):x>=17?N+=x-BigInt(17)+BigInt(10):N+=x}return(0,i.padStart)((0,o.bigIntToBytes)(N),20)}function y(T,N,p,x,M){if(c(M,[f.V3,f.V4]),T[p]!==void 0)return["bytes32",M===f.V4&&x==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,a.keccak256)(v(p,x,T,M)))];if(p==="function")throw new Error('Unsupported or invalid type: "function"');if(x===void 0)throw new Error(`missing value for field ${N} of type ${p}`);if(p==="address"){if(typeof x=="number")return["address",(0,i.padStart)((0,o.numberToBytes)(x),20)];if((0,o.isStrictHexString)(x))return["address",(0,o.add0x)(x)];if(typeof x=="string")return["address",g(x).subarray(0,20)]}if(p==="bool")return["bool",!!x];if(p==="bytes")return typeof x=="number"?x=(0,o.numberToBytes)(x):(0,o.isStrictHexString)(x)||x==="0x"?x=(0,o.hexToBytes)(x):typeof x=="string"&&(x=(0,o.stringToBytes)(x)),["bytes32",(0,t.arrToBufArr)((0,a.keccak256)(x))];if(p.startsWith("bytes")&&p!=="bytes"&&!p.includes("["))return typeof x=="number"?x<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,o.bigIntToBytes)(BigInt(x))]:(0,o.isStrictHexString)(x)?["bytes32",(0,o.hexToBytes)(x)]:["bytes32",x];if(p.startsWith("int")&&!p.includes("[")){const H=l(p,x);return H>=BigInt(0)?["uint256",H]:["int256",H]}if(p==="string")return typeof x=="number"?x=(0,o.numberToBytes)(x):x=(0,o.stringToBytes)(x??""),["bytes32",(0,t.arrToBufArr)((0,a.keccak256)(x))];if(p.endsWith("]")){if(M===f.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const H=p.slice(0,p.lastIndexOf("[")),G=x.map(L=>y(T,N,H,L,M));return["bytes32",(0,t.arrToBufArr)((0,a.keccak256)((0,r.encode)(G.map(([L])=>L),G.map(([,L])=>L))))]}return[p,x]}function v(T,N,p,x){c(x,[f.V3,f.V4]);const M=["bytes32"],H=[Z(T,p)];for(const G of p[T]){if(x===f.V3&&N[G.name]===void 0)continue;const[L,U]=y(p,G.name,G.type,N[G.name],x);M.push(L),H.push(U)}return(0,t.arrToBufArr)((0,r.encode)(M,H))}function _(T,N){let p="";const x=j(T,N);x.delete(T);const M=[T,...Array.from(x).sort()];for(const H of M){if(!N[H])throw new Error(`No type definition specified: ${H}`);p+=`${H}(${N[H].map(({name:L,type:U})=>`${U} ${L}`).join(",")})`}return p}function j(T,N,p=new Set){if(typeof T!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(T)}`);if([T]=T.match(/^\w*/u),p.has(T)||N[T]===void 0)return p;p.add(T);for(const M of N[T])j(M.type,N,p);return p}function z(T,N,p,x){c(x,[f.V3,f.V4]);const M=v(T,N,p,x),H=(0,a.keccak256)(M);return(0,t.arrToBufArr)(H)}function Z(T,N){const p=(0,o.stringToBytes)(_(T,N));return(0,t.arrToBufArr)((0,a.keccak256)(p))}function k(T){const N={};for(const p in e.TYPED_MESSAGE_SCHEMA.properties)T[p]&&(N[p]=T[p]);return"types"in N&&(N.types=Object.assign({EIP712Domain:[]},N.types)),N}function K(T,N){c(N,[f.V3,f.V4]);const p=k(T),{domain:x}=p,M={EIP712Domain:p.types.EIP712Domain};return z("EIP712Domain",x,M,N)}function $(T,N){c(N,[f.V3,f.V4]);const p=k(T),x=[(0,o.hexToBytes)("1901")];return x.push(K(T,N)),p.primaryType!=="EIP712Domain"&&x.push(z(p.primaryType,p.message,p.types,N)),(0,t.arrToBufArr)((0,a.keccak256)((0,o.concatBytes)(x)))}e.TypedDataUtils={encodeData:v,encodeType:_,findTypeDependencies:j,hashStruct:z,hashType:Z,sanitizeData:k,eip712Hash:$,eip712DomainHash:K};function B(T){const N=q(T);return(0,o.bytesToHex)(N)}e.typedSignatureHash=B;function D(T,N){if((0,n.isArrayType)(T)&&Array.isArray(N)){const[p]=(0,n.getArrayType)(T);return N.map(x=>D(p,x))}if(T==="address"){if(typeof N=="number")return(0,i.padStart)((0,o.numberToBytes)(N),20);if((0,o.isStrictHexString)(N))return(0,i.padStart)((0,o.hexToBytes)(N).subarray(0,20),20);if(N instanceof Uint8Array)return(0,i.padStart)(N.subarray(0,20),20)}if(T==="bool")return!!N;if(T.startsWith("bytes")&&T!=="bytes"){const p=(0,n.getByteLength)(T);if(typeof N=="number")return N<0?new Uint8Array:(0,o.numberToBytes)(N).subarray(0,p);if((0,o.isStrictHexString)(N))return(0,o.hexToBytes)(N).subarray(0,p);if(N instanceof Uint8Array)return N.subarray(0,p)}if(T.startsWith("uint")&&typeof N=="number")return Math.abs(N);if(T.startsWith("int")&&typeof N=="number"){const p=(0,n.getLength)(T);return BigInt.asIntN(p,BigInt(N))}return N}function h(T){return T.map(N=>typeof N=="number"?(0,i.padStart)((0,o.numberToBytes)(N),32):(0,o.isStrictHexString)(N)?(0,i.padStart)((0,o.hexToBytes)(N).subarray(0,32),32):N instanceof Uint8Array?(0,i.padStart)(N.subarray(0,32),32):N)}function A(T,N){return N.map(p=>{if(typeof p=="string"||typeof p=="number"||typeof p=="bigint"){const x=l(T,p);if(x>=BigInt(0))return(0,i.padStart)((0,o.bigIntToBytes)(x),32);const M=(0,n.getLength)(T),H=BigInt.asIntN(M,x);return(0,o.signedBigIntToBytes)(H,32)}return p})}function q(T){const N=new Error("Expect argument to be non-empty array");if(typeof T!="object"||!("length"in T)||!T.length)throw N;const p=T.map(({name:G,type:L,value:U})=>{if(L==="address[]")return{name:G,type:"bytes32[]",value:h(U)};if(L.startsWith("int")&&(0,n.isArrayType)(L)){const[te,R]=(0,n.getArrayType)(L);return{name:G,type:`bytes32[${R??""}]`,value:A(te,U)}}return{name:G,type:L,value:D(L,U)}}),x=p.map(G=>G.type!=="bytes"?G.value:(0,s.legacyToBuffer)(G.value)),M=p.map(G=>{if(G.type==="function")throw new Error('Unsupported or invalid type: "function"');return G.type}),H=T.map(G=>{if(!G.name)throw N;return`${G.type} ${G.name}`});return(0,t.arrToBufArr)((0,a.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,a.keccak256)((0,r.encodePacked)(["string[]"],[H],!0)),(0,a.keccak256)((0,r.encodePacked)(M,x,!0))])))}function re({privateKey:T,data:N,version:p}){if(c(p),(0,s.isNullish)(N))throw new Error("Missing data parameter");if((0,s.isNullish)(T))throw new Error("Missing private key parameter");const x=p===f.V1?q(N):e.TypedDataUtils.eip712Hash(N,p),M=(0,t.ecsign)(x,T);return(0,s.concatSig)((0,t.arrToBufArr)((0,o.bigIntToBytes)(M.v)),M.r,M.s)}e.signTypedData=re;function fe({data:T,signature:N,version:p}){if(c(p),(0,s.isNullish)(T))throw new Error("Missing data parameter");if((0,s.isNullish)(N))throw new Error("Missing signature parameter");const x=p===f.V1?q(T):e.TypedDataUtils.eip712Hash(T,p),M=(0,s.recoverPublicKey)(x,N),H=(0,t.publicToAddress)(M);return(0,o.bytesToHex)(H)}e.recoverTypedSignature=fe})(bh);var Rr={},Dh={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0,e.assertNumber=t;function t(T){if(!Number.isSafeInteger(T))throw new Error(`Wrong integer: ${T}`)}function r(T){return T instanceof Uint8Array||T!=null&&typeof T=="object"&&T.constructor.name==="Uint8Array"}function n(...T){const N=H=>H,p=(H,G)=>L=>H(G(L)),x=T.map(H=>H.encode).reduceRight(p,N),M=T.map(H=>H.decode).reduce(p,N);return{encode:x,decode:M}}function i(T){return{encode:N=>{if(!Array.isArray(N)||N.length&&typeof N[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return N.map(p=>{if(p<0||p>=T.length)throw new Error(`Digit index outside alphabet: ${p} (alphabet: ${T.length})`);return T[p]})},decode:N=>{if(!Array.isArray(N)||N.length&&typeof N[0]!="string")throw new Error("alphabet.decode input should be array of strings");return N.map(p=>{if(typeof p!="string")throw new Error(`alphabet.decode: not string element=${p}`);const x=T.indexOf(p);if(x===-1)throw new Error(`Unknown letter: "${p}". Allowed: ${T}`);return x})}}}function o(T=""){if(typeof T!="string")throw new Error("join separator should be string");return{encode:N=>{if(!Array.isArray(N)||N.length&&typeof N[0]!="string")throw new Error("join.encode input should be array of strings");for(let p of N)if(typeof p!="string")throw new Error(`join.encode: non-string input=${p}`);return N.join(T)},decode:N=>{if(typeof N!="string")throw new Error("join.decode input should be string");return N.split(T)}}}function a(T,N="="){if(typeof N!="string")throw new Error("padding chr should be string");return{encode(p){if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("padding.encode input should be array of strings");for(let x of p)if(typeof x!="string")throw new Error(`padding.encode: non-string input=${x}`);for(;p.length*T%8;)p.push(N);return p},decode(p){if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("padding.encode input should be array of strings");for(let M of p)if(typeof M!="string")throw new Error(`padding.decode: non-string input=${M}`);let x=p.length;if(x*T%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;x>0&&p[x-1]===N;x--)if(!((x-1)*T%8))throw new Error("Invalid padding: string has too much padding");return p.slice(0,x)}}}function s(T){if(typeof T!="function")throw new Error("normalize fn should be function");return{encode:N=>N,decode:N=>T(N)}}function f(T,N,p){if(N<2)throw new Error(`convertRadix: wrong from=${N}, base cannot be less than 2`);if(p<2)throw new Error(`convertRadix: wrong to=${p}, base cannot be less than 2`);if(!Array.isArray(T))throw new Error("convertRadix: data should be array");if(!T.length)return[];let x=0;const M=[],H=Array.from(T);for(H.forEach(G=>{if(G<0||G>=N)throw new Error(`Wrong integer: ${G}`)});;){let G=0,L=!0;for(let U=x;U<H.length;U++){const te=H[U],R=N*G+te;if(!Number.isSafeInteger(R)||N*G/N!==G||R-te!==N*G)throw new Error("convertRadix: carry overflow");G=R%p;const F=Math.floor(R/p);if(H[U]=F,!Number.isSafeInteger(F)||F*p+G!==R)throw new Error("convertRadix: carry overflow");if(L)F?L=!1:x=U;else continue}if(M.push(G),L)break}for(let G=0;G<T.length-1&&T[G]===0;G++)M.push(0);return M.reverse()}const c=(T,N)=>N?c(N,T%N):T,l=(T,N)=>T+(N-c(T,N));function g(T,N,p,x){if(!Array.isArray(T))throw new Error("convertRadix2: data should be array");if(N<=0||N>32)throw new Error(`convertRadix2: wrong from=${N}`);if(p<=0||p>32)throw new Error(`convertRadix2: wrong to=${p}`);if(l(N,p)>32)throw new Error(`convertRadix2: carry overflow from=${N} to=${p} carryBits=${l(N,p)}`);let M=0,H=0;const G=2**p-1,L=[];for(const U of T){if(U>=2**N)throw new Error(`convertRadix2: invalid data word=${U} from=${N}`);if(M=M<<N|U,H+N>32)throw new Error(`convertRadix2: carry overflow pos=${H} from=${N}`);for(H+=N;H>=p;H-=p)L.push((M>>H-p&G)>>>0);M&=2**H-1}if(M=M<<p-H&G,!x&&H>=N)throw new Error("Excess padding");if(!x&&M)throw new Error(`Non-zero padding: ${M}`);return x&&H>0&&L.push(M>>>0),L}function y(T){return{encode:N=>{if(!r(N))throw new Error("radix.encode input should be Uint8Array");return f(Array.from(N),2**8,T)},decode:N=>{if(!Array.isArray(N)||N.length&&typeof N[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(f(N,T,2**8))}}}function v(T,N=!1){if(T<=0||T>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,T)>32||l(T,8)>32)throw new Error("radix2: carry overflow");return{encode:p=>{if(!r(p))throw new Error("radix2.encode input should be Uint8Array");return g(Array.from(p),8,T,!N)},decode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(g(p,T,8,N))}}}function _(T){if(typeof T!="function")throw new Error("unsafeWrapper fn should be function");return function(...N){try{return T.apply(null,N)}catch{}}}function j(T,N){if(typeof N!="function")throw new Error("checksum fn should be function");return{encode(p){if(!r(p))throw new Error("checksum.encode: input should be Uint8Array");const x=N(p).slice(0,T),M=new Uint8Array(p.length+T);return M.set(p),M.set(x,p.length),M},decode(p){if(!r(p))throw new Error("checksum.decode: input should be Uint8Array");const x=p.slice(0,-T),M=N(x).slice(0,T),H=p.slice(-T);for(let G=0;G<T;G++)if(M[G]!==H[G])throw new Error("Invalid checksum");return x}}}e.utils={alphabet:i,chain:n,checksum:j,convertRadix:f,convertRadix2:g,radix:y,radix2:v,join:o,padding:a},e.base16=n(v(4),i("0123456789ABCDEF"),o("")),e.base32=n(v(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),e.base32nopad=n(v(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),e.base32hex=n(v(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),e.base32hexnopad=n(v(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),e.base32crockford=n(v(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s(T=>T.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),e.base64nopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),e.base64url=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),e.base64urlnopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const z=T=>n(y(58),i(T),o(""));e.base58=z("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=z("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=z("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Z=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(T){let N="";for(let p=0;p<T.length;p+=8){const x=T.subarray(p,p+8);N+=e.base58.encode(x).padStart(Z[x.length],"1")}return N},decode(T){let N=[];for(let p=0;p<T.length;p+=11){const x=T.slice(p,p+11),M=Z.indexOf(x.length),H=e.base58.decode(x);for(let G=0;G<H.length-M;G++)if(H[G]!==0)throw new Error("base58xmr: wrong padding");N=N.concat(Array.from(H.slice(H.length-M)))}return Uint8Array.from(N)}};const k=T=>n(j(4,N=>T(T(N))),e.base58);e.createBase58check=k,e.base58check=e.createBase58check;const K=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),$=[996825010,642813549,513874426,1027748829,705979059];function B(T){const N=T>>25;let p=(T&33554431)<<5;for(let x=0;x<$.length;x++)(N>>x&1)===1&&(p^=$[x]);return p}function D(T,N,p=1){const x=T.length;let M=1;for(let H=0;H<x;H++){const G=T.charCodeAt(H);if(G<33||G>126)throw new Error(`Invalid prefix (${T})`);M=B(M)^G>>5}M=B(M);for(let H=0;H<x;H++)M=B(M)^T.charCodeAt(H)&31;for(let H of N)M=B(M)^H;for(let H=0;H<6;H++)M=B(M);return M^=p,K.encode(g([M%2**30],30,5,!1))}function h(T){const N=T==="bech32"?1:734539939,p=v(5),x=p.decode,M=p.encode,H=_(x);function G(F,Y,m=90){if(typeof F!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof F}`);if(Y instanceof Uint8Array&&(Y=Array.from(Y)),!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof Y}`);if(F.length===0)throw new TypeError(`Invalid prefix length ${F.length}`);const W=F.length+7+Y.length;if(m!==!1&&W>m)throw new TypeError(`Length ${W} exceeds limit ${m}`);const S=F.toLowerCase(),E=D(S,Y,N);return`${S}1${K.encode(Y)}${E}`}function L(F,Y=90){if(typeof F!="string")throw new Error(`bech32.decode input should be string, not ${typeof F}`);if(F.length<8||Y!==!1&&F.length>Y)throw new TypeError(`Wrong string length: ${F.length} (${F}). Expected (8..${Y})`);const m=F.toLowerCase();if(F!==m&&F!==F.toUpperCase())throw new Error("String must be lowercase or uppercase");const W=m.lastIndexOf("1");if(W===0||W===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=m.slice(0,W),E=m.slice(W+1);if(E.length<6)throw new Error("Data must be at least 6 characters long");const w=K.decode(E).slice(0,-6),u=D(S,w,N);if(!E.endsWith(u))throw new Error(`Invalid checksum in ${F}: expected "${u}"`);return{prefix:S,words:w}}const U=_(L);function te(F){const{prefix:Y,words:m}=L(F,!1);return{prefix:Y,words:m,bytes:x(m)}}function R(F,Y){return G(F,M(Y))}return{encode:G,decode:L,encodeFromBytes:R,decodeToBytes:te,decodeUnsafe:U,fromWords:x,fromWordsUnsafe:H,toWords:M}}e.bech32=h("bech32"),e.bech32m=h("bech32m"),e.utf8={encode:T=>new TextDecoder().decode(T),decode:T=>new TextEncoder().encode(T)},e.hex=n(v(4),i("0123456789abcdef"),o(""),s(T=>{if(typeof T!="string"||T.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof T} with length ${T.length}`);return T.toLowerCase()}));const A={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},q="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",re=(T,N)=>{if(typeof T!="string"||!A.hasOwnProperty(T))throw new TypeError(q);if(!r(N))throw new TypeError("bytesToString() expects Uint8Array");return A[T].encode(N)};e.bytesToString=re,e.str=e.bytesToString;const fe=(T,N)=>{if(!A.hasOwnProperty(T))throw new TypeError(q);if(typeof N!="string")throw new TypeError("stringToBytes() expects string");return A[T].decode(N)};e.stringToBytes=fe,e.bytes=e.stringToBytes})(Dh);var Bh={exports:{}};(function(e){(function(t){var r=function(b){var I,P=new Float64Array(16);if(b)for(I=0;I<b.length;I++)P[I]=b[I];return P},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=r(),s=r([1]),f=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(b,I,P,d){b[I]=P>>24&255,b[I+1]=P>>16&255,b[I+2]=P>>8&255,b[I+3]=P&255,b[I+4]=d>>24&255,b[I+5]=d>>16&255,b[I+6]=d>>8&255,b[I+7]=d&255}function j(b,I,P,d,C){var Q,ne=0;for(Q=0;Q<C;Q++)ne|=b[I+Q]^P[d+Q];return(1&ne-1>>>8)-1}function z(b,I,P,d){return j(b,I,P,d,16)}function Z(b,I,P,d){return j(b,I,P,d,32)}function k(b,I,P,d){for(var C=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,Q=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ne=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,ue=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,be=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Te=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,xe=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,ft=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,Ae=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,ke=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,He=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,qe=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,et=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,We=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,Ye=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,Je=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,Oe=C,Ne=Q,Ie=ne,De=ue,Ce=be,Se=Te,oe=xe,ae=ft,pe=Ae,le=ke,he=He,ye=qe,Ue=et,rt=We,ot=Ye,nt=Je,V,st=0;st<20;st+=2)V=Oe+Ue|0,Ce^=V<<7|V>>>32-7,V=Ce+Oe|0,pe^=V<<9|V>>>32-9,V=pe+Ce|0,Ue^=V<<13|V>>>32-13,V=Ue+pe|0,Oe^=V<<18|V>>>32-18,V=Se+Ne|0,le^=V<<7|V>>>32-7,V=le+Se|0,rt^=V<<9|V>>>32-9,V=rt+le|0,Ne^=V<<13|V>>>32-13,V=Ne+rt|0,Se^=V<<18|V>>>32-18,V=he+oe|0,ot^=V<<7|V>>>32-7,V=ot+he|0,Ie^=V<<9|V>>>32-9,V=Ie+ot|0,oe^=V<<13|V>>>32-13,V=oe+Ie|0,he^=V<<18|V>>>32-18,V=nt+ye|0,De^=V<<7|V>>>32-7,V=De+nt|0,ae^=V<<9|V>>>32-9,V=ae+De|0,ye^=V<<13|V>>>32-13,V=ye+ae|0,nt^=V<<18|V>>>32-18,V=Oe+De|0,Ne^=V<<7|V>>>32-7,V=Ne+Oe|0,Ie^=V<<9|V>>>32-9,V=Ie+Ne|0,De^=V<<13|V>>>32-13,V=De+Ie|0,Oe^=V<<18|V>>>32-18,V=Se+Ce|0,oe^=V<<7|V>>>32-7,V=oe+Se|0,ae^=V<<9|V>>>32-9,V=ae+oe|0,Ce^=V<<13|V>>>32-13,V=Ce+ae|0,Se^=V<<18|V>>>32-18,V=he+le|0,ye^=V<<7|V>>>32-7,V=ye+he|0,pe^=V<<9|V>>>32-9,V=pe+ye|0,le^=V<<13|V>>>32-13,V=le+pe|0,he^=V<<18|V>>>32-18,V=nt+ot|0,Ue^=V<<7|V>>>32-7,V=Ue+nt|0,rt^=V<<9|V>>>32-9,V=rt+Ue|0,ot^=V<<13|V>>>32-13,V=ot+rt|0,nt^=V<<18|V>>>32-18;Oe=Oe+C|0,Ne=Ne+Q|0,Ie=Ie+ne|0,De=De+ue|0,Ce=Ce+be|0,Se=Se+Te|0,oe=oe+xe|0,ae=ae+ft|0,pe=pe+Ae|0,le=le+ke|0,he=he+He|0,ye=ye+qe|0,Ue=Ue+et|0,rt=rt+We|0,ot=ot+Ye|0,nt=nt+Je|0,b[0]=Oe>>>0&255,b[1]=Oe>>>8&255,b[2]=Oe>>>16&255,b[3]=Oe>>>24&255,b[4]=Ne>>>0&255,b[5]=Ne>>>8&255,b[6]=Ne>>>16&255,b[7]=Ne>>>24&255,b[8]=Ie>>>0&255,b[9]=Ie>>>8&255,b[10]=Ie>>>16&255,b[11]=Ie>>>24&255,b[12]=De>>>0&255,b[13]=De>>>8&255,b[14]=De>>>16&255,b[15]=De>>>24&255,b[16]=Ce>>>0&255,b[17]=Ce>>>8&255,b[18]=Ce>>>16&255,b[19]=Ce>>>24&255,b[20]=Se>>>0&255,b[21]=Se>>>8&255,b[22]=Se>>>16&255,b[23]=Se>>>24&255,b[24]=oe>>>0&255,b[25]=oe>>>8&255,b[26]=oe>>>16&255,b[27]=oe>>>24&255,b[28]=ae>>>0&255,b[29]=ae>>>8&255,b[30]=ae>>>16&255,b[31]=ae>>>24&255,b[32]=pe>>>0&255,b[33]=pe>>>8&255,b[34]=pe>>>16&255,b[35]=pe>>>24&255,b[36]=le>>>0&255,b[37]=le>>>8&255,b[38]=le>>>16&255,b[39]=le>>>24&255,b[40]=he>>>0&255,b[41]=he>>>8&255,b[42]=he>>>16&255,b[43]=he>>>24&255,b[44]=ye>>>0&255,b[45]=ye>>>8&255,b[46]=ye>>>16&255,b[47]=ye>>>24&255,b[48]=Ue>>>0&255,b[49]=Ue>>>8&255,b[50]=Ue>>>16&255,b[51]=Ue>>>24&255,b[52]=rt>>>0&255,b[53]=rt>>>8&255,b[54]=rt>>>16&255,b[55]=rt>>>24&255,b[56]=ot>>>0&255,b[57]=ot>>>8&255,b[58]=ot>>>16&255,b[59]=ot>>>24&255,b[60]=nt>>>0&255,b[61]=nt>>>8&255,b[62]=nt>>>16&255,b[63]=nt>>>24&255}function K(b,I,P,d){for(var C=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,Q=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ne=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,ue=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,be=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Te=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,xe=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,ft=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,Ae=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,ke=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,He=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,qe=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,et=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,We=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,Ye=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,Je=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,Oe=C,Ne=Q,Ie=ne,De=ue,Ce=be,Se=Te,oe=xe,ae=ft,pe=Ae,le=ke,he=He,ye=qe,Ue=et,rt=We,ot=Ye,nt=Je,V,st=0;st<20;st+=2)V=Oe+Ue|0,Ce^=V<<7|V>>>32-7,V=Ce+Oe|0,pe^=V<<9|V>>>32-9,V=pe+Ce|0,Ue^=V<<13|V>>>32-13,V=Ue+pe|0,Oe^=V<<18|V>>>32-18,V=Se+Ne|0,le^=V<<7|V>>>32-7,V=le+Se|0,rt^=V<<9|V>>>32-9,V=rt+le|0,Ne^=V<<13|V>>>32-13,V=Ne+rt|0,Se^=V<<18|V>>>32-18,V=he+oe|0,ot^=V<<7|V>>>32-7,V=ot+he|0,Ie^=V<<9|V>>>32-9,V=Ie+ot|0,oe^=V<<13|V>>>32-13,V=oe+Ie|0,he^=V<<18|V>>>32-18,V=nt+ye|0,De^=V<<7|V>>>32-7,V=De+nt|0,ae^=V<<9|V>>>32-9,V=ae+De|0,ye^=V<<13|V>>>32-13,V=ye+ae|0,nt^=V<<18|V>>>32-18,V=Oe+De|0,Ne^=V<<7|V>>>32-7,V=Ne+Oe|0,Ie^=V<<9|V>>>32-9,V=Ie+Ne|0,De^=V<<13|V>>>32-13,V=De+Ie|0,Oe^=V<<18|V>>>32-18,V=Se+Ce|0,oe^=V<<7|V>>>32-7,V=oe+Se|0,ae^=V<<9|V>>>32-9,V=ae+oe|0,Ce^=V<<13|V>>>32-13,V=Ce+ae|0,Se^=V<<18|V>>>32-18,V=he+le|0,ye^=V<<7|V>>>32-7,V=ye+he|0,pe^=V<<9|V>>>32-9,V=pe+ye|0,le^=V<<13|V>>>32-13,V=le+pe|0,he^=V<<18|V>>>32-18,V=nt+ot|0,Ue^=V<<7|V>>>32-7,V=Ue+nt|0,rt^=V<<9|V>>>32-9,V=rt+Ue|0,ot^=V<<13|V>>>32-13,V=ot+rt|0,nt^=V<<18|V>>>32-18;b[0]=Oe>>>0&255,b[1]=Oe>>>8&255,b[2]=Oe>>>16&255,b[3]=Oe>>>24&255,b[4]=Se>>>0&255,b[5]=Se>>>8&255,b[6]=Se>>>16&255,b[7]=Se>>>24&255,b[8]=he>>>0&255,b[9]=he>>>8&255,b[10]=he>>>16&255,b[11]=he>>>24&255,b[12]=nt>>>0&255,b[13]=nt>>>8&255,b[14]=nt>>>16&255,b[15]=nt>>>24&255,b[16]=oe>>>0&255,b[17]=oe>>>8&255,b[18]=oe>>>16&255,b[19]=oe>>>24&255,b[20]=ae>>>0&255,b[21]=ae>>>8&255,b[22]=ae>>>16&255,b[23]=ae>>>24&255,b[24]=pe>>>0&255,b[25]=pe>>>8&255,b[26]=pe>>>16&255,b[27]=pe>>>24&255,b[28]=le>>>0&255,b[29]=le>>>8&255,b[30]=le>>>16&255,b[31]=le>>>24&255}function $(b,I,P,d){k(b,I,P,d)}function B(b,I,P,d){K(b,I,P,d)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function h(b,I,P,d,C,Q,ne){var ue=new Uint8Array(16),be=new Uint8Array(64),Te,xe;for(xe=0;xe<16;xe++)ue[xe]=0;for(xe=0;xe<8;xe++)ue[xe]=Q[xe];for(;C>=64;){for($(be,ue,ne,D),xe=0;xe<64;xe++)b[I+xe]=P[d+xe]^be[xe];for(Te=1,xe=8;xe<16;xe++)Te=Te+(ue[xe]&255)|0,ue[xe]=Te&255,Te>>>=8;C-=64,I+=64,d+=64}if(C>0)for($(be,ue,ne,D),xe=0;xe<C;xe++)b[I+xe]=P[d+xe]^be[xe];return 0}function A(b,I,P,d,C){var Q=new Uint8Array(16),ne=new Uint8Array(64),ue,be;for(be=0;be<16;be++)Q[be]=0;for(be=0;be<8;be++)Q[be]=d[be];for(;P>=64;){for($(ne,Q,C,D),be=0;be<64;be++)b[I+be]=ne[be];for(ue=1,be=8;be<16;be++)ue=ue+(Q[be]&255)|0,Q[be]=ue&255,ue>>>=8;P-=64,I+=64}if(P>0)for($(ne,Q,C,D),be=0;be<P;be++)b[I+be]=ne[be];return 0}function q(b,I,P,d,C){var Q=new Uint8Array(32);B(Q,d,C,D);for(var ne=new Uint8Array(8),ue=0;ue<8;ue++)ne[ue]=d[ue+16];return A(b,I,P,ne,Q)}function re(b,I,P,d,C,Q,ne){var ue=new Uint8Array(32);B(ue,Q,ne,D);for(var be=new Uint8Array(8),Te=0;Te<8;Te++)be[Te]=Q[Te+16];return h(b,I,P,d,C,be,ue)}var fe=function(b){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var I,P,d,C,Q,ne,ue,be;I=b[0]&255|(b[1]&255)<<8,this.r[0]=I&8191,P=b[2]&255|(b[3]&255)<<8,this.r[1]=(I>>>13|P<<3)&8191,d=b[4]&255|(b[5]&255)<<8,this.r[2]=(P>>>10|d<<6)&7939,C=b[6]&255|(b[7]&255)<<8,this.r[3]=(d>>>7|C<<9)&8191,Q=b[8]&255|(b[9]&255)<<8,this.r[4]=(C>>>4|Q<<12)&255,this.r[5]=Q>>>1&8190,ne=b[10]&255|(b[11]&255)<<8,this.r[6]=(Q>>>14|ne<<2)&8191,ue=b[12]&255|(b[13]&255)<<8,this.r[7]=(ne>>>11|ue<<5)&8065,be=b[14]&255|(b[15]&255)<<8,this.r[8]=(ue>>>8|be<<8)&8191,this.r[9]=be>>>5&127,this.pad[0]=b[16]&255|(b[17]&255)<<8,this.pad[1]=b[18]&255|(b[19]&255)<<8,this.pad[2]=b[20]&255|(b[21]&255)<<8,this.pad[3]=b[22]&255|(b[23]&255)<<8,this.pad[4]=b[24]&255|(b[25]&255)<<8,this.pad[5]=b[26]&255|(b[27]&255)<<8,this.pad[6]=b[28]&255|(b[29]&255)<<8,this.pad[7]=b[30]&255|(b[31]&255)<<8};fe.prototype.blocks=function(b,I,P){for(var d=this.fin?0:2048,C,Q,ne,ue,be,Te,xe,ft,Ae,ke,He,qe,et,We,Ye,Je,Oe,Ne,Ie,De=this.h[0],Ce=this.h[1],Se=this.h[2],oe=this.h[3],ae=this.h[4],pe=this.h[5],le=this.h[6],he=this.h[7],ye=this.h[8],Ue=this.h[9],rt=this.r[0],ot=this.r[1],nt=this.r[2],V=this.r[3],st=this.r[4],ht=this.r[5],gt=this.r[6],at=this.r[7],dt=this.r[8],lt=this.r[9];P>=16;)C=b[I+0]&255|(b[I+1]&255)<<8,De+=C&8191,Q=b[I+2]&255|(b[I+3]&255)<<8,Ce+=(C>>>13|Q<<3)&8191,ne=b[I+4]&255|(b[I+5]&255)<<8,Se+=(Q>>>10|ne<<6)&8191,ue=b[I+6]&255|(b[I+7]&255)<<8,oe+=(ne>>>7|ue<<9)&8191,be=b[I+8]&255|(b[I+9]&255)<<8,ae+=(ue>>>4|be<<12)&8191,pe+=be>>>1&8191,Te=b[I+10]&255|(b[I+11]&255)<<8,le+=(be>>>14|Te<<2)&8191,xe=b[I+12]&255|(b[I+13]&255)<<8,he+=(Te>>>11|xe<<5)&8191,ft=b[I+14]&255|(b[I+15]&255)<<8,ye+=(xe>>>8|ft<<8)&8191,Ue+=ft>>>5|d,Ae=0,ke=Ae,ke+=De*rt,ke+=Ce*(5*lt),ke+=Se*(5*dt),ke+=oe*(5*at),ke+=ae*(5*gt),Ae=ke>>>13,ke&=8191,ke+=pe*(5*ht),ke+=le*(5*st),ke+=he*(5*V),ke+=ye*(5*nt),ke+=Ue*(5*ot),Ae+=ke>>>13,ke&=8191,He=Ae,He+=De*ot,He+=Ce*rt,He+=Se*(5*lt),He+=oe*(5*dt),He+=ae*(5*at),Ae=He>>>13,He&=8191,He+=pe*(5*gt),He+=le*(5*ht),He+=he*(5*st),He+=ye*(5*V),He+=Ue*(5*nt),Ae+=He>>>13,He&=8191,qe=Ae,qe+=De*nt,qe+=Ce*ot,qe+=Se*rt,qe+=oe*(5*lt),qe+=ae*(5*dt),Ae=qe>>>13,qe&=8191,qe+=pe*(5*at),qe+=le*(5*gt),qe+=he*(5*ht),qe+=ye*(5*st),qe+=Ue*(5*V),Ae+=qe>>>13,qe&=8191,et=Ae,et+=De*V,et+=Ce*nt,et+=Se*ot,et+=oe*rt,et+=ae*(5*lt),Ae=et>>>13,et&=8191,et+=pe*(5*dt),et+=le*(5*at),et+=he*(5*gt),et+=ye*(5*ht),et+=Ue*(5*st),Ae+=et>>>13,et&=8191,We=Ae,We+=De*st,We+=Ce*V,We+=Se*nt,We+=oe*ot,We+=ae*rt,Ae=We>>>13,We&=8191,We+=pe*(5*lt),We+=le*(5*dt),We+=he*(5*at),We+=ye*(5*gt),We+=Ue*(5*ht),Ae+=We>>>13,We&=8191,Ye=Ae,Ye+=De*ht,Ye+=Ce*st,Ye+=Se*V,Ye+=oe*nt,Ye+=ae*ot,Ae=Ye>>>13,Ye&=8191,Ye+=pe*rt,Ye+=le*(5*lt),Ye+=he*(5*dt),Ye+=ye*(5*at),Ye+=Ue*(5*gt),Ae+=Ye>>>13,Ye&=8191,Je=Ae,Je+=De*gt,Je+=Ce*ht,Je+=Se*st,Je+=oe*V,Je+=ae*nt,Ae=Je>>>13,Je&=8191,Je+=pe*ot,Je+=le*rt,Je+=he*(5*lt),Je+=ye*(5*dt),Je+=Ue*(5*at),Ae+=Je>>>13,Je&=8191,Oe=Ae,Oe+=De*at,Oe+=Ce*gt,Oe+=Se*ht,Oe+=oe*st,Oe+=ae*V,Ae=Oe>>>13,Oe&=8191,Oe+=pe*nt,Oe+=le*ot,Oe+=he*rt,Oe+=ye*(5*lt),Oe+=Ue*(5*dt),Ae+=Oe>>>13,Oe&=8191,Ne=Ae,Ne+=De*dt,Ne+=Ce*at,Ne+=Se*gt,Ne+=oe*ht,Ne+=ae*st,Ae=Ne>>>13,Ne&=8191,Ne+=pe*V,Ne+=le*nt,Ne+=he*ot,Ne+=ye*rt,Ne+=Ue*(5*lt),Ae+=Ne>>>13,Ne&=8191,Ie=Ae,Ie+=De*lt,Ie+=Ce*dt,Ie+=Se*at,Ie+=oe*gt,Ie+=ae*ht,Ae=Ie>>>13,Ie&=8191,Ie+=pe*st,Ie+=le*V,Ie+=he*nt,Ie+=ye*ot,Ie+=Ue*rt,Ae+=Ie>>>13,Ie&=8191,Ae=(Ae<<2)+Ae|0,Ae=Ae+ke|0,ke=Ae&8191,Ae=Ae>>>13,He+=Ae,De=ke,Ce=He,Se=qe,oe=et,ae=We,pe=Ye,le=Je,he=Oe,ye=Ne,Ue=Ie,I+=16,P-=16;this.h[0]=De,this.h[1]=Ce,this.h[2]=Se,this.h[3]=oe,this.h[4]=ae,this.h[5]=pe,this.h[6]=le,this.h[7]=he,this.h[8]=ye,this.h[9]=Ue},fe.prototype.finish=function(b,I){var P=new Uint16Array(10),d,C,Q,ne;if(this.leftover){for(ne=this.leftover,this.buffer[ne++]=1;ne<16;ne++)this.buffer[ne]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(d=this.h[1]>>>13,this.h[1]&=8191,ne=2;ne<10;ne++)this.h[ne]+=d,d=this.h[ne]>>>13,this.h[ne]&=8191;for(this.h[0]+=d*5,d=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=d,d=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=d,P[0]=this.h[0]+5,d=P[0]>>>13,P[0]&=8191,ne=1;ne<10;ne++)P[ne]=this.h[ne]+d,d=P[ne]>>>13,P[ne]&=8191;for(P[9]-=8192,C=(d^1)-1,ne=0;ne<10;ne++)P[ne]&=C;for(C=~C,ne=0;ne<10;ne++)this.h[ne]=this.h[ne]&C|P[ne];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Q=this.h[0]+this.pad[0],this.h[0]=Q&65535,ne=1;ne<8;ne++)Q=(this.h[ne]+this.pad[ne]|0)+(Q>>>16)|0,this.h[ne]=Q&65535;b[I+0]=this.h[0]>>>0&255,b[I+1]=this.h[0]>>>8&255,b[I+2]=this.h[1]>>>0&255,b[I+3]=this.h[1]>>>8&255,b[I+4]=this.h[2]>>>0&255,b[I+5]=this.h[2]>>>8&255,b[I+6]=this.h[3]>>>0&255,b[I+7]=this.h[3]>>>8&255,b[I+8]=this.h[4]>>>0&255,b[I+9]=this.h[4]>>>8&255,b[I+10]=this.h[5]>>>0&255,b[I+11]=this.h[5]>>>8&255,b[I+12]=this.h[6]>>>0&255,b[I+13]=this.h[6]>>>8&255,b[I+14]=this.h[7]>>>0&255,b[I+15]=this.h[7]>>>8&255},fe.prototype.update=function(b,I,P){var d,C;if(this.leftover){for(C=16-this.leftover,C>P&&(C=P),d=0;d<C;d++)this.buffer[this.leftover+d]=b[I+d];if(P-=C,I+=C,this.leftover+=C,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(P>=16&&(C=P-P%16,this.blocks(b,I,C),I+=C,P-=C),P){for(d=0;d<P;d++)this.buffer[this.leftover+d]=b[I+d];this.leftover+=P}};function T(b,I,P,d,C,Q){var ne=new fe(Q);return ne.update(P,d,C),ne.finish(b,I),0}function N(b,I,P,d,C,Q){var ne=new Uint8Array(16);return T(ne,0,P,d,C,Q),z(b,I,ne,0)}function p(b,I,P,d,C){var Q;if(P<32)return-1;for(re(b,0,I,0,P,d,C),T(b,16,b,32,P-32,b),Q=0;Q<16;Q++)b[Q]=0;return 0}function x(b,I,P,d,C){var Q,ne=new Uint8Array(32);if(P<32||(q(ne,0,32,d,C),N(I,16,I,32,P-32,ne)!==0))return-1;for(re(b,0,I,0,P,d,C),Q=0;Q<32;Q++)b[Q]=0;return 0}function M(b,I){var P;for(P=0;P<16;P++)b[P]=I[P]|0}function H(b){var I,P,d=1;for(I=0;I<16;I++)P=b[I]+d+65535,d=Math.floor(P/65536),b[I]=P-d*65536;b[0]+=d-1+37*(d-1)}function G(b,I,P){for(var d,C=~(P-1),Q=0;Q<16;Q++)d=C&(b[Q]^I[Q]),b[Q]^=d,I[Q]^=d}function L(b,I){var P,d,C,Q=r(),ne=r();for(P=0;P<16;P++)ne[P]=I[P];for(H(ne),H(ne),H(ne),d=0;d<2;d++){for(Q[0]=ne[0]-65517,P=1;P<15;P++)Q[P]=ne[P]-65535-(Q[P-1]>>16&1),Q[P-1]&=65535;Q[15]=ne[15]-32767-(Q[14]>>16&1),C=Q[15]>>16&1,Q[14]&=65535,G(ne,Q,1-C)}for(P=0;P<16;P++)b[2*P]=ne[P]&255,b[2*P+1]=ne[P]>>8}function U(b,I){var P=new Uint8Array(32),d=new Uint8Array(32);return L(P,b),L(d,I),Z(P,0,d,0)}function te(b){var I=new Uint8Array(32);return L(I,b),I[0]&1}function R(b,I){var P;for(P=0;P<16;P++)b[P]=I[2*P]+(I[2*P+1]<<8);b[15]&=32767}function F(b,I,P){for(var d=0;d<16;d++)b[d]=I[d]+P[d]}function Y(b,I,P){for(var d=0;d<16;d++)b[d]=I[d]-P[d]}function m(b,I,P){var d,C,Q=0,ne=0,ue=0,be=0,Te=0,xe=0,ft=0,Ae=0,ke=0,He=0,qe=0,et=0,We=0,Ye=0,Je=0,Oe=0,Ne=0,Ie=0,De=0,Ce=0,Se=0,oe=0,ae=0,pe=0,le=0,he=0,ye=0,Ue=0,rt=0,ot=0,nt=0,V=P[0],st=P[1],ht=P[2],gt=P[3],at=P[4],dt=P[5],lt=P[6],Wt=P[7],Et=P[8],Ut=P[9],jt=P[10],Ht=P[11],Xt=P[12],sr=P[13],fr=P[14],cr=P[15];d=I[0],Q+=d*V,ne+=d*st,ue+=d*ht,be+=d*gt,Te+=d*at,xe+=d*dt,ft+=d*lt,Ae+=d*Wt,ke+=d*Et,He+=d*Ut,qe+=d*jt,et+=d*Ht,We+=d*Xt,Ye+=d*sr,Je+=d*fr,Oe+=d*cr,d=I[1],ne+=d*V,ue+=d*st,be+=d*ht,Te+=d*gt,xe+=d*at,ft+=d*dt,Ae+=d*lt,ke+=d*Wt,He+=d*Et,qe+=d*Ut,et+=d*jt,We+=d*Ht,Ye+=d*Xt,Je+=d*sr,Oe+=d*fr,Ne+=d*cr,d=I[2],ue+=d*V,be+=d*st,Te+=d*ht,xe+=d*gt,ft+=d*at,Ae+=d*dt,ke+=d*lt,He+=d*Wt,qe+=d*Et,et+=d*Ut,We+=d*jt,Ye+=d*Ht,Je+=d*Xt,Oe+=d*sr,Ne+=d*fr,Ie+=d*cr,d=I[3],be+=d*V,Te+=d*st,xe+=d*ht,ft+=d*gt,Ae+=d*at,ke+=d*dt,He+=d*lt,qe+=d*Wt,et+=d*Et,We+=d*Ut,Ye+=d*jt,Je+=d*Ht,Oe+=d*Xt,Ne+=d*sr,Ie+=d*fr,De+=d*cr,d=I[4],Te+=d*V,xe+=d*st,ft+=d*ht,Ae+=d*gt,ke+=d*at,He+=d*dt,qe+=d*lt,et+=d*Wt,We+=d*Et,Ye+=d*Ut,Je+=d*jt,Oe+=d*Ht,Ne+=d*Xt,Ie+=d*sr,De+=d*fr,Ce+=d*cr,d=I[5],xe+=d*V,ft+=d*st,Ae+=d*ht,ke+=d*gt,He+=d*at,qe+=d*dt,et+=d*lt,We+=d*Wt,Ye+=d*Et,Je+=d*Ut,Oe+=d*jt,Ne+=d*Ht,Ie+=d*Xt,De+=d*sr,Ce+=d*fr,Se+=d*cr,d=I[6],ft+=d*V,Ae+=d*st,ke+=d*ht,He+=d*gt,qe+=d*at,et+=d*dt,We+=d*lt,Ye+=d*Wt,Je+=d*Et,Oe+=d*Ut,Ne+=d*jt,Ie+=d*Ht,De+=d*Xt,Ce+=d*sr,Se+=d*fr,oe+=d*cr,d=I[7],Ae+=d*V,ke+=d*st,He+=d*ht,qe+=d*gt,et+=d*at,We+=d*dt,Ye+=d*lt,Je+=d*Wt,Oe+=d*Et,Ne+=d*Ut,Ie+=d*jt,De+=d*Ht,Ce+=d*Xt,Se+=d*sr,oe+=d*fr,ae+=d*cr,d=I[8],ke+=d*V,He+=d*st,qe+=d*ht,et+=d*gt,We+=d*at,Ye+=d*dt,Je+=d*lt,Oe+=d*Wt,Ne+=d*Et,Ie+=d*Ut,De+=d*jt,Ce+=d*Ht,Se+=d*Xt,oe+=d*sr,ae+=d*fr,pe+=d*cr,d=I[9],He+=d*V,qe+=d*st,et+=d*ht,We+=d*gt,Ye+=d*at,Je+=d*dt,Oe+=d*lt,Ne+=d*Wt,Ie+=d*Et,De+=d*Ut,Ce+=d*jt,Se+=d*Ht,oe+=d*Xt,ae+=d*sr,pe+=d*fr,le+=d*cr,d=I[10],qe+=d*V,et+=d*st,We+=d*ht,Ye+=d*gt,Je+=d*at,Oe+=d*dt,Ne+=d*lt,Ie+=d*Wt,De+=d*Et,Ce+=d*Ut,Se+=d*jt,oe+=d*Ht,ae+=d*Xt,pe+=d*sr,le+=d*fr,he+=d*cr,d=I[11],et+=d*V,We+=d*st,Ye+=d*ht,Je+=d*gt,Oe+=d*at,Ne+=d*dt,Ie+=d*lt,De+=d*Wt,Ce+=d*Et,Se+=d*Ut,oe+=d*jt,ae+=d*Ht,pe+=d*Xt,le+=d*sr,he+=d*fr,ye+=d*cr,d=I[12],We+=d*V,Ye+=d*st,Je+=d*ht,Oe+=d*gt,Ne+=d*at,Ie+=d*dt,De+=d*lt,Ce+=d*Wt,Se+=d*Et,oe+=d*Ut,ae+=d*jt,pe+=d*Ht,le+=d*Xt,he+=d*sr,ye+=d*fr,Ue+=d*cr,d=I[13],Ye+=d*V,Je+=d*st,Oe+=d*ht,Ne+=d*gt,Ie+=d*at,De+=d*dt,Ce+=d*lt,Se+=d*Wt,oe+=d*Et,ae+=d*Ut,pe+=d*jt,le+=d*Ht,he+=d*Xt,ye+=d*sr,Ue+=d*fr,rt+=d*cr,d=I[14],Je+=d*V,Oe+=d*st,Ne+=d*ht,Ie+=d*gt,De+=d*at,Ce+=d*dt,Se+=d*lt,oe+=d*Wt,ae+=d*Et,pe+=d*Ut,le+=d*jt,he+=d*Ht,ye+=d*Xt,Ue+=d*sr,rt+=d*fr,ot+=d*cr,d=I[15],Oe+=d*V,Ne+=d*st,Ie+=d*ht,De+=d*gt,Ce+=d*at,Se+=d*dt,oe+=d*lt,ae+=d*Wt,pe+=d*Et,le+=d*Ut,he+=d*jt,ye+=d*Ht,Ue+=d*Xt,rt+=d*sr,ot+=d*fr,nt+=d*cr,Q+=38*Ne,ne+=38*Ie,ue+=38*De,be+=38*Ce,Te+=38*Se,xe+=38*oe,ft+=38*ae,Ae+=38*pe,ke+=38*le,He+=38*he,qe+=38*ye,et+=38*Ue,We+=38*rt,Ye+=38*ot,Je+=38*nt,C=1,d=Q+C+65535,C=Math.floor(d/65536),Q=d-C*65536,d=ne+C+65535,C=Math.floor(d/65536),ne=d-C*65536,d=ue+C+65535,C=Math.floor(d/65536),ue=d-C*65536,d=be+C+65535,C=Math.floor(d/65536),be=d-C*65536,d=Te+C+65535,C=Math.floor(d/65536),Te=d-C*65536,d=xe+C+65535,C=Math.floor(d/65536),xe=d-C*65536,d=ft+C+65535,C=Math.floor(d/65536),ft=d-C*65536,d=Ae+C+65535,C=Math.floor(d/65536),Ae=d-C*65536,d=ke+C+65535,C=Math.floor(d/65536),ke=d-C*65536,d=He+C+65535,C=Math.floor(d/65536),He=d-C*65536,d=qe+C+65535,C=Math.floor(d/65536),qe=d-C*65536,d=et+C+65535,C=Math.floor(d/65536),et=d-C*65536,d=We+C+65535,C=Math.floor(d/65536),We=d-C*65536,d=Ye+C+65535,C=Math.floor(d/65536),Ye=d-C*65536,d=Je+C+65535,C=Math.floor(d/65536),Je=d-C*65536,d=Oe+C+65535,C=Math.floor(d/65536),Oe=d-C*65536,Q+=C-1+37*(C-1),C=1,d=Q+C+65535,C=Math.floor(d/65536),Q=d-C*65536,d=ne+C+65535,C=Math.floor(d/65536),ne=d-C*65536,d=ue+C+65535,C=Math.floor(d/65536),ue=d-C*65536,d=be+C+65535,C=Math.floor(d/65536),be=d-C*65536,d=Te+C+65535,C=Math.floor(d/65536),Te=d-C*65536,d=xe+C+65535,C=Math.floor(d/65536),xe=d-C*65536,d=ft+C+65535,C=Math.floor(d/65536),ft=d-C*65536,d=Ae+C+65535,C=Math.floor(d/65536),Ae=d-C*65536,d=ke+C+65535,C=Math.floor(d/65536),ke=d-C*65536,d=He+C+65535,C=Math.floor(d/65536),He=d-C*65536,d=qe+C+65535,C=Math.floor(d/65536),qe=d-C*65536,d=et+C+65535,C=Math.floor(d/65536),et=d-C*65536,d=We+C+65535,C=Math.floor(d/65536),We=d-C*65536,d=Ye+C+65535,C=Math.floor(d/65536),Ye=d-C*65536,d=Je+C+65535,C=Math.floor(d/65536),Je=d-C*65536,d=Oe+C+65535,C=Math.floor(d/65536),Oe=d-C*65536,Q+=C-1+37*(C-1),b[0]=Q,b[1]=ne,b[2]=ue,b[3]=be,b[4]=Te,b[5]=xe,b[6]=ft,b[7]=Ae,b[8]=ke,b[9]=He,b[10]=qe,b[11]=et,b[12]=We,b[13]=Ye,b[14]=Je,b[15]=Oe}function W(b,I){m(b,I,I)}function S(b,I){var P=r(),d;for(d=0;d<16;d++)P[d]=I[d];for(d=253;d>=0;d--)W(P,P),d!==2&&d!==4&&m(P,P,I);for(d=0;d<16;d++)b[d]=P[d]}function E(b,I){var P=r(),d;for(d=0;d<16;d++)P[d]=I[d];for(d=250;d>=0;d--)W(P,P),d!==1&&m(P,P,I);for(d=0;d<16;d++)b[d]=P[d]}function w(b,I,P){var d=new Uint8Array(32),C=new Float64Array(80),Q,ne,ue=r(),be=r(),Te=r(),xe=r(),ft=r(),Ae=r();for(ne=0;ne<31;ne++)d[ne]=I[ne];for(d[31]=I[31]&127|64,d[0]&=248,R(C,P),ne=0;ne<16;ne++)be[ne]=C[ne],xe[ne]=ue[ne]=Te[ne]=0;for(ue[0]=xe[0]=1,ne=254;ne>=0;--ne)Q=d[ne>>>3]>>>(ne&7)&1,G(ue,be,Q),G(Te,xe,Q),F(ft,ue,Te),Y(ue,ue,Te),F(Te,be,xe),Y(be,be,xe),W(xe,ft),W(Ae,ue),m(ue,Te,ue),m(Te,be,ft),F(ft,ue,Te),Y(ue,ue,Te),W(be,ue),Y(Te,xe,Ae),m(ue,Te,f),F(ue,ue,xe),m(Te,Te,ue),m(ue,xe,Ae),m(xe,be,C),W(be,ft),G(ue,be,Q),G(Te,xe,Q);for(ne=0;ne<16;ne++)C[ne+16]=ue[ne],C[ne+32]=Te[ne],C[ne+48]=be[ne],C[ne+64]=xe[ne];var ke=C.subarray(32),He=C.subarray(16);return S(ke,ke),m(He,He,ke),L(b,He),0}function u(b,I){return w(b,I,o)}function O(b,I){return n(I,32),u(b,I)}function X(b,I,P){var d=new Uint8Array(32);return w(d,P,I),B(b,i,d,D)}var se=p,de=x;function ve(b,I,P,d,C,Q){var ne=new Uint8Array(32);return X(ne,C,Q),se(b,I,P,d,ne)}function Me(b,I,P,d,C,Q){var ne=new Uint8Array(32);return X(ne,C,Q),de(b,I,P,d,ne)}var Ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qe(b,I,P,d){for(var C=new Int32Array(16),Q=new Int32Array(16),ne,ue,be,Te,xe,ft,Ae,ke,He,qe,et,We,Ye,Je,Oe,Ne,Ie,De,Ce,Se,oe,ae,pe,le,he,ye,Ue=b[0],rt=b[1],ot=b[2],nt=b[3],V=b[4],st=b[5],ht=b[6],gt=b[7],at=I[0],dt=I[1],lt=I[2],Wt=I[3],Et=I[4],Ut=I[5],jt=I[6],Ht=I[7],Xt=0;d>=128;){for(Ce=0;Ce<16;Ce++)Se=8*Ce+Xt,C[Ce]=P[Se+0]<<24|P[Se+1]<<16|P[Se+2]<<8|P[Se+3],Q[Ce]=P[Se+4]<<24|P[Se+5]<<16|P[Se+6]<<8|P[Se+7];for(Ce=0;Ce<80;Ce++)if(ne=Ue,ue=rt,be=ot,Te=nt,xe=V,ft=st,Ae=ht,ke=gt,He=at,qe=dt,et=lt,We=Wt,Ye=Et,Je=Ut,Oe=jt,Ne=Ht,oe=gt,ae=Ht,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=(V>>>14|Et<<32-14)^(V>>>18|Et<<32-18)^(Et>>>41-32|V<<32-(41-32)),ae=(Et>>>14|V<<32-14)^(Et>>>18|V<<32-18)^(V>>>41-32|Et<<32-(41-32)),pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,oe=V&st^~V&ht,ae=Et&Ut^~Et&jt,pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,oe=Ve[Ce*2],ae=Ve[Ce*2+1],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,oe=C[Ce%16],ae=Q[Ce%16],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,Ie=he&65535|ye<<16,De=pe&65535|le<<16,oe=Ie,ae=De,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=(Ue>>>28|at<<32-28)^(at>>>34-32|Ue<<32-(34-32))^(at>>>39-32|Ue<<32-(39-32)),ae=(at>>>28|Ue<<32-28)^(Ue>>>34-32|at<<32-(34-32))^(Ue>>>39-32|at<<32-(39-32)),pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,oe=Ue&rt^Ue&ot^rt&ot,ae=at&dt^at&lt^dt&lt,pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,ke=he&65535|ye<<16,Ne=pe&65535|le<<16,oe=Te,ae=We,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=Ie,ae=De,pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,Te=he&65535|ye<<16,We=pe&65535|le<<16,rt=ne,ot=ue,nt=be,V=Te,st=xe,ht=ft,gt=Ae,Ue=ke,dt=He,lt=qe,Wt=et,Et=We,Ut=Ye,jt=Je,Ht=Oe,at=Ne,Ce%16===15)for(Se=0;Se<16;Se++)oe=C[Se],ae=Q[Se],pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=C[(Se+9)%16],ae=Q[(Se+9)%16],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,Ie=C[(Se+1)%16],De=Q[(Se+1)%16],oe=(Ie>>>1|De<<32-1)^(Ie>>>8|De<<32-8)^Ie>>>7,ae=(De>>>1|Ie<<32-1)^(De>>>8|Ie<<32-8)^(De>>>7|Ie<<32-7),pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,Ie=C[(Se+14)%16],De=Q[(Se+14)%16],oe=(Ie>>>19|De<<32-19)^(De>>>61-32|Ie<<32-(61-32))^Ie>>>6,ae=(De>>>19|Ie<<32-19)^(Ie>>>61-32|De<<32-(61-32))^(De>>>6|Ie<<32-6),pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,C[Se]=he&65535|ye<<16,Q[Se]=pe&65535|le<<16;oe=Ue,ae=at,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[0],ae=I[0],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[0]=Ue=he&65535|ye<<16,I[0]=at=pe&65535|le<<16,oe=rt,ae=dt,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[1],ae=I[1],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[1]=rt=he&65535|ye<<16,I[1]=dt=pe&65535|le<<16,oe=ot,ae=lt,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[2],ae=I[2],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[2]=ot=he&65535|ye<<16,I[2]=lt=pe&65535|le<<16,oe=nt,ae=Wt,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[3],ae=I[3],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[3]=nt=he&65535|ye<<16,I[3]=Wt=pe&65535|le<<16,oe=V,ae=Et,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[4],ae=I[4],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[4]=V=he&65535|ye<<16,I[4]=Et=pe&65535|le<<16,oe=st,ae=Ut,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[5],ae=I[5],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[5]=st=he&65535|ye<<16,I[5]=Ut=pe&65535|le<<16,oe=ht,ae=jt,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[6],ae=I[6],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[6]=ht=he&65535|ye<<16,I[6]=jt=pe&65535|le<<16,oe=gt,ae=Ht,pe=ae&65535,le=ae>>>16,he=oe&65535,ye=oe>>>16,oe=b[7],ae=I[7],pe+=ae&65535,le+=ae>>>16,he+=oe&65535,ye+=oe>>>16,le+=pe>>>16,he+=le>>>16,ye+=he>>>16,b[7]=gt=he&65535|ye<<16,I[7]=Ht=pe&65535|le<<16,Xt+=128,d-=128}return d}function ie(b,I,P){var d=new Int32Array(8),C=new Int32Array(8),Q=new Uint8Array(256),ne,ue=P;for(d[0]=1779033703,d[1]=3144134277,d[2]=1013904242,d[3]=2773480762,d[4]=1359893119,d[5]=2600822924,d[6]=528734635,d[7]=1541459225,C[0]=4089235720,C[1]=2227873595,C[2]=4271175723,C[3]=1595750129,C[4]=2917565137,C[5]=725511199,C[6]=4215389547,C[7]=327033209,Qe(d,C,I,P),P%=128,ne=0;ne<P;ne++)Q[ne]=I[ue-P+ne];for(Q[P]=128,P=256-128*(P<112?1:0),Q[P-9]=0,_(Q,P-8,ue/536870912|0,ue<<3),Qe(d,C,Q,P),ne=0;ne<8;ne++)_(b,8*ne,d[ne],C[ne]);return 0}function ze(b,I){var P=r(),d=r(),C=r(),Q=r(),ne=r(),ue=r(),be=r(),Te=r(),xe=r();Y(P,b[1],b[0]),Y(xe,I[1],I[0]),m(P,P,xe),F(d,b[0],b[1]),F(xe,I[0],I[1]),m(d,d,xe),m(C,b[3],I[3]),m(C,C,l),m(Q,b[2],I[2]),F(Q,Q,Q),Y(ne,d,P),Y(ue,Q,C),F(be,Q,C),F(Te,d,P),m(b[0],ne,ue),m(b[1],Te,be),m(b[2],be,ue),m(b[3],ne,Te)}function Fe(b,I,P){var d;for(d=0;d<4;d++)G(b[d],I[d],P)}function je(b,I){var P=r(),d=r(),C=r();S(C,I[2]),m(P,I[0],C),m(d,I[1],C),L(b,d),b[31]^=te(P)<<7}function Le(b,I,P){var d,C;for(M(b[0],a),M(b[1],s),M(b[2],s),M(b[3],a),C=255;C>=0;--C)d=P[C/8|0]>>(C&7)&1,Fe(b,I,d),ze(I,b),ze(b,b),Fe(b,I,d)}function J(b,I){var P=[r(),r(),r(),r()];M(P[0],g),M(P[1],y),M(P[2],s),m(P[3],g,y),Le(b,P,I)}function ee(b,I,P){var d=new Uint8Array(64),C=[r(),r(),r(),r()],Q;for(P||n(I,32),ie(d,I,32),d[0]&=248,d[31]&=127,d[31]|=64,J(C,d),je(b,C),Q=0;Q<32;Q++)I[Q+32]=b[Q];return 0}var ce=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ge(b,I){var P,d,C,Q;for(d=63;d>=32;--d){for(P=0,C=d-32,Q=d-12;C<Q;++C)I[C]+=P-16*I[d]*ce[C-(d-32)],P=Math.floor((I[C]+128)/256),I[C]-=P*256;I[C]+=P,I[d]=0}for(P=0,C=0;C<32;C++)I[C]+=P-(I[31]>>4)*ce[C],P=I[C]>>8,I[C]&=255;for(C=0;C<32;C++)I[C]-=P*ce[C];for(d=0;d<32;d++)I[d+1]+=I[d]>>8,b[d]=I[d]&255}function me(b){var I=new Float64Array(64),P;for(P=0;P<64;P++)I[P]=b[P];for(P=0;P<64;P++)b[P]=0;ge(b,I)}function we(b,I,P,d){var C=new Uint8Array(64),Q=new Uint8Array(64),ne=new Uint8Array(64),ue,be,Te=new Float64Array(64),xe=[r(),r(),r(),r()];ie(C,d,32),C[0]&=248,C[31]&=127,C[31]|=64;var ft=P+64;for(ue=0;ue<P;ue++)b[64+ue]=I[ue];for(ue=0;ue<32;ue++)b[32+ue]=C[32+ue];for(ie(ne,b.subarray(32),P+32),me(ne),J(xe,ne),je(b,xe),ue=32;ue<64;ue++)b[ue]=d[ue];for(ie(Q,b,P+64),me(Q),ue=0;ue<64;ue++)Te[ue]=0;for(ue=0;ue<32;ue++)Te[ue]=ne[ue];for(ue=0;ue<32;ue++)for(be=0;be<32;be++)Te[ue+be]+=Q[ue]*C[be];return ge(b.subarray(32),Te),ft}function Ee(b,I){var P=r(),d=r(),C=r(),Q=r(),ne=r(),ue=r(),be=r();return M(b[2],s),R(b[1],I),W(C,b[1]),m(Q,C,c),Y(C,C,b[2]),F(Q,b[2],Q),W(ne,Q),W(ue,ne),m(be,ue,ne),m(P,be,C),m(P,P,Q),E(P,P),m(P,P,C),m(P,P,Q),m(P,P,Q),m(b[0],P,Q),W(d,b[0]),m(d,d,Q),U(d,C)&&m(b[0],b[0],v),W(d,b[0]),m(d,d,Q),U(d,C)?-1:(te(b[0])===I[31]>>7&&Y(b[0],a,b[0]),m(b[3],b[0],b[1]),0)}function _e(b,I,P,d){var C,Q=new Uint8Array(32),ne=new Uint8Array(64),ue=[r(),r(),r(),r()],be=[r(),r(),r(),r()];if(P<64||Ee(be,d))return-1;for(C=0;C<P;C++)b[C]=I[C];for(C=0;C<32;C++)b[C+32]=d[C];if(ie(ne,b,P),me(ne),Le(ue,be,ne),J(be,I.subarray(32)),ze(ue,be),je(Q,ue),P-=64,Z(I,0,Q,0)){for(C=0;C<P;C++)b[C]=0;return-1}for(C=0;C<P;C++)b[C]=I[C+64];return P}var Pe=32,Re=24,$e=32,Xe=16,It=32,Lt=32,St=32,kt=32,Ir=32,jr=Re,cn=$e,$t=Xe,yt=64,vt=32,xt=64,Dt=32,Bt=64;t.lowlevel={crypto_core_hsalsa20:B,crypto_stream_xor:re,crypto_stream:q,crypto_stream_salsa20_xor:h,crypto_stream_salsa20:A,crypto_onetimeauth:T,crypto_onetimeauth_verify:N,crypto_verify_16:z,crypto_verify_32:Z,crypto_secretbox:p,crypto_secretbox_open:x,crypto_scalarmult:w,crypto_scalarmult_base:u,crypto_box_beforenm:X,crypto_box_afternm:se,crypto_box:ve,crypto_box_open:Me,crypto_box_keypair:O,crypto_hash:ie,crypto_sign:we,crypto_sign_keypair:ee,crypto_sign_open:_e,crypto_secretbox_KEYBYTES:Pe,crypto_secretbox_NONCEBYTES:Re,crypto_secretbox_ZEROBYTES:$e,crypto_secretbox_BOXZEROBYTES:Xe,crypto_scalarmult_BYTES:It,crypto_scalarmult_SCALARBYTES:Lt,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:kt,crypto_box_BEFORENMBYTES:Ir,crypto_box_NONCEBYTES:jr,crypto_box_ZEROBYTES:cn,crypto_box_BOXZEROBYTES:$t,crypto_sign_BYTES:yt,crypto_sign_PUBLICKEYBYTES:vt,crypto_sign_SECRETKEYBYTES:xt,crypto_sign_SEEDBYTES:Dt,crypto_hash_BYTES:Bt,gf:r,D:c,L:ce,pack25519:L,unpack25519:R,M:m,A:F,S:W,Z:Y,pow2523:E,add:ze,set25519:M,modL:ge,scalarmult:Le,scalarbase:J};function Nt(b,I){if(b.length!==Pe)throw new Error("bad key size");if(I.length!==Re)throw new Error("bad nonce size")}function Mt(b,I){if(b.length!==St)throw new Error("bad public key size");if(I.length!==kt)throw new Error("bad secret key size")}function ut(){for(var b=0;b<arguments.length;b++)if(!(arguments[b]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Rt(b){for(var I=0;I<b.length;I++)b[I]=0}t.randomBytes=function(b){var I=new Uint8Array(b);return n(I,b),I},t.secretbox=function(b,I,P){ut(b,I,P),Nt(P,I);for(var d=new Uint8Array($e+b.length),C=new Uint8Array(d.length),Q=0;Q<b.length;Q++)d[Q+$e]=b[Q];return p(C,d,d.length,I,P),C.subarray(Xe)},t.secretbox.open=function(b,I,P){ut(b,I,P),Nt(P,I);for(var d=new Uint8Array(Xe+b.length),C=new Uint8Array(d.length),Q=0;Q<b.length;Q++)d[Q+Xe]=b[Q];return d.length<32||x(C,d,d.length,I,P)!==0?null:C.subarray($e)},t.secretbox.keyLength=Pe,t.secretbox.nonceLength=Re,t.secretbox.overheadLength=Xe,t.scalarMult=function(b,I){if(ut(b,I),b.length!==Lt)throw new Error("bad n size");if(I.length!==It)throw new Error("bad p size");var P=new Uint8Array(It);return w(P,b,I),P},t.scalarMult.base=function(b){if(ut(b),b.length!==Lt)throw new Error("bad n size");var I=new Uint8Array(It);return u(I,b),I},t.scalarMult.scalarLength=Lt,t.scalarMult.groupElementLength=It,t.box=function(b,I,P,d){var C=t.box.before(P,d);return t.secretbox(b,I,C)},t.box.before=function(b,I){ut(b,I),Mt(b,I);var P=new Uint8Array(Ir);return X(P,b,I),P},t.box.after=t.secretbox,t.box.open=function(b,I,P,d){var C=t.box.before(P,d);return t.secretbox.open(b,I,C)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var b=new Uint8Array(St),I=new Uint8Array(kt);return O(b,I),{publicKey:b,secretKey:I}},t.box.keyPair.fromSecretKey=function(b){if(ut(b),b.length!==kt)throw new Error("bad secret key size");var I=new Uint8Array(St);return u(I,b),{publicKey:I,secretKey:new Uint8Array(b)}},t.box.publicKeyLength=St,t.box.secretKeyLength=kt,t.box.sharedKeyLength=Ir,t.box.nonceLength=jr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(b,I){if(ut(b,I),I.length!==xt)throw new Error("bad secret key size");var P=new Uint8Array(yt+b.length);return we(P,b,b.length,I),P},t.sign.open=function(b,I){if(ut(b,I),I.length!==vt)throw new Error("bad public key size");var P=new Uint8Array(b.length),d=_e(P,b,b.length,I);if(d<0)return null;for(var C=new Uint8Array(d),Q=0;Q<C.length;Q++)C[Q]=P[Q];return C},t.sign.detached=function(b,I){for(var P=t.sign(b,I),d=new Uint8Array(yt),C=0;C<d.length;C++)d[C]=P[C];return d},t.sign.detached.verify=function(b,I,P){if(ut(b,I,P),I.length!==yt)throw new Error("bad signature size");if(P.length!==vt)throw new Error("bad public key size");var d=new Uint8Array(yt+b.length),C=new Uint8Array(yt+b.length),Q;for(Q=0;Q<yt;Q++)d[Q]=I[Q];for(Q=0;Q<b.length;Q++)d[Q+yt]=b[Q];return _e(C,d,d.length,P)>=0},t.sign.keyPair=function(){var b=new Uint8Array(vt),I=new Uint8Array(xt);return ee(b,I),{publicKey:b,secretKey:I}},t.sign.keyPair.fromSecretKey=function(b){if(ut(b),b.length!==xt)throw new Error("bad secret key size");for(var I=new Uint8Array(vt),P=0;P<I.length;P++)I[P]=b[32+P];return{publicKey:I,secretKey:new Uint8Array(b)}},t.sign.keyPair.fromSeed=function(b){if(ut(b),b.length!==Dt)throw new Error("bad seed size");for(var I=new Uint8Array(vt),P=new Uint8Array(xt),d=0;d<32;d++)P[d]=b[d];return ee(I,P,!0),{publicKey:I,secretKey:P}},t.sign.publicKeyLength=vt,t.sign.secretKeyLength=xt,t.sign.seedLength=Dt,t.sign.signatureLength=yt,t.hash=function(b){ut(b);var I=new Uint8Array(Bt);return ie(I,b,b.length),I},t.hash.hashLength=Bt,t.verify=function(b,I){return ut(b,I),b.length===0||I.length===0||b.length!==I.length?!1:j(b,0,I,0,b.length)===0},t.setPRNG=function(b){n=b},function(){var b=typeof self<"u"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var I=65536;t.setPRNG(function(P,d){var C,Q=new Uint8Array(d);for(C=0;C<d;C+=I)b.getRandomValues(Q.subarray(C,C+Math.min(d-C,I)));for(C=0;C<d;C++)P[C]=Q[C];Rt(Q)})}else typeof Yd<"u"&&(b=hi,b&&b.randomBytes&&t.setPRNG(function(P,d){var C,Q=b.randomBytes(d);for(C=0;C<d;C++)P[C]=Q[C];Rt(Q)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(Bh);var GS=Bh.exports,zS=pt&&pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VS=pt&&pt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qS=pt&&pt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zS(t,e,r);return VS(t,e),t};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getEncryptionPublicKey=Rr.decryptSafely=Rr.decrypt=Rr.encryptSafely=Rr.encrypt=void 0;const rn=Dh,zn=qS(GS),sn=rr;function Ch({publicKey:e,data:t,version:r}){if((0,sn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,sn.isNullish)(t))throw new Error("Missing data parameter");if((0,sn.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=zn.box.keyPair();let i;try{i=rn.base64.decode(e)}catch{throw new Error("Bad public key")}const o=rn.utf8.decode(t),a=zn.randomBytes(zn.box.nonceLength),s=zn.box(o,a,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:rn.base64.encode(a),ephemPublicKey:rn.base64.encode(n.publicKey),ciphertext:rn.base64.encode(s)}}default:throw new Error("Encryption type/version not supported")}}Rr.encrypt=Ch;function KS({publicKey:e,data:t,version:r}){if((0,sn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,sn.isNullish)(t))throw new Error("Missing data parameter");if((0,sn.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:t,padding:""},s=Buffer.byteLength(JSON.stringify(o),"utf-8")%n;let f=0;s>0&&(f=n-s-i),o.padding="0".repeat(f);const c=JSON.stringify(o);return Ch({publicKey:e,data:c,version:r})}Rr.encryptSafely=KS;function Nh({encryptedData:e,privateKey:t}){if((0,sn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,sn.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=Buffer.from(t,"hex"),n=zn.box.keyPair.fromSecretKey(r).secretKey,i=rn.base64.decode(e.nonce),o=rn.base64.decode(e.ciphertext),a=rn.base64.decode(e.ephemPublicKey),s=zn.box.open(o,i,a,n);try{if(!s)throw new Error;const f=rn.utf8.encode(s);if(!f)throw new Error;return f}catch(f){throw f&&typeof f.message=="string"&&f.message.length?new Error(`Decryption failed: ${f.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Rr.decrypt=Nh;function WS({encryptedData:e,privateKey:t}){if((0,sn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,sn.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(Nh({encryptedData:e,privateKey:t})).data}Rr.decryptSafely=WS;function JS(e){const t=Buffer.from(e,"hex"),r=zn.box.keyPair.fromSecretKey(t).publicKey;return rn.base64.encode(r)}Rr.getEncryptionPublicKey=JS;(function(e){var t=pt&&pt.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a);var f=Object.getOwnPropertyDescriptor(o,a);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,s,f)}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),r=pt&&pt.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(Pn,e),r(bh,e),r(Rr,e);var n=rr;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(hr);var YS=Vs();const Tr=ra(YS);var wn={},Kt={},pf=Kt.ValidationError=function(t,r,n,i,o,a){if(Array.isArray(i)?(this.path=i,this.property=i.reduce(function(f,c){return f+Rh(c)},"instance")):i!==void 0&&(this.property=i),t&&(this.message=t),n){var s=n.$id||n.id;this.schema=s||n}r!==void 0&&(this.instance=r),this.name=o,this.argument=a,this.stack=this.toString()};pf.prototype.toString=function(){return this.property+" "+this.message};var ja=Kt.ValidatorResult=function(t,r,n,i){this.instance=t,this.schema=r,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&n.disableFormat===!0};ja.prototype.addError=function(t){var r;if(typeof t=="string")r=new pf(t,this.instance,this.schema,this.path);else{if(!t)throw new Error("Missing error detail");if(!t.message)throw new Error("Missing error message");if(!t.name)throw new Error("Missing validator type");r=new pf(t.message,this.instance,this.schema,this.path,t.name,t.argument)}if(this.errors.push(r),this.throwFirst)throw new ei(this);if(this.throwError)throw r;return r};ja.prototype.importErrors=function(t){typeof t=="string"||t&&t.validatorType?this.addError(t):t&&t.errors&&(this.errors=this.errors.concat(t.errors))};function XS(e,t){return t+": "+e.toString()+`
`}ja.prototype.toString=function(t){return this.errors.map(XS).join("")};Object.defineProperty(ja.prototype,"valid",{get:function(){return!this.errors.length}});Kt.ValidatorResultError=ei;function ei(e){typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ei),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}ei.prototype=new Error;ei.prototype.constructor=ei;ei.prototype.name="Validation Error";var Md=Kt.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)};Md.prototype=Object.create(Error.prototype,{constructor:{value:Md,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var mf=Kt.SchemaContext=function(t,r,n,i,o){this.schema=t,this.options=r,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(a,s){return a+Rh(s)},"instance")):this.propertyPath=n,this.base=i,this.schemas=o};mf.prototype.resolve=function(t){return(()=>Fh(this.base,t))()};mf.prototype.makeChild=function(t,r){var n=r===void 0?this.path:this.path.concat([r]),i=t.$id||t.id;let o=(()=>Fh(this.base,i||""))();var a=new mf(t,this.options,n,o,Object.create(this.schemas));return i&&!a.schemas[o]&&(a.schemas[o]=t),a};var zr=Kt.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return typeof e=="string"&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch{t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};zr.regexp=zr.regex;zr.pattern=zr.regex;zr.ipv4=zr["ip-address"];Kt.isFormat=function(t,r,n){if(typeof t=="string"&&zr[r]!==void 0){if(zr[r]instanceof RegExp)return zr[r].test(t);if(typeof zr[r]=="function")return zr[r](t)}else if(n&&n.customFormats&&typeof n.customFormats[r]=="function")return n.customFormats[r](t);return!0};var Rh=Kt.makeSuffix=function(t){return t=t.toString(),!t.match(/[.\s\[\]]/)&&!t.match(/^[\d]/)?"."+t:t.match(/^\d+$/)?"["+t+"]":"["+JSON.stringify(t)+"]"};Kt.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(Array.isArray(t))return!Array.isArray(r)||t.length!==r.length?!1:t.every(function(o,a){return e(t[a],r[a])});if(typeof t=="object"){if(!t||!r)return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length!==i.length?!1:n.every(function(o){return e(t[o],r[o])})}return t===r};function ZS(e,t,r,n){typeof r=="object"?t[n]=Ec(e[n],r):e.indexOf(r)===-1&&t.push(r)}function QS(e,t,r){t[r]=e[r]}function eA(e,t,r,n){typeof t[n]!="object"||!t[n]?r[n]=t[n]:e[n]?r[n]=Ec(e[n],t[n]):r[n]=t[n]}function Ec(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(ZS.bind(null,e,n))):(e&&typeof e=="object"&&Object.keys(e).forEach(QS.bind(null,e,n)),Object.keys(t).forEach(eA.bind(null,e,t,n))),n}Kt.deepMerge=Ec;Kt.objectGetPath=function(t,r){for(var n=r.split("/").slice(1),i;typeof(i=n.shift())=="string";){var o=decodeURIComponent(i.replace(/~0/,"~").replace(/~1/g,"/"));if(!(o in t))return;t=t[o]}return t};function tA(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}Kt.encodePath=function(t){return t.map(tA).join("")};Kt.getDecimalPlaces=function(t){var r=0;if(isNaN(t))return r;typeof t!="number"&&(t=Number(t));var n=t.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return r;r=Number(n[1].slice(1))}var i=n[0].split(".");return i.length===2&&(r+=i[1].length),r};Kt.isSchema=function(t){return typeof t=="object"&&t||typeof t=="boolean"};var Fh=Kt.resolveUrl=function(t,r){const n=new URL(r,new URL(t,"resolve://"));if(n.protocol==="resolve:"){const{pathname:i,search:o,hash:a}=n;return i+o+a}return n.toString()},Dr=Kt,mt=Dr.ValidatorResult,Nn=Dr.SchemaError,wc={};wc.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var bt=wc.validators={};bt.type=function(t,r,n,i){if(t===void 0)return null;var o=new mt(t,r,n,i),a=Array.isArray(r.type)?r.type:[r.type];if(!a.some(this.testType.bind(this,t,r,n,i))){var s=a.map(function(f){if(f){var c=f.$id||f.id;return c?"<"+c+">":f+""}});o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o};function xc(e,t,r,n,i){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,i,t,r);return t.throwError=o,t.throwAll=a,!s.valid&&n instanceof Function&&n(s),s.valid}bt.anyOf=function(t,r,n,i){if(t===void 0)return null;var o=new mt(t,r,n,i),a=new mt(t,r,n,i);if(!Array.isArray(r.anyOf))throw new Nn("anyOf must be an array");if(!r.anyOf.some(xc.bind(this,t,n,i,function(f){a.importErrors(f)}))){var s=r.anyOf.map(function(f,c){var l=f.$id||f.id;return l?"<"+l+">":f.title&&JSON.stringify(f.title)||f.$ref&&"<"+f.$ref+">"||"[subschema "+c+"]"});n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:s,message:"is not any of "+s.join(",")})}return o};bt.allOf=function(t,r,n,i){if(t===void 0)return null;if(!Array.isArray(r.allOf))throw new Nn("allOf must be an array");var o=new mt(t,r,n,i),a=this;return r.allOf.forEach(function(s,f){var c=a.validateSchema(t,s,n,i);if(!c.valid){var l=s.$id||s.id,g=l||s.title&&JSON.stringify(s.title)||s.$ref&&"<"+s.$ref+">"||"[subschema "+f+"]";o.addError({name:"allOf",argument:{id:g,length:c.errors.length,valid:c},message:"does not match allOf schema "+g+" with "+c.errors.length+" error[s]:"}),o.importErrors(c)}}),o};bt.oneOf=function(t,r,n,i){if(t===void 0)return null;if(!Array.isArray(r.oneOf))throw new Nn("oneOf must be an array");var o=new mt(t,r,n,i),a=new mt(t,r,n,i),s=r.oneOf.filter(xc.bind(this,t,n,i,function(c){a.importErrors(c)})).length,f=r.oneOf.map(function(c,l){var g=c.$id||c.id;return g||c.title&&JSON.stringify(c.title)||c.$ref&&"<"+c.$ref+">"||"[subschema "+l+"]"});return s!==1&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:f,message:"is not exactly one from "+f.join(",")})),o};bt.if=function(t,r,n,i){if(t===void 0)return null;if(!Dr.isSchema(r.if))throw new Error('Expected "if" keyword to be a schema');var o=xc.call(this,t,n,i,null,r.if),a=new mt(t,r,n,i),s;if(o){if(r.then===void 0)return;if(!Dr.isSchema(r.then))throw new Error('Expected "then" keyword to be a schema');s=this.validateSchema(t,r.then,n,i.makeChild(r.then)),a.importErrors(s)}else{if(r.else===void 0)return;if(!Dr.isSchema(r.else))throw new Error('Expected "else" keyword to be a schema');s=this.validateSchema(t,r.else,n,i.makeChild(r.else)),a.importErrors(s)}return a};function Sc(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e){for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}}bt.propertyNames=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i),a=r.propertyNames!==void 0?r.propertyNames:{};if(!Dr.isSchema(a))throw new Nn('Expected "propertyNames" to be a schema (object or boolean)');for(var s in t)if(Sc(t,s)!==void 0){var f=this.validateSchema(s,a,n,i.makeChild(a));o.importErrors(f)}return o}};bt.properties=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i),a=r.properties||{};for(var s in a){var f=a[s];if(f!==void 0){if(f===null)throw new Nn('Unexpected null, expected schema in "properties"');typeof n.preValidateProperty=="function"&&n.preValidateProperty(t,s,f,n,i);var c=Sc(t,s),l=this.validateSchema(c,f,n,i.makeChild(f,s));l.instance!==o.instance[s]&&(o.instance[s]=l.instance),o.importErrors(l)}}return o}};function Lh(e,t,r,n,i,o){if(this.types.object(e)&&!(t.properties&&t.properties[i]!==void 0))if(t.additionalProperties===!1)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var a=t.additionalProperties||{};typeof r.preValidateProperty=="function"&&r.preValidateProperty(e,i,a,r,n);var s=this.validateSchema(e[i],a,r,n.makeChild(a,i));s.instance!==o.instance[i]&&(o.instance[i]=s.instance),o.importErrors(s)}}bt.patternProperties=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i),a=r.patternProperties||{};for(var s in t){var f=!0;for(var c in a){var l=a[c];if(l!==void 0){if(l===null)throw new Nn('Unexpected null, expected schema in "patternProperties"');try{var g=new RegExp(c,"u")}catch{g=new RegExp(c)}if(g.test(s)){f=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(t,s,l,n,i);var y=this.validateSchema(t[s],l,n,i.makeChild(l,s));y.instance!==o.instance[s]&&(o.instance[s]=y.instance),o.importErrors(y)}}}f&&Lh.call(this,t,r,n,i,s,o)}return o}};bt.additionalProperties=function(t,r,n,i){if(this.types.object(t)){if(r.patternProperties)return null;var o=new mt(t,r,n,i);for(var a in t)Lh.call(this,t,r,n,i,a,o);return o}};bt.minProperties=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i),a=Object.keys(t);return a.length>=r.minProperties||o.addError({name:"minProperties",argument:r.minProperties,message:"does not meet minimum property length of "+r.minProperties}),o}};bt.maxProperties=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i),a=Object.keys(t);return a.length<=r.maxProperties||o.addError({name:"maxProperties",argument:r.maxProperties,message:"does not meet maximum property length of "+r.maxProperties}),o}};bt.items=function(t,r,n,i){var o=this;if(this.types.array(t)&&r.items!==void 0){var a=new mt(t,r,n,i);return t.every(function(s,f){if(Array.isArray(r.items))var c=r.items[f]===void 0?r.additionalItems:r.items[f];else var c=r.items;if(c===void 0)return!0;if(c===!1)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var l=o.validateSchema(s,c,n,i.makeChild(c,f));return l.instance!==a.instance[f]&&(a.instance[f]=l.instance),a.importErrors(l),!0}),a}};bt.contains=function(t,r,n,i){var o=this;if(this.types.array(t)&&r.contains!==void 0){if(!Dr.isSchema(r.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new mt(t,r,n,i),s=t.some(function(f,c){var l=o.validateSchema(f,r.contains,n,i.makeChild(r.contains,c));return l.errors.length===0});return s===!1&&a.addError({name:"contains",argument:r.contains,message:"must contain an item matching given schema"}),a}};bt.minimum=function(t,r,n,i){if(this.types.number(t)){var o=new mt(t,r,n,i);return r.exclusiveMinimum&&r.exclusiveMinimum===!0?t>r.minimum||o.addError({name:"minimum",argument:r.minimum,message:"must be greater than "+r.minimum}):t>=r.minimum||o.addError({name:"minimum",argument:r.minimum,message:"must be greater than or equal to "+r.minimum}),o}};bt.maximum=function(t,r,n,i){if(this.types.number(t)){var o=new mt(t,r,n,i);return r.exclusiveMaximum&&r.exclusiveMaximum===!0?t<r.maximum||o.addError({name:"maximum",argument:r.maximum,message:"must be less than "+r.maximum}):t<=r.maximum||o.addError({name:"maximum",argument:r.maximum,message:"must be less than or equal to "+r.maximum}),o}};bt.exclusiveMinimum=function(t,r,n,i){if(typeof r.exclusiveMinimum!="boolean"&&this.types.number(t)){var o=new mt(t,r,n,i),a=t>r.exclusiveMinimum;return a||o.addError({name:"exclusiveMinimum",argument:r.exclusiveMinimum,message:"must be strictly greater than "+r.exclusiveMinimum}),o}};bt.exclusiveMaximum=function(t,r,n,i){if(typeof r.exclusiveMaximum!="boolean"&&this.types.number(t)){var o=new mt(t,r,n,i),a=t<r.exclusiveMaximum;return a||o.addError({name:"exclusiveMaximum",argument:r.exclusiveMaximum,message:"must be strictly less than "+r.exclusiveMaximum}),o}};var $h=function(t,r,n,i,o,a){if(this.types.number(t)){var s=r[o];if(s==0)throw new Nn(o+" cannot be zero");var f=new mt(t,r,n,i),c=Dr.getDecimalPlaces(t),l=Dr.getDecimalPlaces(s),g=Math.max(c,l),y=Math.pow(10,g);return Math.round(t*y)%Math.round(s*y)!==0&&f.addError({name:o,argument:s,message:a+JSON.stringify(s)}),f}};bt.multipleOf=function(t,r,n,i){return $h.call(this,t,r,n,i,"multipleOf","is not a multiple of (divisible by) ")};bt.divisibleBy=function(t,r,n,i){return $h.call(this,t,r,n,i,"divisibleBy","is not divisible by (multiple of) ")};bt.required=function(t,r,n,i){var o=new mt(t,r,n,i);return t===void 0&&r.required===!0?o.addError({name:"required",message:"is required"}):this.types.object(t)&&Array.isArray(r.required)&&r.required.forEach(function(a){Sc(t,a)===void 0&&o.addError({name:"required",argument:a,message:"requires property "+JSON.stringify(a)})}),o};bt.pattern=function(t,r,n,i){if(this.types.string(t)){var o=new mt(t,r,n,i),a=r.pattern;try{var s=new RegExp(a,"u")}catch{s=new RegExp(a)}return t.match(s)||o.addError({name:"pattern",argument:r.pattern,message:"does not match pattern "+JSON.stringify(r.pattern.toString())}),o}};bt.format=function(t,r,n,i){if(t!==void 0){var o=new mt(t,r,n,i);return!o.disableFormat&&!Dr.isFormat(t,r.format,this)&&o.addError({name:"format",argument:r.format,message:"does not conform to the "+JSON.stringify(r.format)+" format"}),o}};bt.minLength=function(t,r,n,i){if(this.types.string(t)){var o=new mt(t,r,n,i),a=t.match(/[\uDC00-\uDFFF]/g),s=t.length-(a?a.length:0);return s>=r.minLength||o.addError({name:"minLength",argument:r.minLength,message:"does not meet minimum length of "+r.minLength}),o}};bt.maxLength=function(t,r,n,i){if(this.types.string(t)){var o=new mt(t,r,n,i),a=t.match(/[\uDC00-\uDFFF]/g),s=t.length-(a?a.length:0);return s<=r.maxLength||o.addError({name:"maxLength",argument:r.maxLength,message:"does not meet maximum length of "+r.maxLength}),o}};bt.minItems=function(t,r,n,i){if(this.types.array(t)){var o=new mt(t,r,n,i);return t.length>=r.minItems||o.addError({name:"minItems",argument:r.minItems,message:"does not meet minimum length of "+r.minItems}),o}};bt.maxItems=function(t,r,n,i){if(this.types.array(t)){var o=new mt(t,r,n,i);return t.length<=r.maxItems||o.addError({name:"maxItems",argument:r.maxItems,message:"does not meet maximum length of "+r.maxItems}),o}};function rA(e,t,r){var n,i=r.length;for(n=t+1,i;n<i;n++)if(Dr.deepCompareStrict(e,r[n]))return!1;return!0}bt.uniqueItems=function(t,r,n,i){if(r.uniqueItems===!0&&this.types.array(t)){var o=new mt(t,r,n,i);return t.every(rA)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}};bt.dependencies=function(t,r,n,i){if(this.types.object(t)){var o=new mt(t,r,n,i);for(var a in r.dependencies)if(t[a]!==void 0){var s=r.dependencies[a],f=i.makeChild(s,a);if(typeof s=="string"&&(s=[s]),Array.isArray(s))s.forEach(function(l){t[l]===void 0&&o.addError({name:"dependencies",argument:f.propertyPath,message:"property "+l+" not found, required by "+f.propertyPath})});else{var c=this.validateSchema(t,s,n,f);o.instance!==c.instance&&(o.instance=c.instance),c&&c.errors.length&&(o.addError({name:"dependencies",argument:f.propertyPath,message:"does not meet dependency required by "+f.propertyPath}),o.importErrors(c))}}return o}};bt.enum=function(t,r,n,i){if(t===void 0)return null;if(!Array.isArray(r.enum))throw new Nn("enum expects an array",r);var o=new mt(t,r,n,i);return r.enum.some(Dr.deepCompareStrict.bind(null,t))||o.addError({name:"enum",argument:r.enum,message:"is not one of enum values: "+r.enum.map(String).join(",")}),o};bt.const=function(t,r,n,i){if(t===void 0)return null;var o=new mt(t,r,n,i);return Dr.deepCompareStrict(r.const,t)||o.addError({name:"const",argument:r.const,message:"does not exactly match expected constant: "+r.const}),o};bt.not=bt.disallow=function(t,r,n,i){var o=this;if(t===void 0)return null;var a=new mt(t,r,n,i),s=r.not||r.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach(function(f){if(o.testType(t,r,n,i,f)){var c=f&&(f.$id||f.id),l=c||f;a.addError({name:"not",argument:l,message:"is of prohibited type "+l})}}),a):null};var nA=wc,bo={},Bs=Kt;bo.SchemaScanResult=Mh;function Mh(e,t){this.id=e,this.ref=t}bo.scan=function(t,r){function n(f,c){if(!c||typeof c!="object")return;if(c.$ref){let v=Bs.resolveUrl(f,c.$ref);s[v]=s[v]?s[v]+1:0;return}var l=c.$id||c.id;let g=Bs.resolveUrl(f,l);var y=l?g:f;if(y){if(y.indexOf("#")<0&&(y+="#"),a[y]){if(!Bs.deepCompareStrict(a[y],c))throw new Error("Schema <"+y+"> already exists with different definition");return a[y]}a[y]=c,y[y.length-1]=="#"&&(a[y.substring(0,y.length-1)]=c)}i(y+"/items",Array.isArray(c.items)?c.items:[c.items]),i(y+"/extends",Array.isArray(c.extends)?c.extends:[c.extends]),n(y+"/additionalItems",c.additionalItems),o(y+"/properties",c.properties),n(y+"/additionalProperties",c.additionalProperties),o(y+"/definitions",c.definitions),o(y+"/patternProperties",c.patternProperties),o(y+"/dependencies",c.dependencies),i(y+"/disallow",c.disallow),i(y+"/allOf",c.allOf),i(y+"/anyOf",c.anyOf),i(y+"/oneOf",c.oneOf),n(y+"/not",c.not)}function i(f,c){if(Array.isArray(c))for(var l=0;l<c.length;l++)n(f+"/"+l,c[l])}function o(f,c){if(!(!c||typeof c!="object"))for(var l in c)n(f+"/"+l,c[l])}var a={},s={};return n(t,r),new Mh(a,s)};var kh=nA,Rn=Kt,Uh=bo.scan,jh=Rn.ValidatorResult,iA=Rn.ValidatorResultError,Yi=Rn.SchemaError,Hh=Rn.SchemaContext,oA="/",tr=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(fn),this.attributes=Object.create(kh.validators)};tr.prototype.customFormats={};tr.prototype.schemas=null;tr.prototype.types=null;tr.prototype.attributes=null;tr.prototype.unresolvedRefs=null;tr.prototype.addSchema=function(t,r){var n=this;if(!t)return null;var i=Uh(r||oA,t),o=r||t.$id||t.id;for(var a in i.id)this.schemas[a]=i.id[a];for(var a in i.ref)this.unresolvedRefs.push(a);return this.unresolvedRefs=this.unresolvedRefs.filter(function(s){return typeof n.schemas[s]>"u"}),this.schemas[o]};tr.prototype.addSubSchemaArray=function(t,r){if(Array.isArray(r))for(var n=0;n<r.length;n++)this.addSubSchema(t,r[n])};tr.prototype.addSubSchemaObject=function(t,r){if(!(!r||typeof r!="object"))for(var n in r)this.addSubSchema(t,r[n])};tr.prototype.setSchemas=function(t){this.schemas=t};tr.prototype.getSchema=function(t){return this.schemas[t]};tr.prototype.validate=function(t,r,n,i){if(typeof r!="boolean"&&typeof r!="object"||r===null)throw new Yi("Expected `schema` to be an object or boolean");n||(n={});var o=r.$id||r.id;let a=Rn.resolveUrl(n.base,o||"");if(!i){i=new Hh(r,n,[],a,Object.create(this.schemas)),i.schemas[a]||(i.schemas[a]=r);var s=Uh(a,r);for(var f in s.id){var c=s.id[f];i.schemas[f]=c}}if(n.required&&t===void 0){var l=new jh(t,r,n,i);return l.addError("is required, but is undefined"),l}var l=this.validateSchema(t,r,n,i);if(l){if(n.throwAll&&l.errors.length)throw new iA(l)}else throw new Error("Result undefined");return l};function Gh(e){var t=typeof e=="string"?e:e.$ref;return typeof t=="string"?t:!1}tr.prototype.validateSchema=function(t,r,n,i){var o=new jh(t,r,n,i);if(typeof r=="boolean")r===!0?r={}:r===!1&&(r={type:[]});else if(!r)throw new Error("schema is undefined");if(r.extends)if(Array.isArray(r.extends)){var a={schema:r,ctx:i};r.extends.forEach(this.schemaTraverser.bind(this,a)),r=a.schema,a.schema=null,a.ctx=null,a=null}else r=Rn.deepMerge(r,this.superResolve(r.extends,i));var s=Gh(r);if(s){var f=this.resolve(r,s,i),c=new Hh(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(t,f.subschema,n,c)}var l=n&&n.skipAttributes||[];for(var g in r)if(!kh.ignoreProperties[g]&&l.indexOf(g)<0){var y=null,v=this.attributes[g];if(v)y=v.call(this,t,r,n,i);else if(n.allowUnknownAttributes===!1)throw new Yi("Unsupported attribute: "+g,r);y&&o.importErrors(y)}if(typeof n.rewrite=="function"){var _=n.rewrite.call(this,t,r,n,i);o.instance=_}return o};tr.prototype.schemaTraverser=function(t,r){t.schema=Rn.deepMerge(t.schema,this.superResolve(r,t.ctx))};tr.prototype.superResolve=function(t,r){var n=Gh(t);return n?this.resolve(t,n,r).subschema:t};tr.prototype.resolve=function(t,r,n){if(r=n.resolve(r),n.schemas[r])return{subschema:n.schemas[r],switchSchema:r};let o=new URL(r,"thismessage::/").hash;var a=o&&o.length&&r.substr(0,r.length-o.length);if(!a||!n.schemas[a])throw new Yi("no such schema <"+r+">",t);var s=Rn.objectGetPath(n.schemas[a],o.substr(1));if(s===void 0)throw new Yi("no such schema "+o+" located in <"+a+">",t);return{subschema:s,switchSchema:r}};tr.prototype.testType=function(t,r,n,i,o){if(o!==void 0){if(o===null)throw new Yi('Unexpected null in "type" keyword');if(typeof this.types[o]=="function")return this.types[o].call(this,t);if(o&&typeof o=="object"){var a=this.validateSchema(t,o,n,i);return a===void 0||!(a&&a.errors.length)}return!0}};var fn=tr.prototype.types={};fn.string=function(t){return typeof t=="string"};fn.number=function(t){return typeof t=="number"&&isFinite(t)};fn.integer=function(t){return typeof t=="number"&&t%1===0};fn.boolean=function(t){return typeof t=="boolean"};fn.array=function(t){return Array.isArray(t)};fn.null=function(t){return t===null};fn.date=function(t){return t instanceof Date};fn.any=function(t){return!0};fn.object=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!(t instanceof Date)};var aA=tr,sA=wn.Validator=aA;wn.ValidatorResult=Kt.ValidatorResult;wn.ValidatorResultError=Kt.ValidatorResultError;wn.ValidationError=Kt.ValidationError;wn.SchemaError=Kt.SchemaError;wn.SchemaScanResult=bo.SchemaScanResult;wn.scan=bo.scan;wn.validate=function(e,t,r){var n=new sA;return n.validate(e,t,r)};function kd(e){return e.length===2+20*2}function fA(e){let{getAccounts:t,getPrivateKey:r,processDecryptMessage:n,processEncryptionPublicKey:i,processEthSignMessage:o,processPersonalMessage:a,processTransaction:s,processSignTransaction:f,processTypedMessage:c,processTypedMessageV3:l,processTypedMessageV4:g}=e;if(!t)throw new Error("opts.getAccounts is required");async function y(q,re){if(typeof q=="string"&&q.length>0){const T=(await t(re)).map(p=>p.toLowerCase()),N=q.toLowerCase();if(T.includes(N))return N}throw Vt.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function v(q,re){re.result=await t(q)}async function _(q,re){const fe=await t(q);re.result=fe[0]||null}async function j(q,re){if(!s)throw Vt.methodNotSupported();const fe=q.params[0]||{from:""};fe.from=await y(fe.from,q),re.result=await s(fe,q)}async function z(q,re){if(!f)throw Vt.methodNotSupported();const fe=q.params[0]||{from:""};fe.from=await y(fe.from,q),re.result=await f(fe,q)}async function Z(q,re){if(!o)throw Vt.methodNotSupported();const fe=await y(q.params[0],q),T=q.params[1],N=q.params[2]||{},p=wt(wt({},N),{},{from:fe,data:T});re.result=await o(p,q)}async function k(q,re){if(!c)throw Vt.methodNotSupported();const fe=q.params[0],T=await y(q.params[1],q),N="V1",p=q.params[2]||{},x=wt(wt({},p),{},{from:T,data:fe});re.result=await c(x,q,N)}async function K(q,re){if(!l)throw Vt.methodNotSupported();const fe=await y(q.params[0],q),T=q.params[1],N="V3",p={data:T,from:fe,version:N};re.result=await l(p,q,N)}async function $(q,re){if(!g)throw Vt.methodNotSupported();const fe=await y(q.params[0],q),T=q.params[1],N="V4",p={data:T,from:fe,version:N};re.result=await g(p,q,N)}async function B(q,re){if(!a)throw Vt.methodNotSupported();const fe=q.params[0],T=q.params[1],N=q.params[2]||{};let p,x;if(kd(fe)&&!kd(T)){let H="The eth_personalSign method requires params ordered ";H+="[message, address]. This was previously handled incorrectly, ",H+="and has been corrected automatically. ",H+="Please switch this param order for smooth behavior in the future.",re.warning=H,p=fe,x=T}else x=fe,p=T;p=await y(p,q);const M=wt(wt({},N),{},{from:p,data:x});re.result=await a(M,q)}async function D(q,re){if(!i)throw Vt.methodNotSupported();const fe=await y(q.params[0],q);re.result=await i(fe,q)}async function h(q,re){if(!n)throw Vt.methodNotSupported();const fe=q.params[0],T=await y(q.params[1],q),N=q.params[2]||{},p=wt(wt({},N),{},{from:T,data:fe});re.result=n(p,q)}async function A(q,re){if(!r)throw Vt.methodNotSupported();re.result=r(q)}return ta({eth_accounts:dr(v),eth_private_key:dr(A),private_key:dr(A),eth_coinbase:dr(_),eth_sendTransaction:dr(j),eth_signTransaction:dr(z),eth_sign:dr(Z),eth_signTypedData:dr(k),eth_signTypedData_v3:dr(K),eth_signTypedData_v4:dr($),personal_sign:dr(B),eth_getEncryptionPublicKey:dr(D),eth_decrypt:dr(h)})}function zh(e){const{getAccounts:t,getPrivateKey:r,processTransaction:n,processSignTransaction:i,processEthSignMessage:o,processTypedMessage:a,processTypedMessageV3:s,processTypedMessageV4:f,processPersonalMessage:c,processEncryptionPublicKey:l,processDecryptMessage:g}=e;return Vd([ta({eth_syncing:!1}),fA({getAccounts:t,getPrivateKey:r,processTransaction:n,processEthSignMessage:o,processSignTransaction:i,processTypedMessage:a,processTypedMessageV3:s,processTypedMessageV4:f,processPersonalMessage:c,processEncryptionPublicKey:l,processDecryptMessage:g})])}function Vh(e){let{addChain:t,switchChain:r}=e;async function n(o,a){var s;const f=(s=o.params)!==null&&s!==void 0&&s.length?o.params[0]:void 0;if(!f)throw Vt.invalidParams("Missing chain params");if(!f.chainId)throw Vt.invalidParams("Missing chainId in chainParams");if(!f.rpcUrls||f.rpcUrls.length===0)throw Vt.invalidParams("Missing rpcUrls in chainParams");if(!f.nativeCurrency)throw Vt.invalidParams("Missing nativeCurrency in chainParams");a.result=await t(f)}async function i(o,a){var s;const f=(s=o.params)!==null&&s!==void 0&&s.length?o.params[0]:void 0;if(!f)throw Vt.invalidParams("Missing chainId");a.result=await r(f)}return ta({wallet_addEthereumChain:dr(n),wallet_switchEthereumChain:dr(i)})}function cA(e){let{updatePrivatekey:t}=e;async function r(n,i){var o;const a=(o=n.params)!==null&&o!==void 0&&o.length?n.params[0]:void 0;if(!(a!=null&&a.privateKey))throw Vt.invalidParams("Missing privateKey");i.result=await t(a)}return ta({wallet_updateAccount:dr(r)})}function uA(e){return(t,r,n,i)=>t.method==="eth_chainId"?(r.result=e,i()):n()}function dA(e){return(t,r,n,i)=>t.method==="eth_provider_config"?(r.result=e,i()):n()}function qh(e){const{chainId:t,rpcTarget:r}=e,n=nm({rpcTarget:r});return{networkMiddleware:Vd([uA(t),dA(e),n]),fetchMiddleware:n}}async function Kh(e){if(e.session.length){const t=e.session.keys.length-1;return e.session.get(e.session.keys[t])}return null}async function $n(e,t,r,n){const i=await Kh(e);if(!i)throw Ar.disconnected();return e.request({topic:i.topic,chainId:`eip155:${t}`,request:{method:r,params:n}})}async function Wh(e){const t=await Kh(e);if(!t)throw Ar.disconnected();const r=F0(t.namespaces);if(r&&r.length)return[...new Set(r.map(n=>rc(n).address))];throw new Error("Failed to get accounts")}function lA(e){let{connector:t,chainId:r}=e;return{getPrivateKey:async()=>{throw Vt.methodNotSupported()},getAccounts:async n=>Wh(t),processTransaction:async(n,i)=>await $n(t,r,"eth_sendTransaction",[n]),processSignTransaction:async(n,i)=>await $n(t,r,"eth_signTransaction",[n]),processEthSignMessage:async(n,i)=>await $n(t,r,"eth_sign",[n.from,n.data]),processPersonalMessage:async(n,i)=>await $n(t,r,"personal_sign",[n.from,n.data]),processTypedMessage:async(n,i)=>await $n(t,r,"eth_signTypedData",[n.data,n.from]),processTypedMessageV3:async n=>await $n(t,r,"eth_signTypedData_v3",[n.from,n.data]),processTypedMessageV4:async n=>await $n(t,r,"eth_signTypedData_v4",[n.from,n.data]),processEncryptionPublicKey:async n=>{throw Vt.methodNotSupported()},processDecryptMessage:n=>{throw Vt.methodNotSupported()}}}var Jh;class Ac extends Xd{constructor(t){let{config:r,state:n,connector:i}=t;super({config:{chainConfig:wt(wt({},r.chainConfig),{},{chainNamespace:gi.EIP155}),skipLookupNetwork:!!r.skipLookupNetwork},state:wt(wt({},n||{}),{},{chainId:"loading",accounts:[]})}),kn(this,"connector",null),this.connector=i||null}async enable(){if(!this.connector)throw Ar.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(t){this.onConnectorStateUpdate(t),await this.setupEngine(t)}async switchChain(t){let{chainId:r}=t;if(!this.connector)throw Ar.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const n=this.getChainConfig(r);this.configure({chainConfig:n}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(t){super.addChain(t)}async lookupNetwork(t){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(t){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),i=lA({connector:t,chainId:n}),o=await Wh(t);this.update({accounts:o||[]});const a=zh(i),s=this.getChainSwitchMiddleware(),f=new Gd,{networkMiddleware:c}=qh(this.config.chainConfig);f.push(a),f.push(s),f.push(c);const l=zd(f);this.updateProviderEngineProxy(l)}getChainSwitchMiddleware(){return Vh({addChain:async n=>{const{chainId:i,chainName:o,rpcUrls:a,blockExplorerUrls:s,nativeCurrency:f}=n;this.addChain({chainNamespace:gi.EIP155,chainId:i,ticker:(f==null?void 0:f.symbol)||"ETH",tickerName:(f==null?void 0:f.name)||"Ether",displayName:o,rpcTarget:a[0],blockExplorer:(s==null?void 0:s[0])||"",decimals:(f==null?void 0:f.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var t;if(!this.connector)throw Pc.notConnectedError("Wallet connect connector is not connected");if((t=this.connector)!==null&&t!==void 0&&(t=t.session)!==null&&t!==void 0&&t.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfChainIdAllowed(t){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=O6(r.namespaces);let i=!1;for(const o of n){const a=R0(o);if(Number.parseInt(a.reference,10)===Number.parseInt(t,10)){i=!0;break}}return i}checkIfAccountAllowed(t){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=F0(r.namespaces);let i=!1;for(const a of n){var o;if(((o=rc(a).address)===null||o===void 0?void 0:o.toLowerCase())===(t==null?void 0:t.toLowerCase())){i=!0;break}}return i}async onConnectorStateUpdate(t){t.events.on("session_event",async r=>{if(gn.debug("session_event data",r),!this.provider)throw Pc.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:i,data:o}=n||{};if(i==="accountsChanged"&&o!==null&&o!==void 0&&o.length&&this.state.accounts[0]!==o[0]&&this.checkIfAccountAllowed(o[0])&&(this.update({accounts:o}),this.emit("accountsChanged",o)),n.name==="chainChanged"){const{chainId:a,rpcUrl:s}=o,f=`0x${a.toString(16)}`;if(!this.checkIfChainIdAllowed(f))return;if(f&&this.state.chainId!==f){const c=Fp(gi.EIP155,f)||{};this.configure({chainConfig:wt(wt({},c),{},{chainId:f,rpcTarget:s,chainNamespace:gi.EIP155})}),await this.setupEngine(t)}}})}}Jh=Ac;kn(Ac,"getProviderInstance",async e=>{const t=new Jh({config:{chainConfig:e.chainConfig,skipLookupNetwork:e.skipLookupNetwork}});return await t.setupProvider(e.connector),t});const Yh=new Zt("1e18"),Xh=new Zt("1e9"),Zh=new Zt("1"),hA={hex:e=>typeof e=="string"?new Zt(Si(e),16):new Zt(e,16),dec:e=>new Zt(e,10)},gA={WEI:e=>e.div(Yh),GWEI:e=>e.div(Xh),ETH:e=>e.div(Zh)},pA={WEI:e=>e.times(Yh).dp(0,Zt.ROUND_HALF_UP),GWEI:e=>e.times(Xh).dp(9,Zt.ROUND_HALF_UP),ETH:e=>e.times(Zh).dp(9,Zt.ROUND_HALF_UP)},mA={hex:e=>e.toString(16),dec:e=>new Zt(e).toString(10)},bA=e=>{const{value:t,fromNumericBase:r,fromDenomination:n,toNumericBase:i,toDenomination:o,numberOfDecimals:a}=e;let s=hA[r](t);return n&&(s=gA[n](s)),o&&(s=pA[o](s)),a&&(s=s.dp(a,Zt.ROUND_HALF_DOWN)),i&&(s=mA[i](s)),s},Qh=(e,t)=>{let{fromNumericBase:r="hex",toNumericBase:n,fromDenomination:i,toDenomination:o,numberOfDecimals:a}=t;return bA({fromNumericBase:r,toNumericBase:n,fromDenomination:i,toDenomination:o,numberOfDecimals:a,value:e||"0"})};function li(e){return Qh(e,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function dn(e){return Qh(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function Mn(e){const t=li(e);return dn(t).toString()}async function yA(e){const t=await qd(e);return wt(wt({},t),{},{estimatedBaseFee:Mn(t.estimatedBaseFee),low:wt(wt({},t.low),{},{suggestedMaxPriorityFeePerGas:Mn(t.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Mn(t.low.suggestedMaxFeePerGas)}),medium:wt(wt({},t.medium),{},{suggestedMaxPriorityFeePerGas:Mn(t.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Mn(t.medium.suggestedMaxFeePerGas)}),high:wt(wt({},t.high),{},{suggestedMaxPriorityFeePerGas:Mn(t.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Mn(t.high.suggestedMaxFeePerGas)})})}async function vA(e){const t=await qd(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:t.SafeGasPrice,medium:t.ProposeGasPrice,high:t.FastGasPrice}}const Cs=(e,t)=>{try{Tr.ok(e&&typeof e=="object","Params must be an object."),Tr.ok("data"in e,'Params must include a "data" field.'),Tr.ok("from"in e,'Params must include a "from" field.'),Tr.ok(typeof e.from=="string"&&nh(e.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let n=null,i=null;switch(e.version){case hr.SignTypedDataVersion.V1:typeof e.data=="string"?Tr.doesNotThrow(()=>{n=JSON.parse(e.data)},'"data" must be a valid JSON string.'):n=e.data,Tr.ok(Array.isArray(n),"params.data must be an array."),Tr.doesNotThrow(()=>{hr.typedSignatureHash(n)},"Signing data must be valid EIP-712 typed data.");break;case hr.SignTypedDataVersion.V3:case hr.SignTypedDataVersion.V4:{var r;typeof e.data=="string"?Tr.doesNotThrow(()=>{n=JSON.parse(e.data)},'"data" must be a valid JSON string.'):n=e.data;const o=n;Tr.ok(o.primaryType in o.types,`Primary type of "${o.primaryType}" has no type definition.`);const a=wn.validate(o,hr.TYPED_MESSAGE_SCHEMA.properties);Tr.strictEqual(a.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),i=(r=o.domain)===null||r===void 0?void 0:r.chainId,i&&(Tr.ok(!Number.isNaN(t),`Cannot sign messages for chainId "${i}", because Web3Auth is switching networks.`),typeof i=="string"&&(i=Number.parseInt(i,_o(i)?16:10)),Tr.strictEqual(i,t,`Provided chainId "${i}" must match the active chainId "${t}"`));break}default:Tr.fail(`Unknown typed data version "${e.version}"`)}}catch(n){throw Vt.invalidInput({message:n==null?void 0:n.message})}};async function Ud(e,t,r){const n=await r.formatTransaction(e),i=await r.getCommonConfiguration(),a=Zo.fromTxData(n,{common:i}).sign(Buffer.from(t,"hex")).serialize();return Buffer.from(a)}function eg(e){let{txFormatter:t,privKey:r,getProviderEngineProxy:n}=e;return{getAccounts:async i=>[`0x${Buffer.from(ah(Buffer.from(r,"hex"))).toString("hex")}`],getPrivateKey:async i=>r,processTransaction:async(i,o)=>{const a=n();if(!a)throw Ar.custom({message:"Provider is not initialized",code:4902});i.input&&!i.data&&(i.data=i.input);const s=await Ud(i,r,t);return await a.request({method:"eth_sendRawTransaction",params:["0x".concat(s.toString("hex"))]})},processSignTransaction:async(i,o)=>{if(!n())throw Ar.custom({message:"Provider is not initialized",code:4902});return i.input&&!i.data&&(i.data=i.input),`0x${(await Ud(i,r,t)).toString("hex")}`},processEthSignMessage:async(i,o)=>rm(r,i.data),processPersonalMessage:async(i,o)=>{const a=Buffer.from(r,"hex");return hr.personalSign({privateKey:a,data:i.data})},processTypedMessage:async(i,o)=>{gn.debug("processTypedMessage",i);const a=Buffer.from(r,"hex"),s=n();if(!s)throw Ar.custom({message:"Provider is not initialized",code:4902});const f=await s.request({method:"eth_chainId"}),c=Number.parseInt(f,_o(f)?16:10),l=wt(wt({},i),{},{version:hr.SignTypedDataVersion.V1});Cs(l,c);const g=typeof l.data=="string"?JSON.parse(l.data):l.data;return hr.signTypedData({privateKey:a,data:g,version:hr.SignTypedDataVersion.V1})},processTypedMessageV3:async(i,o)=>{gn.debug("processTypedMessageV3",i);const a=Buffer.from(r,"hex"),s=n();if(!s)throw Ar.custom({message:"Provider is not initialized",code:4902});const f=await s.request({method:"eth_chainId"}),c=Number.parseInt(f,_o(f)?16:10);Cs(i,c);const l=typeof i.data=="string"?JSON.parse(i.data):i.data;return hr.signTypedData({privateKey:a,data:l,version:hr.SignTypedDataVersion.V3})},processTypedMessageV4:async(i,o)=>{gn.debug("processTypedMessageV4",i);const a=Buffer.from(r,"hex"),s=n();if(!s)throw Ar.custom({message:"Provider is not initialized",code:4902});const f=await s.request({method:"eth_chainId"}),c=Number.parseInt(f,_o(f)?16:10);Cs(i,c);const l=typeof i.data=="string"?JSON.parse(i.data):i.data;return hr.signTypedData({privateKey:a,data:l,version:hr.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(i,o)=>(gn.info("processEncryptionPublicKey",i),hr.getEncryptionPublicKey(r)),processDecryptMessage:(i,o)=>{gn.info("processDecryptMessage",i);const a=Si(i.data),s=Buffer.from(a,"hex");return hr.decrypt({encryptedData:JSON.parse(s.toString("utf8")),privateKey:r})}}}function EA(e,t){return e==null||t===null||t===void 0?null:new Zt(e,10).lt(t,10)}function So(e){return xn(e.toString(16))}function Ns(e){return Ke.isBN(e)?e:new Ke(Si(e),16)}function wA(e,t,r){const n=new Ke(t),i=new Ke(r);return e.mul(n).div(i)}const xA="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",SA="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",jd={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Ao={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},di={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};class tg{constructor(t){let{getProviderEngineProxy:r}=t;kn(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0x13881","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),kn(this,"chainConfig",null),kn(this,"getProviderEngineProxy",void 0),kn(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=r}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:t,chainId:r}=this.chainConfig,n=this.isEIP1559Compatible?Be.Paris:Be.Berlin,i={name:t,chainId:r==="loading"?0:Number.parseInt(r,16),networkId:r==="loading"?0:Number.parseInt(r,16),defaultHardfork:n};return lr.custom(i)}async formatTransaction(t){if(!this.chainConfig)throw new Error("Chain config not initialized");const r=wt({},t);if(r.nonce===void 0&&(r.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[t.from,"latest"]})),!this.isEIP1559Compatible&&r.gasPrice){if(r.maxFeePerGas&&delete r.maxFeePerGas,r.maxPriorityFeePerGas&&delete r.maxPriorityFeePerGas,!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const a=await this.getDefaultGasLimit(r);a&&(r.gasLimit=a)}return r}if(!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const a=await this.getDefaultGasLimit(r);a&&(r.gasLimit=a)}const{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:o}=await this.getDefaultGasFees(r);return this.isEIP1559Compatible?(r.gasPrice&&!r.maxFeePerGas&&!r.maxPriorityFeePerGas?(r.maxFeePerGas=r.gasPrice,r.maxPriorityFeePerGas=EA(typeof o=="string"?Si(o):o,typeof r.gasPrice=="string"?Si(r.gasPrice):r.gasPrice)?o:r.gasPrice):(i&&!r.maxFeePerGas&&(r.maxFeePerGas=i),o&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=o),n&&!r.maxFeePerGas&&(r.maxFeePerGas=n),r.maxFeePerGas&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=r.maxFeePerGas)),delete r.gasPrice):(delete r.maxPriorityFeePerGas,delete r.maxFeePerGas),n&&!r.gasPrice&&!r.maxPriorityFeePerGas&&!r.maxFeePerGas&&(r.gasPrice=n),r.type=this.isEIP1559Compatible?jd.FEE_MARKET:jd.LEGACY,r.chainId=this.chainConfig.chainId,r}async fetchEthGasPriceEstimate(){const t=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:dn(t).toString()}}async fetchGasEstimatesViaEthFeeHistory(){const r="latest",n=[10,50,95],i=await this.providerProxy.request({method:"eth_feeHistory",params:[10,r,n]}),o=i.baseFeePerGas[i.baseFeePerGas.length-1],a=i.reward.reduce((s,f)=>({slow:s.slow.plus(new Zt(f[0],16)),average:s.average.plus(new Zt(f[1],16)),fast:s.fast.plus(new Zt(f[2],16))}),{slow:new Zt(0),average:new Zt(0),fast:new Zt(0)});return{estimatedBaseFee:dn(o).toString(),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:dn(a.fast.plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:dn(a.fast.toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:dn(a.average.plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:dn(a.average.toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:dn(a.slow.plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:dn(a.slow.toString(16)).toString()}}}async getEIP1559Compatibility(){const t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(t&&t.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const t=this.chainConfig.chainId==="0x1",r=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible){let i;try{if(this.API_SUPPORTED_CHAINIDS.has(this.chainConfig.chainId))i=await yA(SA.replace("<chain_id>",`${r}`));else throw new Error("Chain id not supported by api")}catch{i=await this.fetchGasEstimatesViaEthFeeHistory()}n={gasFeeEstimates:i,gasEstimateType:di.FEE_MARKET}}else if(t)n={gasFeeEstimates:await vA(xA.replace("<chain_id>",`${r}`)),gasEstimateType:di.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:di.ETH_GASPRICE}}catch(o){throw new Error(`Gas fee/price estimation failed. Message: ${o.message}`)}}return n}async getDefaultGasFees(t){if(!this.isEIP1559Compatible&&t.gasPrice||this.isEIP1559Compatible&&t.maxFeePerGas&&t.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:n,gasEstimateType:i}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&i===di.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:a}={}}=n;if(o&&a)return{maxFeePerGas:xn(li(a)),maxPriorityFeePerGas:xn(li(o))}}else{if(i===di.LEGACY)return{gasPrice:xn(li(n.medium))};if(i===di.ETH_GASPRICE)return{gasPrice:xn(li(n.gasPrice))}}}catch(n){gn.error(n)}const{gasPrice:r}=await this.fetchEthGasPriceEstimate();return{gasPrice:xn(li(r))}}async estimateTxGas(t){const r=wt({},t);return delete r.gasPrice,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[r]})}async analyzeGasUsage(t){const r=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),n=Ns(r.gasLimit),i=wA(n,19,20);let o=So(i);try{o=await this.estimateTxGas(t)}catch(a){gn.warn(a)}return{blockGasLimit:r.gasLimit,estimatedGasHex:o}}addGasBuffer(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const i=Ns(t),a=Ns(r).muln(.9),s=i.muln(n);return i.gt(a)?So(i):s.lt(a)?So(s):So(a)}async determineTransactionCategory(t){const{data:r,to:n}=t;let i="",o;if(r&&!n)o=Ao.DEPLOY_CONTRACT;else{try{i=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(s){gn.warn(s)}o=!i||i==="0x"||i==="0x0"?Ao.SENT_ETHER:Ao.CONTRACT_INTERACTION}return{transactionCategory:o,code:i}}async getDefaultGasLimit(t){const{transactionCategory:r}=await this.determineTransactionCategory(wt({},t));if(t.gas)return t.gas;if(t.to&&r===Ao.SENT_ETHER){if(t.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return xn(21e3.toString(16))}const{blockGasLimit:n,estimatedGasHex:i}=await this.analyzeGasUsage(t);return this.addGasBuffer(xn(i),n)}}var rg;class _c extends Xd{constructor(t){let{config:r,state:n}=t;super({config:{chainConfig:wt(wt({},r.chainConfig),{},{chainNamespace:gi.EIP155})},state:n})}async enable(){if(!this.state.privateKey)throw Ar.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(t){const r=new tg({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=eg({txFormatter:r,privKey:t,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),i=zh(n),o=this.getChainSwitchMiddleware(),a=new Gd,{networkMiddleware:s}=qh(this.config.chainConfig);a.push(i),a.push(o),a.push(this.getAccountMiddleware()),a.push(s);const f=zd(a);this.updateProviderEngineProxy(f),await r.init(),await this.lookupNetwork()}async updateAccount(t){if(!this._providerEngineProxy)throw Ar.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==t.privateKey&&(await this.setupProvider(t.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(t){if(!this._providerEngineProxy)throw Ar.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(t.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw Ar.custom({message:"Provider is not initialized",code:4902});const{chainId:t}=this.config.chainConfig;if(!t)throw Vt.invalidParams("chainId is required while lookupNetwork");const r=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(t,16)!==parseInt(r,10))throw Ar.chainDisconnected(`Invalid network, net_version is: ${r}`);return this.state.chainId!==t&&(this.emit("chainChanged",t),this.emit("connect",{chainId:t})),this.update({chainId:t}),r}getChainSwitchMiddleware(){return Vh({addChain:async n=>{const{chainId:i,chainName:o,rpcUrls:a,blockExplorerUrls:s,nativeCurrency:f}=n;this.addChain({chainNamespace:gi.EIP155,chainId:i,ticker:(f==null?void 0:f.symbol)||"ETH",tickerName:(f==null?void 0:f.name)||"Ether",displayName:o,rpcTarget:a[0],blockExplorer:(s==null?void 0:s[0])||"",decimals:(f==null?void 0:f.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}getAccountMiddleware(){return cA({updatePrivatekey:async r=>{const{privateKey:n}=r;await this.updateAccount({privateKey:n})}})}}rg=_c;kn(_c,"getProviderInstance",async e=>{const t=new rg({config:{chainConfig:e.chainConfig}});return await t.setupProvider(e.privKey),t});const Q_=Object.freeze(Object.defineProperty({__proto__:null,EthereumPrivateKeyProvider:_c,TransactionFormatter:tg,WalletConnectV2Provider:Ac,getProviderHandlers:eg},Symbol.toStringTag,{value:"Module"}));export{x_ as $,X_ as A,qA as B,wi as C,co as D,b_ as E,QA as F,ZA as G,U_ as H,GA as I,NA as J,FA as K,XA as L,T_ as M,E_ as N,gx as O,qn as P,oc as Q,S_ as R,An as S,Ur as T,YA as U,I_ as V,WA as W,N_ as X,JA as Y,C_ as Z,xi as _,LA as a,Aa as a0,pa as a1,S6 as a2,A_ as a3,i_ as a4,n_ as a5,M6 as a6,HA as a7,zA as a8,VA as a9,W_ as aA,j_ as aB,Ux as aC,F_ as aD,V_ as aE,H_ as aF,q_ as aG,J_ as aH,G_ as aI,z_ as aJ,K_ as aK,r_ as aL,oi as aM,k_ as aN,Ac as aO,Pa as aP,Q_ as aQ,m_ as aa,__ as ab,P_ as ac,o_ as ad,t_ as ae,e_ as af,B_ as ag,R0 as ah,s_ as ai,lx as aj,f_ as ak,_a as al,d_ as am,O_ as an,a_ as ao,nx as ap,U0 as aq,c_ as ar,u_ as as,D_ as at,ix as au,Z_ as av,M_ as aw,K0 as ax,L_ as ay,$_ as az,$A as b,MA as c,Vn as d,d6 as e,RA as f,v6 as g,R_ as h,l_ as i,g_ as j,w_ as k,v_ as l,G0 as m,Pr as n,$0 as o,kA as p,jA as q,ii as r,E6 as s,nr as t,UA as u,p_ as v,y_ as w,KA as x,h_ as y,Y_ as z};
