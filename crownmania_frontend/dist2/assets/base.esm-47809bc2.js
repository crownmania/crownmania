import{_ as z}from"./defineProperty-0f7e3690.js";import{g as Lt,i as ru,h as mn}from"./vendor-e80652ae.js";function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(r){z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Is={exports:{}},Yr={exports:{}},vt={},lr={};lr.byteLength=su;lr.toByteArray=lu;lr.fromByteArray=cu;var ut=[],et=[],iu=typeof Uint8Array<"u"?Uint8Array:Array,zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Kt=0,ou=zr.length;Kt<ou;++Kt)ut[Kt]=zr[Kt],et[zr.charCodeAt(Kt)]=Kt;et["-".charCodeAt(0)]=62;et["_".charCodeAt(0)]=63;function Ns(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function su(e){var t=Ns(e),n=t[0],r=t[1];return(n+r)*3/4-r}function au(e,t,n){return(t+n)*3/4-n}function lu(e){var t,n=Ns(e),r=n[0],s=n[1],a=new iu(au(e,r,s)),u=0,l=s>0?r-4:r,y;for(y=0;y<l;y+=4)t=et[e.charCodeAt(y)]<<18|et[e.charCodeAt(y+1)]<<12|et[e.charCodeAt(y+2)]<<6|et[e.charCodeAt(y+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=t&255;return s===2&&(t=et[e.charCodeAt(y)]<<2|et[e.charCodeAt(y+1)]>>4,a[u++]=t&255),s===1&&(t=et[e.charCodeAt(y)]<<10|et[e.charCodeAt(y+1)]<<4|et[e.charCodeAt(y+2)]>>2,a[u++]=t>>8&255,a[u++]=t&255),a}function uu(e){return ut[e>>18&63]+ut[e>>12&63]+ut[e>>6&63]+ut[e&63]}function fu(e,t,n){for(var r,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),s.push(uu(r));return s.join("")}function cu(e){for(var t,n=e.length,r=n%3,s=[],a=16383,u=0,l=n-r;u<l;u+=a)s.push(fu(e,u,u+a>l?l:u+a));return r===1?(t=e[n-1],s.push(ut[t>>2]+ut[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(ut[t>>10]+ut[t>>4&63]+ut[t<<2&63]+"=")),s.join("")}var ki={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ki.read=function(e,t,n,r,s){var a,u,l=s*8-r-1,y=(1<<l)-1,g=y>>1,_=-7,N=n?s-1:0,P=n?-1:1,v=e[t+N];for(N+=P,a=v&(1<<-_)-1,v>>=-_,_+=l;_>0;a=a*256+e[t+N],N+=P,_-=8);for(u=a&(1<<-_)-1,a>>=-_,_+=r;_>0;u=u*256+e[t+N],N+=P,_-=8);if(a===0)a=1-g;else{if(a===y)return u?NaN:(v?-1:1)*(1/0);u=u+Math.pow(2,r),a=a-g}return(v?-1:1)*u*Math.pow(2,a-r)};ki.write=function(e,t,n,r,s,a){var u,l,y,g=a*8-s-1,_=(1<<g)-1,N=_>>1,P=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:a-1,B=r?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,u=_):(u=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-u))<1&&(u--,y*=2),u+N>=1?t+=P/y:t+=P*Math.pow(2,1-N),t*y>=2&&(u++,y/=2),u+N>=_?(l=0,u=_):u+N>=1?(l=(t*y-1)*Math.pow(2,s),u=u+N):(l=t*Math.pow(2,N-1)*Math.pow(2,s),u=0));s>=8;e[n+v]=l&255,v+=B,l/=256,s-=8);for(u=u<<s|l,g+=s;g>0;e[n+v]=u&255,v+=B,u/=256,g-=8);e[n+v-B]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=lr,n=ki,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),f.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const i=new Uint8Array(f);return Object.setPrototypeOf(i,l.prototype),i}function l(f,i,o){if(typeof f=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(f)}return y(f,i,o)}l.poolSize=8192;function y(f,i,o){if(typeof f=="string")return P(f,i);if(ArrayBuffer.isView(f))return B(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(H(f,ArrayBuffer)||f&&H(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(f,SharedArrayBuffer)||f&&H(f.buffer,SharedArrayBuffer)))return A(f,i,o);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const d=f.valueOf&&f.valueOf();if(d!=null&&d!==f)return l.from(d,i,o);const b=I(f);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return l.from(f[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}l.from=function(f,i,o){return y(f,i,o)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function g(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function _(f,i,o){return g(f),f<=0?u(f):i!==void 0?typeof o=="string"?u(f).fill(i,o):u(f).fill(i):u(f)}l.alloc=function(f,i,o){return _(f,i,o)};function N(f){return g(f),u(f<0?0:O(f)|0)}l.allocUnsafe=function(f){return N(f)},l.allocUnsafeSlow=function(f){return N(f)};function P(f,i){if((typeof i!="string"||i==="")&&(i="utf8"),!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=x(f,i)|0;let d=u(o);const b=d.write(f,i);return b!==o&&(d=d.slice(0,b)),d}function v(f){const i=f.length<0?0:O(f.length)|0,o=u(i);for(let d=0;d<i;d+=1)o[d]=f[d]&255;return o}function B(f){if(H(f,Uint8Array)){const i=new Uint8Array(f);return A(i.buffer,i.byteOffset,i.byteLength)}return v(f)}function A(f,i,o){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let d;return i===void 0&&o===void 0?d=new Uint8Array(f):o===void 0?d=new Uint8Array(f,i):d=new Uint8Array(f,i,o),Object.setPrototypeOf(d,l.prototype),d}function I(f){if(l.isBuffer(f)){const i=O(f.length)|0,o=u(i);return o.length===0||f.copy(o,0,0,i),o}if(f.length!==void 0)return typeof f.length!="number"||Te(f.length)?u(0):v(f);if(f.type==="Buffer"&&Array.isArray(f.data))return v(f.data)}function O(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function F(f){return+f!=f&&(f=0),l.alloc(+f)}l.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==l.prototype},l.compare=function(i,o){if(H(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),H(o,Uint8Array)&&(o=l.from(o,o.offset,o.byteLength)),!l.isBuffer(i)||!l.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let d=i.length,b=o.length;for(let S=0,T=Math.min(d,b);S<T;++S)if(i[S]!==o[S]){d=i[S],b=o[S];break}return d<b?-1:b<d?1:0},l.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return l.alloc(0);let d;if(o===void 0)for(o=0,d=0;d<i.length;++d)o+=i[d].length;const b=l.allocUnsafe(o);let S=0;for(d=0;d<i.length;++d){let T=i[d];if(H(T,Uint8Array))S+T.length>b.length?(l.isBuffer(T)||(T=l.from(T)),T.copy(b,S)):Uint8Array.prototype.set.call(b,T,S);else if(l.isBuffer(T))T.copy(b,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=T.length}return b};function x(f,i){if(l.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||H(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const o=f.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&o===0)return 0;let b=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return j(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return te(f).length;default:if(b)return d?-1:j(f).length;i=(""+i).toLowerCase(),b=!0}}l.byteLength=x;function Q(f,i,o){let d=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(f||(f="utf8");;)switch(f){case"hex":return he(this,i,o);case"utf8":case"utf-8":return ee(this,i,o);case"ascii":return we(this,i,o);case"latin1":case"binary":return me(this,i,o);case"base64":return L(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,i,o);default:if(d)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),d=!0}}l.prototype._isBuffer=!0;function G(f,i,o){const d=f[i];f[i]=f[o],f[o]=d}l.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)G(this,o,o+1);return this},l.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)G(this,o,o+3),G(this,o+1,o+2);return this},l.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)G(this,o,o+7),G(this,o+1,o+6),G(this,o+2,o+5),G(this,o+3,o+4);return this},l.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?ee(this,0,i):Q.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(i){if(!l.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:l.compare(this,i)===0},l.prototype.inspect=function(){let i="";const o=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(i,o,d,b,S){if(H(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),!l.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),d===void 0&&(d=i?i.length:0),b===void 0&&(b=0),S===void 0&&(S=this.length),o<0||d>i.length||b<0||S>this.length)throw new RangeError("out of range index");if(b>=S&&o>=d)return 0;if(b>=S)return-1;if(o>=d)return 1;if(o>>>=0,d>>>=0,b>>>=0,S>>>=0,this===i)return 0;let T=S-b,J=d-o;const ge=Math.min(T,J),ne=this.slice(b,S),le=i.slice(o,d);for(let ie=0;ie<ge;++ie)if(ne[ie]!==le[ie]){T=ne[ie],J=le[ie];break}return T<J?-1:J<T?1:0};function fe(f,i,o,d,b){if(f.length===0)return-1;if(typeof o=="string"?(d=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,Te(o)&&(o=b?0:f.length-1),o<0&&(o=f.length+o),o>=f.length){if(b)return-1;o=f.length-1}else if(o<0)if(b)o=0;else return-1;if(typeof i=="string"&&(i=l.from(i,d)),l.isBuffer(i))return i.length===0?-1:Ne(f,i,o,d,b);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?b?Uint8Array.prototype.indexOf.call(f,i,o):Uint8Array.prototype.lastIndexOf.call(f,i,o):Ne(f,[i],o,d,b);throw new TypeError("val must be string, number or Buffer")}function Ne(f,i,o,d,b){let S=1,T=f.length,J=i.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(f.length<2||i.length<2)return-1;S=2,T/=2,J/=2,o/=2}function ge(le,ie){return S===1?le[ie]:le.readUInt16BE(ie*S)}let ne;if(b){let le=-1;for(ne=o;ne<T;ne++)if(ge(f,ne)===ge(i,le===-1?0:ne-le)){if(le===-1&&(le=ne),ne-le+1===J)return le*S}else le!==-1&&(ne-=ne-le),le=-1}else for(o+J>T&&(o=T-J),ne=o;ne>=0;ne--){let le=!0;for(let ie=0;ie<J;ie++)if(ge(f,ne+ie)!==ge(i,ie)){le=!1;break}if(le)return ne}return-1}l.prototype.includes=function(i,o,d){return this.indexOf(i,o,d)!==-1},l.prototype.indexOf=function(i,o,d){return fe(this,i,o,d,!0)},l.prototype.lastIndexOf=function(i,o,d){return fe(this,i,o,d,!1)};function se(f,i,o,d){o=Number(o)||0;const b=f.length-o;d?(d=Number(d),d>b&&(d=b)):d=b;const S=i.length;d>S/2&&(d=S/2);let T;for(T=0;T<d;++T){const J=parseInt(i.substr(T*2,2),16);if(Te(J))return T;f[o+T]=J}return T}function oe(f,i,o,d){return Pe(j(i,f.length-o),f,o,d)}function xe(f,i,o,d){return Pe(ae(i),f,o,d)}function K(f,i,o,d){return Pe(te(i),f,o,d)}function V(f,i,o,d){return Pe(ce(i,f.length-o),f,o,d)}l.prototype.write=function(i,o,d,b){if(o===void 0)b="utf8",d=this.length,o=0;else if(d===void 0&&typeof o=="string")b=o,d=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(d)?(d=d>>>0,b===void 0&&(b="utf8")):(b=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const S=this.length-o;if((d===void 0||d>S)&&(d=S),i.length>0&&(d<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let T=!1;for(;;)switch(b){case"hex":return se(this,i,o,d);case"utf8":case"utf-8":return oe(this,i,o,d);case"ascii":case"latin1":case"binary":return xe(this,i,o,d);case"base64":return K(this,i,o,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,i,o,d);default:if(T)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),T=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(f,i,o){return i===0&&o===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(i,o))}function ee(f,i,o){o=Math.min(f.length,o);const d=[];let b=i;for(;b<o;){const S=f[b];let T=null,J=S>239?4:S>223?3:S>191?2:1;if(b+J<=o){let ge,ne,le,ie;switch(J){case 1:S<128&&(T=S);break;case 2:ge=f[b+1],(ge&192)===128&&(ie=(S&31)<<6|ge&63,ie>127&&(T=ie));break;case 3:ge=f[b+1],ne=f[b+2],(ge&192)===128&&(ne&192)===128&&(ie=(S&15)<<12|(ge&63)<<6|ne&63,ie>2047&&(ie<55296||ie>57343)&&(T=ie));break;case 4:ge=f[b+1],ne=f[b+2],le=f[b+3],(ge&192)===128&&(ne&192)===128&&(le&192)===128&&(ie=(S&15)<<18|(ge&63)<<12|(ne&63)<<6|le&63,ie>65535&&ie<1114112&&(T=ie))}}T===null?(T=65533,J=1):T>65535&&(T-=65536,d.push(T>>>10&1023|55296),T=56320|T&1023),d.push(T),b+=J}return X(d)}const Y=4096;function X(f){const i=f.length;if(i<=Y)return String.fromCharCode.apply(String,f);let o="",d=0;for(;d<i;)o+=String.fromCharCode.apply(String,f.slice(d,d+=Y));return o}function we(f,i,o){let d="";o=Math.min(f.length,o);for(let b=i;b<o;++b)d+=String.fromCharCode(f[b]&127);return d}function me(f,i,o){let d="";o=Math.min(f.length,o);for(let b=i;b<o;++b)d+=String.fromCharCode(f[b]);return d}function he(f,i,o){const d=f.length;(!i||i<0)&&(i=0),(!o||o<0||o>d)&&(o=d);let b="";for(let S=i;S<o;++S)b+=Nt[f[S]];return b}function _e(f,i,o){const d=f.slice(i,o);let b="";for(let S=0;S<d.length-1;S+=2)b+=String.fromCharCode(d[S]+d[S+1]*256);return b}l.prototype.slice=function(i,o){const d=this.length;i=~~i,o=o===void 0?d:~~o,i<0?(i+=d,i<0&&(i=0)):i>d&&(i=d),o<0?(o+=d,o<0&&(o=0)):o>d&&(o=d),o<i&&(o=i);const b=this.subarray(i,o);return Object.setPrototypeOf(b,l.prototype),b};function q(f,i,o){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+i>o)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(i,o,d){i=i>>>0,o=o>>>0,d||q(i,o,this.length);let b=this[i],S=1,T=0;for(;++T<o&&(S*=256);)b+=this[i+T]*S;return b},l.prototype.readUintBE=l.prototype.readUIntBE=function(i,o,d){i=i>>>0,o=o>>>0,d||q(i,o,this.length);let b=this[i+--o],S=1;for(;o>0&&(S*=256);)b+=this[i+--o]*S;return b},l.prototype.readUint8=l.prototype.readUInt8=function(i,o){return i=i>>>0,o||q(i,1,this.length),this[i]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||q(i,2,this.length),this[i]|this[i+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||q(i,2,this.length),this[i]<<8|this[i+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||q(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||q(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},l.prototype.readBigUInt64LE=Ge(function(i){i=i>>>0,m(i,"offset");const o=this[i],d=this[i+7];(o===void 0||d===void 0)&&E(i,this.length-8);const b=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,S=this[++i]+this[++i]*2**8+this[++i]*2**16+d*2**24;return BigInt(b)+(BigInt(S)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ge(function(i){i=i>>>0,m(i,"offset");const o=this[i],d=this[i+7];(o===void 0||d===void 0)&&E(i,this.length-8);const b=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],S=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+d;return(BigInt(b)<<BigInt(32))+BigInt(S)}),l.prototype.readIntLE=function(i,o,d){i=i>>>0,o=o>>>0,d||q(i,o,this.length);let b=this[i],S=1,T=0;for(;++T<o&&(S*=256);)b+=this[i+T]*S;return S*=128,b>=S&&(b-=Math.pow(2,8*o)),b},l.prototype.readIntBE=function(i,o,d){i=i>>>0,o=o>>>0,d||q(i,o,this.length);let b=o,S=1,T=this[i+--b];for(;b>0&&(S*=256);)T+=this[i+--b]*S;return S*=128,T>=S&&(T-=Math.pow(2,8*o)),T},l.prototype.readInt8=function(i,o){return i=i>>>0,o||q(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},l.prototype.readInt16LE=function(i,o){i=i>>>0,o||q(i,2,this.length);const d=this[i]|this[i+1]<<8;return d&32768?d|4294901760:d},l.prototype.readInt16BE=function(i,o){i=i>>>0,o||q(i,2,this.length);const d=this[i+1]|this[i]<<8;return d&32768?d|4294901760:d},l.prototype.readInt32LE=function(i,o){return i=i>>>0,o||q(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},l.prototype.readInt32BE=function(i,o){return i=i>>>0,o||q(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},l.prototype.readBigInt64LE=Ge(function(i){i=i>>>0,m(i,"offset");const o=this[i],d=this[i+7];(o===void 0||d===void 0)&&E(i,this.length-8);const b=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(d<<24);return(BigInt(b)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),l.prototype.readBigInt64BE=Ge(function(i){i=i>>>0,m(i,"offset");const o=this[i],d=this[i+7];(o===void 0||d===void 0)&&E(i,this.length-8);const b=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(b)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+d)}),l.prototype.readFloatLE=function(i,o){return i=i>>>0,o||q(i,4,this.length),n.read(this,i,!0,23,4)},l.prototype.readFloatBE=function(i,o){return i=i>>>0,o||q(i,4,this.length),n.read(this,i,!1,23,4)},l.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||q(i,8,this.length),n.read(this,i,!0,52,8)},l.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||q(i,8,this.length),n.read(this,i,!1,52,8)};function pe(f,i,o,d,b,S){if(!l.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>b||i<S)throw new RangeError('"value" argument is out of bounds');if(o+d>f.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(i,o,d,b){if(i=+i,o=o>>>0,d=d>>>0,!b){const J=Math.pow(2,8*d)-1;pe(this,i,o,d,J,0)}let S=1,T=0;for(this[o]=i&255;++T<d&&(S*=256);)this[o+T]=i/S&255;return o+d},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(i,o,d,b){if(i=+i,o=o>>>0,d=d>>>0,!b){const J=Math.pow(2,8*d)-1;pe(this,i,o,d,J,0)}let S=d-1,T=1;for(this[o+S]=i&255;--S>=0&&(T*=256);)this[o+S]=i/T&255;return o+d},l.prototype.writeUint8=l.prototype.writeUInt8=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,1,255,0),this[o]=i&255,o+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function D(f,i,o,d,b){ze(i,d,b,f,o,7);let S=Number(i&BigInt(4294967295));f[o++]=S,S=S>>8,f[o++]=S,S=S>>8,f[o++]=S,S=S>>8,f[o++]=S;let T=Number(i>>BigInt(32)&BigInt(4294967295));return f[o++]=T,T=T>>8,f[o++]=T,T=T>>8,f[o++]=T,T=T>>8,f[o++]=T,o}function Ee(f,i,o,d,b){ze(i,d,b,f,o,7);let S=Number(i&BigInt(4294967295));f[o+7]=S,S=S>>8,f[o+6]=S,S=S>>8,f[o+5]=S,S=S>>8,f[o+4]=S;let T=Number(i>>BigInt(32)&BigInt(4294967295));return f[o+3]=T,T=T>>8,f[o+2]=T,T=T>>8,f[o+1]=T,T=T>>8,f[o]=T,o+8}l.prototype.writeBigUInt64LE=Ge(function(i,o=0){return D(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ge(function(i,o=0){return Ee(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(i,o,d,b){if(i=+i,o=o>>>0,!b){const ge=Math.pow(2,8*d-1);pe(this,i,o,d,ge-1,-ge)}let S=0,T=1,J=0;for(this[o]=i&255;++S<d&&(T*=256);)i<0&&J===0&&this[o+S-1]!==0&&(J=1),this[o+S]=(i/T>>0)-J&255;return o+d},l.prototype.writeIntBE=function(i,o,d,b){if(i=+i,o=o>>>0,!b){const ge=Math.pow(2,8*d-1);pe(this,i,o,d,ge-1,-ge)}let S=d-1,T=1,J=0;for(this[o+S]=i&255;--S>=0&&(T*=256);)i<0&&J===0&&this[o+S+1]!==0&&(J=1),this[o+S]=(i/T>>0)-J&255;return o+d},l.prototype.writeInt8=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},l.prototype.writeInt16LE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeInt16BE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeInt32LE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},l.prototype.writeInt32BE=function(i,o,d){return i=+i,o=o>>>0,d||pe(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},l.prototype.writeBigInt64LE=Ge(function(i,o=0){return D(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ge(function(i,o=0){return Ee(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(f,i,o,d,b,S){if(o+d>f.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function je(f,i,o,d,b){return i=+i,o=o>>>0,b||Fe(f,i,o,4),n.write(f,i,o,d,23,4),o+4}l.prototype.writeFloatLE=function(i,o,d){return je(this,i,o,!0,d)},l.prototype.writeFloatBE=function(i,o,d){return je(this,i,o,!1,d)};function Je(f,i,o,d,b){return i=+i,o=o>>>0,b||Fe(f,i,o,8),n.write(f,i,o,d,52,8),o+8}l.prototype.writeDoubleLE=function(i,o,d){return Je(this,i,o,!0,d)},l.prototype.writeDoubleBE=function(i,o,d){return Je(this,i,o,!1,d)},l.prototype.copy=function(i,o,d,b){if(!l.isBuffer(i))throw new TypeError("argument should be a Buffer");if(d||(d=0),!b&&b!==0&&(b=this.length),o>=i.length&&(o=i.length),o||(o=0),b>0&&b<d&&(b=d),b===d||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),i.length-o<b-d&&(b=i.length-o+d);const S=b-d;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,d,b):Uint8Array.prototype.set.call(i,this.subarray(d,b),o),S},l.prototype.fill=function(i,o,d,b){if(typeof i=="string"){if(typeof o=="string"?(b=o,o=0,d=this.length):typeof d=="string"&&(b=d,d=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!l.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(i.length===1){const T=i.charCodeAt(0);(b==="utf8"&&T<128||b==="latin1")&&(i=T)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<d)throw new RangeError("Out of range index");if(d<=o)return this;o=o>>>0,d=d===void 0?this.length:d>>>0,i||(i=0);let S;if(typeof i=="number")for(S=o;S<d;++S)this[S]=i;else{const T=l.isBuffer(i)?i:l.from(i,b),J=T.length;if(J===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(S=0;S<d-o;++S)this[S+o]=T[S%J]}return this};const Le={};function Ye(f,i,o){Le[f]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Ye("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ye("ERR_INVALID_ARG_TYPE",function(f,i){return`The "${f}" argument must be of type number. Received type ${typeof i}`},TypeError),Ye("ERR_OUT_OF_RANGE",function(f,i,o){let d=`The value of "${f}" is out of range.`,b=o;return Number.isInteger(o)&&Math.abs(o)>2**32?b=it(String(o)):typeof o=="bigint"&&(b=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(b=it(b)),b+="n"),d+=` It must be ${i}. Received ${b}`,d},RangeError);function it(f){let i="",o=f.length;const d=f[0]==="-"?1:0;for(;o>=d+4;o-=3)i=`_${f.slice(o-3,o)}${i}`;return`${f.slice(0,o)}${i}`}function ot(f,i,o){m(i,"offset"),(f[i]===void 0||f[i+o]===void 0)&&E(i,f.length-(o+1))}function ze(f,i,o,d,b,S){if(f>o||f<i){const T=typeof i=="bigint"?"n":"";let J;throw S>3?i===0||i===BigInt(0)?J=`>= 0${T} and < 2${T} ** ${(S+1)*8}${T}`:J=`>= -(2${T} ** ${(S+1)*8-1}${T}) and < 2 ** ${(S+1)*8-1}${T}`:J=`>= ${i}${T} and <= ${o}${T}`,new Le.ERR_OUT_OF_RANGE("value",J,f)}ot(d,b,S)}function m(f,i){if(typeof f!="number")throw new Le.ERR_INVALID_ARG_TYPE(i,"number",f)}function E(f,i,o){throw Math.floor(f)!==f?(m(f,o),new Le.ERR_OUT_OF_RANGE(o||"offset","an integer",f)):i<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(o||"offset",`>= ${o?1:0} and <= ${i}`,f)}const C=/[^+/0-9A-Za-z-_]/g;function W(f){if(f=f.split("=")[0],f=f.trim().replace(C,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function j(f,i){i=i||1/0;let o;const d=f.length;let b=null;const S=[];for(let T=0;T<d;++T){if(o=f.charCodeAt(T),o>55295&&o<57344){if(!b){if(o>56319){(i-=3)>-1&&S.push(239,191,189);continue}else if(T+1===d){(i-=3)>-1&&S.push(239,191,189);continue}b=o;continue}if(o<56320){(i-=3)>-1&&S.push(239,191,189),b=o;continue}o=(b-55296<<10|o-56320)+65536}else b&&(i-=3)>-1&&S.push(239,191,189);if(b=null,o<128){if((i-=1)<0)break;S.push(o)}else if(o<2048){if((i-=2)<0)break;S.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;S.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;S.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return S}function ae(f){const i=[];for(let o=0;o<f.length;++o)i.push(f.charCodeAt(o)&255);return i}function ce(f,i){let o,d,b;const S=[];for(let T=0;T<f.length&&!((i-=2)<0);++T)o=f.charCodeAt(T),d=o>>8,b=o%256,S.push(b),S.push(d);return S}function te(f){return t.toByteArray(W(f))}function Pe(f,i,o,d){let b;for(b=0;b<d&&!(b+o>=i.length||b>=f.length);++b)i[b+o]=f[b];return b}function H(f,i){return f instanceof i||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===i.name}function Te(f){return f!==f}const Nt=function(){const f="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const d=o*16;for(let b=0;b<16;++b)i[d+b]=f[o]+f[b]}return i}();function Ge(f){return typeof BigInt>"u"?ln:f}function ln(){throw new Error("BigInt not supported")}})(vt);let du=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let n="";for(let r=0;r<t.length;r++)n+=`    ${t[r].stack}
`;super(n),this.name="AggregateError",this.errors=t}};var ve={AggregateError:du,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array},Cs={exports:{}},Os={format(e,...t){return e.replace(/%([sdifj])/g,function(...[n,r]){const s=t.shift();return r==="f"?s.toFixed(6):r==="j"?JSON.stringify(s):r==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}};const{format:hu,inspect:er}=Os,{AggregateError:pu}=ve,gu=globalThis.AggregateError||pu,yu=Symbol("kIsNodeError"),bu=["string","function","number","object","Function","Object","boolean","bigint","symbol"],wu=/^([A-Z][a-z0-9]*)+$/,mu="__node_internal_",ur={};function jt(e,t){if(!e)throw new ur.ERR_INTERNAL_ASSERTION(t)}function Ao(e){let t="",n=e.length;const r=e[0]==="-"?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function _u(e,t,n){if(typeof t=="function")return jt(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const r=(t.match(/%[dfijoOs]/g)||[]).length;return jt(r===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?t:hu(t,...n)}function Be(e,t,n){n||(n=Error);class r extends n{constructor(...a){super(_u(e,t,a))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[yu]=!0,ur[e]=r}function Ro(e){const t=mu+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Eu(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new gu([t,e],t.message);return n.code=t.code,n}return e||t}let Su=class extends Error{constructor(t="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new ur.ERR_INVALID_ARG_TYPE("options","Object",n);super(t,n),this.code="ABORT_ERR",this.name="AbortError"}};Be("ERR_ASSERTION","%s",Error);Be("ERR_INVALID_ARG_TYPE",(e,t,n)=>{jt(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const s=[],a=[],u=[];for(const y of t)jt(typeof y=="string","All expected entries have to be of type string"),bu.includes(y)?s.push(y.toLowerCase()):wu.test(y)?a.push(y):(jt(y!=="object",'The value "object" should be written as "Object"'),u.push(y));if(a.length>0){const y=s.indexOf("object");y!==-1&&(s.splice(s,y,1),a.push("Object"))}if(s.length>0){switch(s.length){case 1:r+=`of type ${s[0]}`;break;case 2:r+=`one of type ${s[0]} or ${s[1]}`;break;default:{const y=s.pop();r+=`one of type ${s.join(", ")}, or ${y}`}}(a.length>0||u.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const y=a.pop();r+=`an instance of ${a.join(", ")}, or ${y}`}}u.length>0&&(r+=" or ")}switch(u.length){case 0:break;case 1:u[0].toLowerCase()!==u[0]&&(r+="an "),r+=`${u[0]}`;break;case 2:r+=`one of ${u[0]} or ${u[1]}`;break;default:{const y=u.pop();r+=`one of ${u.join(", ")}, or ${y}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var l;if((l=n.constructor)!==null&&l!==void 0&&l.name)r+=`. Received an instance of ${n.constructor.name}`;else{const y=er(n,{depth:-1});r+=`. Received ${y}`}}else{let y=er(n,{colors:!1});y.length>25&&(y=`${y.slice(0,25)}...`),r+=`. Received type ${typeof n} (${y})`}return r},TypeError);Be("ERR_INVALID_ARG_VALUE",(e,t,n="is invalid")=>{let r=er(t);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`},TypeError);Be("ERR_INVALID_RETURN_VALUE",(e,t,n)=>{var r;const s=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${e} to be returned from the "${t}" function but got ${s}.`},TypeError);Be("ERR_MISSING_ARGS",(...e)=>{jt(e.length>0,"At least one arg needs to be specified");let t;const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map(r=>`"${r}"`).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}break}return`${t} must be specified`},TypeError);Be("ERR_OUT_OF_RANGE",(e,t,n)=>{jt(t,'Missing "range" argument');let r;if(Number.isInteger(n)&&Math.abs(n)>2**32)r=Ao(String(n));else if(typeof n=="bigint"){r=String(n);const s=BigInt(2)**BigInt(32);(n>s||n<-s)&&(r=Ao(r)),r+="n"}else r=er(n);return`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError);Be("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Be("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Be("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Be("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Be("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Be("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Be("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Be("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Be("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Be("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Be("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ue={AbortError:Su,aggregateTwoErrors:Ro(Eu),hideStackFrames:Ro,codes:ur},yn={exports:{}},vo;function Rn(){if(vo)return yn.exports;vo=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return yn.exports=e,yn.exports.AbortSignal=t,yn.exports.default=e,yn.exports}var Fi={exports:{}},zt=typeof Reflect=="object"?Reflect:null,To=zt&&typeof zt.apply=="function"?zt.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Yn;zt&&typeof zt.ownKeys=="function"?Yn=zt.ownKeys:Object.getOwnPropertySymbols?Yn=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Yn=function(t){return Object.getOwnPropertyNames(t)};function Au(e){console&&console.warn&&console.warn(e)}var Ls=Number.isNaN||function(t){return t!==t};function ue(){ue.init.call(this)}Fi.exports=ue;Fi.exports.once=xu;ue.EventEmitter=ue;ue.prototype._events=void 0;ue.prototype._eventsCount=0;ue.prototype._maxListeners=void 0;var xo=10;function fr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ue,"defaultMaxListeners",{enumerable:!0,get:function(){return xo},set:function(e){if(typeof e!="number"||e<0||Ls(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");xo=e}});ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ls(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ms(e){return e._maxListeners===void 0?ue.defaultMaxListeners:e._maxListeners}ue.prototype.getMaxListeners=function(){return Ms(this)};ue.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",a=this._events;if(a!==void 0)s=s&&a.error===void 0;else if(!s)return!1;if(s){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var l=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw l.context=u,l}var y=a[t];if(y===void 0)return!1;if(typeof y=="function")To(y,this,n);else for(var g=y.length,_=ks(y,g),r=0;r<g;++r)To(_[r],this,n);return!0};function Ps(e,t,n,r){var s,a,u;if(fr(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),u=a[t]),u===void 0)u=a[t]=n,++e._eventsCount;else if(typeof u=="function"?u=a[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),s=Ms(e),s>0&&u.length>s&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=u.length,Au(l)}return e}ue.prototype.addListener=function(t,n){return Ps(this,t,n,!1)};ue.prototype.on=ue.prototype.addListener;ue.prototype.prependListener=function(t,n){return Ps(this,t,n,!0)};function Ru(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $s(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=Ru.bind(r);return s.listener=n,r.wrapFn=s,s}ue.prototype.once=function(t,n){return fr(n),this.on(t,$s(this,t,n)),this};ue.prototype.prependOnceListener=function(t,n){return fr(n),this.prependListener(t,$s(this,t,n)),this};ue.prototype.removeListener=function(t,n){var r,s,a,u,l;if(fr(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(a=-1,u=r.length-1;u>=0;u--)if(r[u]===n||r[u].listener===n){l=r[u].listener,a=u;break}if(a<0)return this;a===0?r.shift():vu(r,a),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};ue.prototype.off=ue.prototype.removeListener;ue.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),u;for(s=0;s<a.length;++s)u=a[s],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function Ds(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?Tu(s):ks(s,s.length)}ue.prototype.listeners=function(t){return Ds(this,t,!0)};ue.prototype.rawListeners=function(t){return Ds(this,t,!1)};ue.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Bs.call(e,t)};ue.prototype.listenerCount=Bs;function Bs(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ue.prototype.eventNames=function(){return this._eventsCount>0?Yn(this._events):[]};function ks(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function vu(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Tu(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function xu(e,t){return new Promise(function(n,r){function s(u){e.removeListener(t,a),r(u)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}Fs(e,t,a,{once:!0}),t!=="error"&&Iu(e,s,{once:!0})})}function Iu(e,t,n){typeof e.on=="function"&&Fs(e,"error",t,n)}function Fs(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(a){r.once&&e.removeEventListener(t,s),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var nn=Fi.exports;const Mp=Lt(nn);(function(e){const t=vt,{format:n,inspect:r}=Os,{codes:{ERR_INVALID_ARG_TYPE:s}}=Ue,{kResistStopPropagation:a,AggregateError:u,SymbolDispose:l}=ve,y=globalThis.AbortSignal||Rn().AbortSignal,g=globalThis.AbortController||Rn().AbortController,_=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||t.Blob,P=typeof N<"u"?function(I){return I instanceof N}:function(I){return!1},v=(A,I)=>{if(A!==void 0&&(A===null||typeof A!="object"||!("aborted"in A)))throw new s(I,"AbortSignal",A)},B=(A,I)=>{if(typeof A!="function")throw new s(I,"Function",A)};e.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(A){let I=!1;return function(...O){I||(I=!0,A.apply(this,O))}},createDeferredPromise:function(){let A,I;return{promise:new Promise((F,x)=>{A=F,I=x}),resolve:A,reject:I}},promisify(A){return new Promise((I,O)=>{A((F,...x)=>F?O(F):I(...x))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(A){return A instanceof _},isArrayBufferView(A){return ArrayBuffer.isView(A)}},isBlob:P,deprecate(A,I){return A},addAbortListener:nn.addAbortListener||function(I,O){if(I===void 0)throw new s("signal","AbortSignal",I);v(I,"signal"),B(O,"listener");let F;return I.aborted?queueMicrotask(()=>O()):(I.addEventListener("abort",O,{__proto__:null,once:!0,[a]:!0}),F=()=>{I.removeEventListener("abort",O)}),{__proto__:null,[l](){var x;(x=F)===null||x===void 0||x()}}},AbortSignalAny:y.any||function(I){if(I.length===1)return I[0];const O=new g,F=()=>O.abort();return I.forEach(x=>{v(x,"signals"),x.addEventListener("abort",F,{once:!0})}),O.signal.addEventListener("abort",()=>{I.forEach(x=>x.removeEventListener("abort",F))},{once:!0}),O.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Cs);var He=Cs.exports,ji={};const{ArrayIsArray:Ui,ArrayPrototypeIncludes:js,ArrayPrototypeJoin:Us,ArrayPrototypeMap:Nu,NumberIsInteger:Wi,NumberIsNaN:Cu,NumberMAX_SAFE_INTEGER:Ou,NumberMIN_SAFE_INTEGER:Lu,NumberParseInt:Mu,ObjectPrototypeHasOwnProperty:Pu,RegExpPrototypeExec:Ws,String:$u,StringPrototypeToUpperCase:Du,StringPrototypeTrim:Bu}=ve,{hideStackFrames:nt,codes:{ERR_SOCKET_BAD_PORT:ku,ERR_INVALID_ARG_TYPE:ke,ERR_INVALID_ARG_VALUE:rn,ERR_OUT_OF_RANGE:Ut,ERR_UNKNOWN_SIGNAL:Io}}=Ue,{normalizeEncoding:Fu}=He,{isAsyncFunction:ju,isArrayBufferView:Uu}=He.types,No={};function Wu(e){return e===(e|0)}function Hu(e){return e===e>>>0}const Gu=/^[0-7]+$/,Vu="must be a 32-bit unsigned integer or an octal string";function qu(e,t,n){if(typeof e>"u"&&(e=n),typeof e=="string"){if(Ws(Gu,e)===null)throw new rn(t,e,Vu);e=Mu(e,8)}return Hs(e,t),e}const Ku=nt((e,t,n=Lu,r=Ou)=>{if(typeof e!="number")throw new ke(t,"number",e);if(!Wi(e))throw new Ut(t,"an integer",e);if(e<n||e>r)throw new Ut(t,`>= ${n} && <= ${r}`,e)}),Ju=nt((e,t,n=-2147483648,r=2147483647)=>{if(typeof e!="number")throw new ke(t,"number",e);if(!Wi(e))throw new Ut(t,"an integer",e);if(e<n||e>r)throw new Ut(t,`>= ${n} && <= ${r}`,e)}),Hs=nt((e,t,n=!1)=>{if(typeof e!="number")throw new ke(t,"number",e);if(!Wi(e))throw new Ut(t,"an integer",e);const r=n?1:0,s=4294967295;if(e<r||e>s)throw new Ut(t,`>= ${r} && <= ${s}`,e)});function Hi(e,t){if(typeof e!="string")throw new ke(t,"string",e)}function Yu(e,t,n=void 0,r){if(typeof e!="number")throw new ke(t,"number",e);if(n!=null&&e<n||r!=null&&e>r||(n!=null||r!=null)&&Cu(e))throw new Ut(t,`${n!=null?`>= ${n}`:""}${n!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,e)}const zu=nt((e,t,n)=>{if(!js(n,e)){const s="must be one of: "+Us(Nu(n,a=>typeof a=="string"?`'${a}'`:$u(a)),", ");throw new rn(t,e,s)}});function Gs(e,t){if(typeof e!="boolean")throw new ke(t,"boolean",e)}function Xr(e,t,n){return e==null||!Pu(e,t)?n:e[t]}const Xu=nt((e,t,n=null)=>{const r=Xr(n,"allowArray",!1),s=Xr(n,"allowFunction",!1);if(!Xr(n,"nullable",!1)&&e===null||!r&&Ui(e)||typeof e!="object"&&(!s||typeof e!="function"))throw new ke(t,"Object",e)}),Qu=nt((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new ke(t,"a dictionary",e)}),cr=nt((e,t,n=0)=>{if(!Ui(e))throw new ke(t,"Array",e);if(e.length<n){const r=`must be longer than ${n}`;throw new rn(t,e,r)}});function Zu(e,t){cr(e,t);for(let n=0;n<e.length;n++)Hi(e[n],`${t}[${n}]`)}function ef(e,t){cr(e,t);for(let n=0;n<e.length;n++)Gs(e[n],`${t}[${n}]`)}function tf(e,t){cr(e,t);for(let n=0;n<e.length;n++){const r=e[n],s=`${t}[${n}]`;if(r==null)throw new ke(s,"AbortSignal",r);Vs(r,s)}}function nf(e,t="signal"){if(Hi(e,t),No[e]===void 0)throw No[Du(e)]!==void 0?new Io(e+" (signals must use all capital letters)"):new Io(e)}const rf=nt((e,t="buffer")=>{if(!Uu(e))throw new ke(t,["Buffer","TypedArray","DataView"],e)});function of(e,t){const n=Fu(t),r=e.length;if(n==="hex"&&r%2!==0)throw new rn("encoding",t,`is invalid for data of length ${r}`)}function sf(e,t="Port",n=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Bu(e).length===0||+e!==+e>>>0||e>65535||e===0&&!n)throw new ku(t,e,n);return e|0}const Vs=nt((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ke(t,"AbortSignal",e)}),af=nt((e,t)=>{if(typeof e!="function")throw new ke(t,"Function",e)}),lf=nt((e,t)=>{if(typeof e!="function"||ju(e))throw new ke(t,"Function",e)}),uf=nt((e,t)=>{if(e!==void 0)throw new ke(t,"undefined",e)});function ff(e,t,n){if(!js(n,e))throw new ke(t,`('${Us(n,"|")}')`,e)}const cf=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Co(e,t){if(typeof e>"u"||!Ws(cf,e))throw new rn(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function df(e){if(typeof e=="string")return Co(e,"hints"),e;if(Ui(e)){const t=e.length;let n="";if(t===0)return n;for(let r=0;r<t;r++){const s=e[r];Co(s,"hints"),n+=s,r!==t-1&&(n+=", ")}return n}throw new rn("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Nn={isInt32:Wu,isUint32:Hu,parseFileMode:qu,validateArray:cr,validateStringArray:Zu,validateBooleanArray:ef,validateAbortSignalArray:tf,validateBoolean:Gs,validateBuffer:rf,validateDictionary:Qu,validateEncoding:of,validateFunction:af,validateInt32:Ju,validateInteger:Ku,validateNumber:Yu,validateObject:Xu,validateOneOf:zu,validatePlainFunction:lf,validatePort:sf,validateSignalName:nf,validateString:Hi,validateUint32:Hs,validateUndefined:uf,validateUnion:ff,validateAbortSignal:Vs,validateLinkHeaderValue:df},Gi={exports:{}},qs={exports:{}},Ie=qs.exports={},at,lt;function bi(){throw new Error("setTimeout has not been defined")}function wi(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?at=setTimeout:at=bi}catch{at=bi}try{typeof clearTimeout=="function"?lt=clearTimeout:lt=wi}catch{lt=wi}})();function Ks(e){if(at===setTimeout)return setTimeout(e,0);if((at===bi||!at)&&setTimeout)return at=setTimeout,setTimeout(e,0);try{return at(e,0)}catch{try{return at.call(null,e,0)}catch{return at.call(this,e,0)}}}function hf(e){if(lt===clearTimeout)return clearTimeout(e);if((lt===wi||!lt)&&clearTimeout)return lt=clearTimeout,clearTimeout(e);try{return lt(e)}catch{try{return lt.call(null,e)}catch{return lt.call(this,e)}}}var Et=[],Xt=!1,kt,zn=-1;function pf(){!Xt||!kt||(Xt=!1,kt.length?Et=kt.concat(Et):zn=-1,Et.length&&Js())}function Js(){if(!Xt){var e=Ks(pf);Xt=!0;for(var t=Et.length;t;){for(kt=Et,Et=[];++zn<t;)kt&&kt[zn].run();zn=-1,t=Et.length}kt=null,Xt=!1,hf(e)}}Ie.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Et.push(new Ys(e,t)),Et.length===1&&!Xt&&Ks(Js)};function Ys(e,t){this.fun=e,this.array=t}Ys.prototype.run=function(){this.fun.apply(null,this.array)};Ie.title="browser";Ie.browser=!0;Ie.env={};Ie.argv=[];Ie.version="";Ie.versions={};function Tt(){}Ie.on=Tt;Ie.addListener=Tt;Ie.once=Tt;Ie.off=Tt;Ie.removeListener=Tt;Ie.removeAllListeners=Tt;Ie.emit=Tt;Ie.prependListener=Tt;Ie.prependOnceListener=Tt;Ie.listeners=function(e){return[]};Ie.binding=function(e){throw new Error("process.binding is not supported")};Ie.cwd=function(){return"/"};Ie.chdir=function(e){throw new Error("process.chdir is not supported")};Ie.umask=function(){return 0};var Ht=qs.exports;const{SymbolAsyncIterator:Oo,SymbolIterator:Lo,SymbolFor:Gt}=ve,zs=Gt("nodejs.stream.destroyed"),Xs=Gt("nodejs.stream.errored"),mi=Gt("nodejs.stream.readable"),_i=Gt("nodejs.stream.writable"),Qs=Gt("nodejs.stream.disturbed"),gf=Gt("nodejs.webstream.isClosedPromise"),yf=Gt("nodejs.webstream.controllerErrorFunction");function dr(e,t=!1){var n;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((n=e._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!e._writableState||e._readableState))}function hr(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function bf(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function ht(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Zs(e){return!!(e&&!ht(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function ea(e){return!!(e&&!ht(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function ta(e){return!!(e&&!ht(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function wf(e){return Zs(e)||ea(e)||ta(e)}function mf(e,t){return e==null?!1:t===!0?typeof e[Oo]=="function":t===!1?typeof e[Lo]=="function":typeof e[Oo]=="function"||typeof e[Lo]=="function"}function pr(e){if(!ht(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[zs]||r!=null&&r.destroyed)}function na(e){if(!hr(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function _f(e,t){if(!hr(e))return null;if(e.writableFinished===!0)return!0;const n=e._writableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.finished)!="boolean"?null:!!(n.finished||t===!1&&n.ended===!0&&n.length===0)}function Ef(e){if(!dr(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function ra(e,t){if(!dr(e))return null;const n=e._readableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.endEmitted)!="boolean"?null:!!(n.endEmitted||t===!1&&n.ended===!0&&n.length===0)}function ia(e){return e&&e[mi]!=null?e[mi]:typeof(e==null?void 0:e.readable)!="boolean"?null:pr(e)?!1:dr(e)&&e.readable&&!ra(e)}function oa(e){return e&&e[_i]!=null?e[_i]:typeof(e==null?void 0:e.writable)!="boolean"?null:pr(e)?!1:hr(e)&&e.writable&&!na(e)}function Sf(e,t){return ht(e)?pr(e)?!0:!((t==null?void 0:t.readable)!==!1&&ia(e)||(t==null?void 0:t.writable)!==!1&&oa(e)):null}function Af(e){var t,n;return ht(e)?e.writableErrored?e.writableErrored:(t=(n=e._writableState)===null||n===void 0?void 0:n.errored)!==null&&t!==void 0?t:null:null}function Rf(e){var t,n;return ht(e)?e.readableErrored?e.readableErrored:(t=(n=e._readableState)===null||n===void 0?void 0:n.errored)!==null&&t!==void 0?t:null:null}function vf(e){if(!ht(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,n=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(n==null?void 0:n.closed)=="boolean"?(t==null?void 0:t.closed)||(n==null?void 0:n.closed):typeof e._closed=="boolean"&&sa(e)?e._closed:null}function sa(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function aa(e){return typeof e._sent100=="boolean"&&sa(e)}function Tf(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function xf(e){if(!ht(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&aa(e)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function If(e){var t;return!!(e&&((t=e[Qs])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Nf(e){var t,n,r,s,a,u,l,y,g,_;return!!(e&&((t=(n=(r=(s=(a=(u=e[Xs])!==null&&u!==void 0?u:e.readableErrored)!==null&&a!==void 0?a:e.writableErrored)!==null&&s!==void 0?s:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(y=e._writableState)===null||y===void 0?void 0:y.errorEmitted)!==null&&n!==void 0?n:(g=e._readableState)===null||g===void 0?void 0:g.errored)!==null&&t!==void 0?t:!((_=e._writableState)===null||_===void 0)&&_.errored))}var xt={isDestroyed:pr,kIsDestroyed:zs,isDisturbed:If,kIsDisturbed:Qs,isErrored:Nf,kIsErrored:Xs,isReadable:ia,kIsReadable:mi,kIsClosedPromise:gf,kControllerErrorFunction:yf,kIsWritable:_i,isClosed:vf,isDuplexNodeStream:bf,isFinished:Sf,isIterable:mf,isReadableNodeStream:dr,isReadableStream:Zs,isReadableEnded:Ef,isReadableFinished:ra,isReadableErrored:Rf,isNodeStream:ht,isWebStream:wf,isWritable:oa,isWritableNodeStream:hr,isWritableStream:ea,isWritableEnded:na,isWritableFinished:_f,isWritableErrored:Af,isServerRequest:Tf,isServerResponse:aa,willEmitClose:xf,isTransformStream:ta};const Ct=Ht,{AbortError:la,codes:Cf}=Ue,{ERR_INVALID_ARG_TYPE:Of,ERR_STREAM_PREMATURE_CLOSE:Mo}=Cf,{kEmptyObject:Ei,once:Si}=He,{validateAbortSignal:Lf,validateFunction:Mf,validateObject:Pf,validateBoolean:$f}=Nn,{Promise:Df,PromisePrototypeThen:Bf,SymbolDispose:ua}=ve,{isClosed:kf,isReadable:Po,isReadableNodeStream:Qr,isReadableStream:Ff,isReadableFinished:$o,isReadableErrored:Do,isWritable:Bo,isWritableNodeStream:ko,isWritableStream:jf,isWritableFinished:Fo,isWritableErrored:jo,isNodeStream:Uf,willEmitClose:Wf,kIsClosedPromise:Hf}=xt;let Qt;function Gf(e){return e.setHeader&&typeof e.abort=="function"}const Ai=()=>{};function fa(e,t,n){var r,s;if(arguments.length===2?(n=t,t=Ei):t==null?t=Ei:Pf(t,"options"),Mf(n,"callback"),Lf(t.signal,"options.signal"),n=Si(n),Ff(e)||jf(e))return Vf(e,t,n);if(!Uf(e))throw new Of("stream",["ReadableStream","WritableStream","Stream"],e);const a=(r=t.readable)!==null&&r!==void 0?r:Qr(e),u=(s=t.writable)!==null&&s!==void 0?s:ko(e),l=e._writableState,y=e._readableState,g=()=>{e.writable||P()};let _=Wf(e)&&Qr(e)===a&&ko(e)===u,N=Fo(e,!1);const P=()=>{N=!0,e.destroyed&&(_=!1),!(_&&(!e.readable||a))&&(!a||v)&&n.call(e)};let v=$o(e,!1);const B=()=>{v=!0,e.destroyed&&(_=!1),!(_&&(!e.writable||u))&&(!u||N)&&n.call(e)},A=G=>{n.call(e,G)};let I=kf(e);const O=()=>{I=!0;const G=jo(e)||Do(e);if(G&&typeof G!="boolean")return n.call(e,G);if(a&&!v&&Qr(e,!0)&&!$o(e,!1))return n.call(e,new Mo);if(u&&!N&&!Fo(e,!1))return n.call(e,new Mo);n.call(e)},F=()=>{I=!0;const G=jo(e)||Do(e);if(G&&typeof G!="boolean")return n.call(e,G);n.call(e)},x=()=>{e.req.on("finish",P)};Gf(e)?(e.on("complete",P),_||e.on("abort",O),e.req?x():e.on("request",x)):u&&!l&&(e.on("end",g),e.on("close",g)),!_&&typeof e.aborted=="boolean"&&e.on("aborted",O),e.on("end",B),e.on("finish",P),t.error!==!1&&e.on("error",A),e.on("close",O),I?Ct.nextTick(O):l!=null&&l.errorEmitted||y!=null&&y.errorEmitted?_||Ct.nextTick(F):(!a&&(!_||Po(e))&&(N||Bo(e)===!1)||!u&&(!_||Bo(e))&&(v||Po(e)===!1)||y&&e.req&&e.aborted)&&Ct.nextTick(F);const Q=()=>{n=Ai,e.removeListener("aborted",O),e.removeListener("complete",P),e.removeListener("abort",O),e.removeListener("request",x),e.req&&e.req.removeListener("finish",P),e.removeListener("end",g),e.removeListener("close",g),e.removeListener("finish",P),e.removeListener("end",B),e.removeListener("error",A),e.removeListener("close",O)};if(t.signal&&!I){const G=()=>{const fe=n;Q(),fe.call(e,new la(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Ct.nextTick(G);else{Qt=Qt||He.addAbortListener;const fe=Qt(t.signal,G),Ne=n;n=Si((...se)=>{fe[ua](),Ne.apply(e,se)})}}return Q}function Vf(e,t,n){let r=!1,s=Ai;if(t.signal)if(s=()=>{r=!0,n.call(e,new la(void 0,{cause:t.signal.reason}))},t.signal.aborted)Ct.nextTick(s);else{Qt=Qt||He.addAbortListener;const u=Qt(t.signal,s),l=n;n=Si((...y)=>{u[ua](),l.apply(e,y)})}const a=(...u)=>{r||Ct.nextTick(()=>n.apply(e,u))};return Bf(e[Hf].promise,a,a),Ai}function qf(e,t){var n;let r=!1;return t===null&&(t=Ei),(n=t)!==null&&n!==void 0&&n.cleanup&&($f(t.cleanup,"cleanup"),r=t.cleanup),new Df((s,a)=>{const u=fa(e,t,l=>{r&&u(),l?a(l):s()})})}Gi.exports=fa;Gi.exports.finished=qf;var Mt=Gi.exports;const ft=Ht,{aggregateTwoErrors:Kf,codes:{ERR_MULTIPLE_CALLBACK:Jf},AbortError:Yf}=Ue,{Symbol:ca}=ve,{kIsDestroyed:zf,isDestroyed:Xf,isFinished:Qf,isServerRequest:Zf}=xt,da=ca("kDestroy"),Ri=ca("kConstruct");function ha(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function ec(e,t){const n=this._readableState,r=this._writableState,s=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof t=="function"&&t(),this):(ha(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),s.constructed?Uo(this,e,t):this.once(da,function(a){Uo(this,Kf(a,e),t)}),this)}function Uo(e,t,n){let r=!1;function s(a){if(r)return;r=!0;const u=e._readableState,l=e._writableState;ha(a,l,u),l&&(l.closed=!0),u&&(u.closed=!0),typeof n=="function"&&n(a),a?ft.nextTick(tc,e,a):ft.nextTick(pa,e)}try{e._destroy(t||null,s)}catch(a){s(a)}}function tc(e,t){vi(e,t),pa(e)}function pa(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(n!=null&&n.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function vi(e,t){const n=e._readableState,r=e._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function nc(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function Ti(e,t,n){const r=e._readableState,s=e._writableState;if(s!=null&&s.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||s!=null&&s.autoDestroy?e.destroy(t):t&&(t.stack,s&&!s.errored&&(s.errored=t),r&&!r.errored&&(r.errored=t),n?ft.nextTick(vi,e,t):vi(e,t))}function rc(e,t){if(typeof e._construct!="function")return;const n=e._readableState,r=e._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),e.once(Ri,t),!(e.listenerCount(Ri)>1)&&ft.nextTick(ic,e)}function ic(e){let t=!1;function n(r){if(t){Ti(e,r??new Jf);return}t=!0;const s=e._readableState,a=e._writableState,u=a||s;s&&(s.constructed=!0),a&&(a.constructed=!0),u.destroyed?e.emit(da,r):r?Ti(e,r,!0):ft.nextTick(oc,e)}try{e._construct(r=>{ft.nextTick(n,r)})}catch(r){ft.nextTick(n,r)}}function oc(e){e.emit(Ri)}function Wo(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function ga(e){e.emit("close")}function sc(e,t){e.emit("error",t),ft.nextTick(ga,e)}function ac(e,t){!e||Xf(e)||(!t&&!Qf(e)&&(t=new Yf),Zf(e)?(e.socket=null,e.destroy(t)):Wo(e)?e.abort():Wo(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ft.nextTick(sc,e,t):ft.nextTick(ga,e),e.destroyed||(e[zf]=!0))}var on={construct:rc,destroyer:ac,destroy:ec,undestroy:nc,errorOrDestroy:Ti};const{ArrayIsArray:lc,ObjectSetPrototypeOf:ya}=ve,{EventEmitter:gr}=nn;function yr(e){gr.call(this,e)}ya(yr.prototype,gr.prototype);ya(yr,gr);yr.prototype.pipe=function(e,t){const n=this;function r(_){e.writable&&e.write(_)===!1&&n.pause&&n.pause()}n.on("data",r);function s(){n.readable&&n.resume&&n.resume()}e.on("drain",s),!e._isStdio&&(!t||t.end!==!1)&&(n.on("end",u),n.on("close",l));let a=!1;function u(){a||(a=!0,e.end())}function l(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}function y(_){g(),gr.listenerCount(this,"error")===0&&this.emit("error",_)}xi(n,"error",y),xi(e,"error",y);function g(){n.removeListener("data",r),e.removeListener("drain",s),n.removeListener("end",u),n.removeListener("close",l),n.removeListener("error",y),e.removeListener("error",y),n.removeListener("end",g),n.removeListener("close",g),e.removeListener("close",g)}return n.on("end",g),n.on("close",g),e.on("close",g),e.emit("pipe",n),e};function xi(e,t,n){if(typeof e.prependListener=="function")return e.prependListener(t,n);!e._events||!e._events[t]?e.on(t,n):lc(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]}var Vi={Stream:yr,prependListener:xi},ba={exports:{}};(function(e){const{SymbolDispose:t}=ve,{AbortError:n,codes:r}=Ue,{isNodeStream:s,isWebStream:a,kControllerErrorFunction:u}=xt,l=Mt,{ERR_INVALID_ARG_TYPE:y}=r;let g;const _=(N,P)=>{if(typeof N!="object"||!("aborted"in N))throw new y(P,"AbortSignal",N)};e.exports.addAbortSignal=function(P,v){if(_(P,"signal"),!s(v)&&!a(v))throw new y("stream",["ReadableStream","WritableStream","Stream"],v);return e.exports.addAbortSignalNoValidate(P,v)},e.exports.addAbortSignalNoValidate=function(N,P){if(typeof N!="object"||!("aborted"in N))return P;const v=s(P)?()=>{P.destroy(new n(void 0,{cause:N.reason}))}:()=>{P[u](new n(void 0,{cause:N.reason}))};if(N.aborted)v();else{g=g||He.addAbortListener;const B=g(N,v);l(P,B[t])}return P}})(ba);var br=ba.exports;const{StringPrototypeSlice:Ho,SymbolIterator:uc,TypedArrayPrototypeSet:Gn,Uint8Array:fc}=ve,{Buffer:Zr}=vt,{inspect:cc}=He;var dc=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(t){const n={data:t,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=t+n.data;return r}concat(t){if(this.length===0)return Zr.alloc(0);const n=Zr.allocUnsafe(t>>>0);let r=this.head,s=0;for(;r;)Gn(n,r.data,s),s+=r.data.length,r=r.next;return n}consume(t,n){const r=this.head.data;if(t<r.length){const s=r.slice(0,t);return this.head.data=r.slice(t),s}return t===r.length?this.shift():n?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[uc](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let n="",r=this.head,s=0;do{const a=r.data;if(t>a.length)n+=a,t-=a.length;else{t===a.length?(n+=a,++s,r.next?this.head=r.next:this.head=this.tail=null):(n+=Ho(a,0,t),this.head=r,r.data=Ho(a,t));break}++s}while((r=r.next)!==null);return this.length-=s,n}_getBuffer(t){const n=Zr.allocUnsafe(t),r=t;let s=this.head,a=0;do{const u=s.data;if(t>u.length)Gn(n,u,r-t),t-=u.length;else{t===u.length?(Gn(n,u,r-t),++a,s.next?this.head=s.next:this.head=this.tail=null):(Gn(n,new fc(u.buffer,u.byteOffset,t),r-t),this.head=s,s.data=u.slice(t));break}++a}while((s=s.next)!==null);return this.length-=a,n}[Symbol.for("nodejs.util.inspect.custom")](t,n){return cc(this,{...n,depth:0,customInspect:!1})}};const{MathFloor:hc,NumberIsInteger:pc}=ve,{validateInteger:gc}=Nn,{ERR_INVALID_ARG_VALUE:yc}=Ue.codes;let wa=16*1024,ma=16;function bc(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function _a(e){return e?ma:wa}function wc(e,t){gc(t,"value",0),e?ma=t:wa=t}function mc(e,t,n,r){const s=bc(t,r,n);if(s!=null){if(!pc(s)||s<0){const a=r?`options.${n}`:"options.highWaterMark";throw new yc(a,s)}return hc(s)}return _a(e.objectMode)}var wr={getHighWaterMark:mc,getDefaultHighWaterMark:_a,setDefaultHighWaterMark:wc},Ea={},Ii={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=vt,r=n.Buffer;function s(u,l){for(var y in u)l[y]=u[y]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a);function a(u,l,y){return r(u,l,y)}a.prototype=Object.create(r.prototype),s(r,a),a.from=function(u,l,y){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,l,y)},a.alloc=function(u,l,y){if(typeof u!="number")throw new TypeError("Argument must be a number");var g=r(u);return l!==void 0?typeof y=="string"?g.fill(l,y):g.fill(l):g.fill(0),g},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(Ii,Ii.exports);var _c=Ii.exports,qi=_c.Buffer,Go=qi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ec(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Sc(e){var t=Ec(e);if(typeof t!="string"&&(qi.isEncoding===Go||!Go(e)))throw new Error("Unknown encoding: "+e);return t||e}Ea.StringDecoder=Cn;function Cn(e){this.encoding=Sc(e);var t;switch(this.encoding){case"utf16le":this.text=Ic,this.end=Nc,t=4;break;case"utf8":this.fillLast=vc,t=4;break;case"base64":this.text=Cc,this.end=Oc,t=3;break;default:this.write=Lc,this.end=Mc;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=qi.allocUnsafe(t)}Cn.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""};Cn.prototype.end=xc;Cn.prototype.text=Tc;Cn.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ei(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Ac(e,t,n){var r=t.length-1;if(r<n)return 0;var s=ei(t[r]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--r<n||s===-2?0:(s=ei(t[r]),s>=0?(s>0&&(e.lastNeed=s-2),s):--r<n||s===-2?0:(s=ei(t[r]),s>=0?(s>0&&(s===2?s=0:e.lastNeed=s-3),s):0))}function Rc(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function vc(e){var t=this.lastTotal-this.lastNeed,n=Rc(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Tc(e,t){var n=Ac(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function xc(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function Ic(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Nc(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function Cc(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function Oc(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Lc(e){return e.toString(this.encoding)}function Mc(e){return e&&e.length?this.write(e):""}const Vo=Ht,{PromisePrototypeThen:Pc,SymbolAsyncIterator:qo,SymbolIterator:Ko}=ve,{Buffer:$c}=vt,{ERR_INVALID_ARG_TYPE:Dc,ERR_STREAM_NULL_VALUES:Bc}=Ue.codes;function kc(e,t,n){let r;if(typeof t=="string"||t instanceof $c)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});let s;if(t&&t[qo])s=!0,r=t[qo]();else if(t&&t[Ko])s=!1,r=t[Ko]();else throw new Dc("iterable",["Iterable"],t);const a=new e({objectMode:!0,highWaterMark:1,...n});let u=!1;a._read=function(){u||(u=!0,y())},a._destroy=function(g,_){Pc(l(g),()=>Vo.nextTick(_,g),N=>Vo.nextTick(_,N||g))};async function l(g){const _=g!=null,N=typeof r.throw=="function";if(_&&N){const{value:P,done:v}=await r.throw(g);if(await P,v)return}if(typeof r.return=="function"){const{value:P}=await r.return();await P}}async function y(){for(;;){try{const{value:g,done:_}=s?await r.next():r.next();if(_)a.push(null);else{const N=g&&typeof g.then=="function"?await g:g;if(N===null)throw u=!1,new Bc;if(a.push(N))continue;u=!1}}catch(g){a.destroy(g)}break}}return a}var Sa=kc,ti,Jo;function mr(){if(Jo)return ti;Jo=1;const e=Ht,{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:y,SafeSet:g,SymbolAsyncDispose:_,SymbolAsyncIterator:N,Symbol:P}=ve;ti=H,H.ReadableState=Pe;const{EventEmitter:v}=nn,{Stream:B,prependListener:A}=Vi,{Buffer:I}=vt,{addAbortSignal:O}=br,F=Mt;let x=He.debuglog("stream",c=>{x=c});const Q=dc,G=on,{getHighWaterMark:fe,getDefaultHighWaterMark:Ne}=wr,{aggregateTwoErrors:se,codes:{ERR_INVALID_ARG_TYPE:oe,ERR_METHOD_NOT_IMPLEMENTED:xe,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:ee}=Ue,{validateObject:Y}=Nn,X=P("kPaused"),{StringDecoder:we}=Ea,me=Sa;l(H.prototype,B.prototype),l(H,B);const he=()=>{},{errorOrDestroy:_e}=G,q=1,pe=2,D=4,Ee=8,Fe=16,je=32,Je=64,Le=128,Ye=256,it=512,ot=1024,ze=2048,m=4096,E=8192,C=16384,W=32768,j=65536,ae=1<<17,ce=1<<18;function te(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(p){p?this.state|=c:this.state&=~c}}}a(Pe.prototype,{objectMode:te(q),ended:te(pe),endEmitted:te(D),reading:te(Ee),constructed:te(Fe),sync:te(je),needReadable:te(Je),emittedReadable:te(Le),readableListening:te(Ye),resumeScheduled:te(it),errorEmitted:te(ot),emitClose:te(ze),autoDestroy:te(m),destroyed:te(E),closed:te(C),closeEmitted:te(W),multiAwaitDrain:te(j),readingMore:te(ae),dataEmitted:te(ce)});function Pe(c,p,$){typeof $!="boolean"&&($=p instanceof St()),this.state=ze|m|Fe|je,c&&c.objectMode&&(this.state|=q),$&&c&&c.readableObjectMode&&(this.state|=q),this.highWaterMark=c?fe(this,c,"readableHighWaterMark",$):Ne(!1),this.buffer=new Q,this.length=0,this.pipes=[],this.flowing=null,this[X]=null,c&&c.emitClose===!1&&(this.state&=~ze),c&&c.autoDestroy===!1&&(this.state&=~m),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new we(c.encoding),this.encoding=c.encoding)}function H(c){if(!(this instanceof H))return new H(c);const p=this instanceof St();this._readableState=new Pe(c,this,p),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!p&&O(c.signal,this)),B.call(this,c),G.construct(this,()=>{this._readableState.needReadable&&b(this,this._readableState)})}H.prototype.destroy=G.destroy,H.prototype._undestroy=G.undestroy,H.prototype._destroy=function(c,p){p(c)},H.prototype[v.captureRejectionSymbol]=function(c){this.destroy(c)},H.prototype[_]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new ee,this.destroy(c)),new y((p,$)=>F(this,M=>M&&M!==c?$(M):p(null)))},H.prototype.push=function(c,p){return Te(this,c,p,!1)},H.prototype.unshift=function(c,p){return Te(this,c,p,!0)};function Te(c,p,$,M){x("readableAddChunk",p);const U=c._readableState;let $e;if(U.state&q||(typeof p=="string"?($=$||U.defaultEncoding,U.encoding!==$&&(M&&U.encoding?p=I.from(p,$).toString(U.encoding):(p=I.from(p,$),$=""))):p instanceof I?$="":B._isUint8Array(p)?(p=B._uint8ArrayToBuffer(p),$=""):p!=null&&($e=new oe("chunk",["string","Buffer","Uint8Array"],p))),$e)_e(c,$e);else if(p===null)U.state&=~Ee,i(c,U);else if(U.state&q||p&&p.length>0)if(M)if(U.state&D)_e(c,new L);else{if(U.destroyed||U.errored)return!1;Nt(c,U,p,!0)}else if(U.ended)_e(c,new V);else{if(U.destroyed||U.errored)return!1;U.state&=~Ee,U.decoder&&!$?(p=U.decoder.write(p),U.objectMode||p.length!==0?Nt(c,U,p,!1):b(c,U)):Nt(c,U,p,!1)}else M||(U.state&=~Ee,b(c,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function Nt(c,p,$,M){p.flowing&&p.length===0&&!p.sync&&c.listenerCount("data")>0?(p.state&j?p.awaitDrainWriters.clear():p.awaitDrainWriters=null,p.dataEmitted=!0,c.emit("data",$)):(p.length+=p.objectMode?1:$.length,M?p.buffer.unshift($):p.buffer.push($),p.state&Je&&o(c)),b(c,p)}H.prototype.isPaused=function(){const c=this._readableState;return c[X]===!0||c.flowing===!1},H.prototype.setEncoding=function(c){const p=new we(c);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;const $=this._readableState.buffer;let M="";for(const U of $)M+=p.write(U);return $.clear(),M!==""&&$.push(M),this._readableState.length=M.length,this};const Ge=1073741824;function ln(c){if(c>Ge)throw new K("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function f(c,p){return c<=0||p.length===0&&p.ended?0:p.state&q?1:r(c)?p.flowing&&p.length?p.buffer.first().length:p.length:c<=p.length?c:p.ended?p.length:0}H.prototype.read=function(c){x("read",c),c===void 0?c=NaN:n(c)||(c=s(c,10));const p=this._readableState,$=c;if(c>p.highWaterMark&&(p.highWaterMark=ln(c)),c!==0&&(p.state&=~Le),c===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return x("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?gt(this):o(this),null;if(c=f(c,p),c===0&&p.ended)return p.length===0&&gt(this),null;let M=(p.state&Je)!==0;if(x("need readable",M),(p.length===0||p.length-c<p.highWaterMark)&&(M=!0,x("length less than watermark",M)),p.ended||p.reading||p.destroyed||p.errored||!p.constructed)M=!1,x("reading, ended or constructing",M);else if(M){x("do read"),p.state|=Ee|je,p.length===0&&(p.state|=Je);try{this._read(p.highWaterMark)}catch($e){_e(this,$e)}p.state&=~je,p.reading||(c=f($,p))}let U;return c>0?U=fn(c,p):U=null,U===null?(p.needReadable=p.length<=p.highWaterMark,c=0):(p.length-=c,p.multiAwaitDrain?p.awaitDrainWriters.clear():p.awaitDrainWriters=null),p.length===0&&(p.ended||(p.needReadable=!0),$!==c&&p.ended&&gt(this)),U!==null&&!p.errorEmitted&&!p.closeEmitted&&(p.dataEmitted=!0,this.emit("data",U)),U};function i(c,p){if(x("onEofChunk"),!p.ended){if(p.decoder){const $=p.decoder.end();$&&$.length&&(p.buffer.push($),p.length+=p.objectMode?1:$.length)}p.ended=!0,p.sync?o(c):(p.needReadable=!1,p.emittedReadable=!0,d(c))}}function o(c){const p=c._readableState;x("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(x("emitReadable",p.flowing),p.emittedReadable=!0,e.nextTick(d,c))}function d(c){const p=c._readableState;x("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&!p.errored&&(p.length||p.ended)&&(c.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,ie(c)}function b(c,p){!p.readingMore&&p.constructed&&(p.readingMore=!0,e.nextTick(S,c,p))}function S(c,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){const $=p.length;if(x("maybeReadMore read 0"),c.read(0),$===p.length)break}p.readingMore=!1}H.prototype._read=function(c){throw new xe("_read()")},H.prototype.pipe=function(c,p){const $=this,M=this._readableState;M.pipes.length===1&&(M.multiAwaitDrain||(M.multiAwaitDrain=!0,M.awaitDrainWriters=new g(M.awaitDrainWriters?[M.awaitDrainWriters]:[]))),M.pipes.push(c),x("pipe count=%d opts=%j",M.pipes.length,p);const $e=(!p||p.end!==!1)&&c!==e.stdout&&c!==e.stderr?Bn:Pt;M.endEmitted?e.nextTick($e):$.once("end",$e),c.on("unpipe",We);function We(mt,rt){x("onunpipe"),mt===$&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,kr())}function Bn(){x("onend"),c.end()}let bt,wt=!1;function kr(){x("cleanup"),c.removeListener("close",hn),c.removeListener("finish",st),bt&&c.removeListener("drain",bt),c.removeListener("error",dn),c.removeListener("unpipe",We),$.removeListener("end",Bn),$.removeListener("end",Pt),$.removeListener("data",Fn),wt=!0,bt&&M.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&bt()}function kn(){wt||(M.pipes.length===1&&M.pipes[0]===c?(x("false write response, pause",0),M.awaitDrainWriters=c,M.multiAwaitDrain=!1):M.pipes.length>1&&M.pipes.includes(c)&&(x("false write response, pause",M.awaitDrainWriters.size),M.awaitDrainWriters.add(c)),$.pause()),bt||(bt=T($,c),c.on("drain",bt))}$.on("data",Fn);function Fn(mt){x("ondata");const rt=c.write(mt);x("dest.write",rt),rt===!1&&kn()}function dn(mt){if(x("onerror",mt),Pt(),c.removeListener("error",dn),c.listenerCount("error")===0){const rt=c._writableState||c._readableState;rt&&!rt.errorEmitted?_e(c,mt):c.emit("error",mt)}}A(c,"error",dn);function hn(){c.removeListener("finish",st),Pt()}c.once("close",hn);function st(){x("onfinish"),c.removeListener("close",hn),Pt()}c.once("finish",st);function Pt(){x("unpipe"),$.unpipe(c)}return c.emit("pipe",$),c.writableNeedDrain===!0?kn():M.flowing||(x("pipe resume"),$.resume()),c};function T(c,p){return function(){const M=c._readableState;M.awaitDrainWriters===p?(x("pipeOnDrain",1),M.awaitDrainWriters=null):M.multiAwaitDrain&&(x("pipeOnDrain",M.awaitDrainWriters.size),M.awaitDrainWriters.delete(p)),(!M.awaitDrainWriters||M.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}H.prototype.unpipe=function(c){const p=this._readableState,$={hasUnpiped:!1};if(p.pipes.length===0)return this;if(!c){const U=p.pipes;p.pipes=[],this.pause();for(let $e=0;$e<U.length;$e++)U[$e].emit("unpipe",this,{hasUnpiped:!1});return this}const M=t(p.pipes,c);return M===-1?this:(p.pipes.splice(M,1),p.pipes.length===0&&this.pause(),c.emit("unpipe",this,$),this)},H.prototype.on=function(c,p){const $=B.prototype.on.call(this,c,p),M=this._readableState;return c==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):c==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,x("on readable",M.length,M.reading),M.length?o(this):M.reading||e.nextTick(ge,this)),$},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(c,p){const $=B.prototype.removeListener.call(this,c,p);return c==="readable"&&e.nextTick(J,this),$},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(c){const p=B.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(J,this),p};function J(c){const p=c._readableState;p.readableListening=c.listenerCount("readable")>0,p.resumeScheduled&&p[X]===!1?p.flowing=!0:c.listenerCount("data")>0?c.resume():p.readableListening||(p.flowing=null)}function ge(c){x("readable nexttick read 0"),c.read(0)}H.prototype.resume=function(){const c=this._readableState;return c.flowing||(x("resume"),c.flowing=!c.readableListening,ne(this,c)),c[X]=!1,this};function ne(c,p){p.resumeScheduled||(p.resumeScheduled=!0,e.nextTick(le,c,p))}function le(c,p){x("resume",p.reading),p.reading||c.read(0),p.resumeScheduled=!1,c.emit("resume"),ie(c),p.flowing&&!p.reading&&c.read(0)}H.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function ie(c){const p=c._readableState;for(x("flow",p.flowing);p.flowing&&c.read()!==null;);}H.prototype.wrap=function(c){let p=!1;c.on("data",M=>{!this.push(M)&&c.pause&&(p=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",M=>{_e(this,M)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{p&&c.resume&&(p=!1,c.resume())};const $=u(c);for(let M=1;M<$.length;M++){const U=$[M];this[U]===void 0&&typeof c[U]=="function"&&(this[U]=c[U].bind(c))}return this},H.prototype[N]=function(){return un(this)},H.prototype.iterator=function(c){return c!==void 0&&Y(c,"options"),un(this,c)};function un(c,p){typeof c.read!="function"&&(c=H.wrap(c,{objectMode:!0}));const $=Dr(c,p);return $.stream=c,$}async function*Dr(c,p){let $=he;function M(We){this===c?($(),$=he):$=We}c.on("readable",M);let U;const $e=F(c,{writable:!1},We=>{U=We?se(U,We):null,$(),$=he});try{for(;;){const We=c.destroyed?null:c.read();if(We!==null)yield We;else{if(U)throw U;if(U===null)return;await new y(M)}}}catch(We){throw U=se(U,We),U}finally{(U||(p==null?void 0:p.destroyOnReturn)!==!1)&&(U===void 0||c._readableState.autoDestroy)?G.destroyer(c,null):(c.off("readable",M),$e())}}a(H.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(Pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(c){this[X]=!!c}}}),H._fromList=fn;function fn(c,p){if(p.length===0)return null;let $;return p.objectMode?$=p.buffer.shift():!c||c>=p.length?(p.decoder?$=p.buffer.join(""):p.buffer.length===1?$=p.buffer.first():$=p.buffer.concat(p.length),p.buffer.clear()):$=p.buffer.consume(c,p.decoder),$}function gt(c){const p=c._readableState;x("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,e.nextTick(Br,p,c))}function Br(c,p){if(x("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,p.emit("end"),p.writable&&p.allowHalfOpen===!1)e.nextTick(yt,p);else if(c.autoDestroy){const $=p._writableState;(!$||$.autoDestroy&&($.finished||$.writable===!1))&&p.destroy()}}}function yt(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}H.from=function(c,p){return me(H,c,p)};let cn;function Dn(){return cn===void 0&&(cn={}),cn}return H.fromWeb=function(c,p){return Dn().newStreamReadableFromReadableStream(c,p)},H.toWeb=function(c,p){return Dn().newReadableStreamFromStreamReadable(c,p)},H.wrap=function(c,p){var $,M;return new H({objectMode:($=(M=c.readableObjectMode)!==null&&M!==void 0?M:c.objectMode)!==null&&$!==void 0?$:!0,...p,destroy(U,$e){G.destroyer(c,U),$e(U)}}).wrap(c)},ti}var ni,Yo;function Ki(){if(Yo)return ni;Yo=1;const e=Ht,{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:y,SymbolHasInstance:g}=ve;ni=Y,Y.WritableState=L;const{EventEmitter:_}=nn,N=Vi.Stream,{Buffer:P}=vt,v=on,{addAbortSignal:B}=br,{getHighWaterMark:A,getDefaultHighWaterMark:I}=wr,{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:Q,ERR_STREAM_DESTROYED:G,ERR_STREAM_ALREADY_FINISHED:fe,ERR_STREAM_NULL_VALUES:Ne,ERR_STREAM_WRITE_AFTER_END:se,ERR_UNKNOWN_ENCODING:oe}=Ue.codes,{errorOrDestroy:xe}=v;u(Y.prototype,N.prototype),u(Y,N);function K(){}const V=y("kOnFinished");function L(m,E,C){typeof C!="boolean"&&(C=E instanceof St()),this.objectMode=!!(m&&m.objectMode),C&&(this.objectMode=this.objectMode||!!(m&&m.writableObjectMode)),this.highWaterMark=m?A(this,m,"writableHighWaterMark",C):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const W=!!(m&&m.decodeStrings===!1);this.decodeStrings=!W,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_e.bind(void 0,E),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ee(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[V]=[]}function ee(m){m.buffered=[],m.bufferedIndex=0,m.allBuffers=!0,m.allNoop=!0}L.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Y(m){const E=this instanceof St();if(!E&&!r(Y,this))return new Y(m);this._writableState=new L(m,this,E),m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final),typeof m.construct=="function"&&(this._construct=m.construct),m.signal&&B(m.signal,this)),N.call(this,m),v.construct(this,()=>{const C=this._writableState;C.writing||Ee(this,C),Le(this,C)})}s(Y,g,{__proto__:null,value:function(m){return r(this,m)?!0:this!==Y?!1:m&&m._writableState instanceof L}}),Y.prototype.pipe=function(){xe(this,new Q)};function X(m,E,C,W){const j=m._writableState;if(typeof C=="function")W=C,C=j.defaultEncoding;else{if(!C)C=j.defaultEncoding;else if(C!=="buffer"&&!P.isEncoding(C))throw new oe(C);typeof W!="function"&&(W=K)}if(E===null)throw new Ne;if(!j.objectMode)if(typeof E=="string")j.decodeStrings!==!1&&(E=P.from(E,C),C="buffer");else if(E instanceof P)C="buffer";else if(N._isUint8Array(E))E=N._uint8ArrayToBuffer(E),C="buffer";else throw new O("chunk",["string","Buffer","Uint8Array"],E);let ae;return j.ending?ae=new se:j.destroyed&&(ae=new G("write")),ae?(e.nextTick(W,ae),xe(m,ae,!0),ae):(j.pendingcb++,we(m,j,E,C,W))}Y.prototype.write=function(m,E,C){return X(this,m,E,C)===!0},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){const m=this._writableState;m.corked&&(m.corked--,m.writing||Ee(this,m))},Y.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=l(E)),!P.isEncoding(E))throw new oe(E);return this._writableState.defaultEncoding=E,this};function we(m,E,C,W,j){const ae=E.objectMode?1:C.length;E.length+=ae;const ce=E.length<E.highWaterMark;return ce||(E.needDrain=!0),E.writing||E.corked||E.errored||!E.constructed?(E.buffered.push({chunk:C,encoding:W,callback:j}),E.allBuffers&&W!=="buffer"&&(E.allBuffers=!1),E.allNoop&&j!==K&&(E.allNoop=!1)):(E.writelen=ae,E.writecb=j,E.writing=!0,E.sync=!0,m._write(C,W,E.onwrite),E.sync=!1),ce&&!E.errored&&!E.destroyed}function me(m,E,C,W,j,ae,ce){E.writelen=W,E.writecb=ce,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new G("write")):C?m._writev(j,E.onwrite):m._write(j,ae,E.onwrite),E.sync=!1}function he(m,E,C,W){--E.pendingcb,W(C),D(E),xe(m,C)}function _e(m,E){const C=m._writableState,W=C.sync,j=C.writecb;if(typeof j!="function"){xe(m,new x);return}C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0,E?(E.stack,C.errored||(C.errored=E),m._readableState&&!m._readableState.errored&&(m._readableState.errored=E),W?e.nextTick(he,m,C,E,j):he(m,C,E,j)):(C.buffered.length>C.bufferedIndex&&Ee(m,C),W?C.afterWriteTickInfo!==null&&C.afterWriteTickInfo.cb===j?C.afterWriteTickInfo.count++:(C.afterWriteTickInfo={count:1,cb:j,stream:m,state:C},e.nextTick(q,C.afterWriteTickInfo)):pe(m,C,1,j))}function q({stream:m,state:E,count:C,cb:W}){return E.afterWriteTickInfo=null,pe(m,E,C,W)}function pe(m,E,C,W){for(!E.ending&&!m.destroyed&&E.length===0&&E.needDrain&&(E.needDrain=!1,m.emit("drain"));C-- >0;)E.pendingcb--,W();E.destroyed&&D(E),Le(m,E)}function D(m){if(m.writing)return;for(let j=m.bufferedIndex;j<m.buffered.length;++j){var E;const{chunk:ae,callback:ce}=m.buffered[j],te=m.objectMode?1:ae.length;m.length-=te,ce((E=m.errored)!==null&&E!==void 0?E:new G("write"))}const C=m[V].splice(0);for(let j=0;j<C.length;j++){var W;C[j]((W=m.errored)!==null&&W!==void 0?W:new G("end"))}ee(m)}function Ee(m,E){if(E.corked||E.bufferProcessing||E.destroyed||!E.constructed)return;const{buffered:C,bufferedIndex:W,objectMode:j}=E,ae=C.length-W;if(!ae)return;let ce=W;if(E.bufferProcessing=!0,ae>1&&m._writev){E.pendingcb-=ae-1;const te=E.allNoop?K:H=>{for(let Te=ce;Te<C.length;++Te)C[Te].callback(H)},Pe=E.allNoop&&ce===0?C:t(C,ce);Pe.allBuffers=E.allBuffers,me(m,E,!0,E.length,Pe,"",te),ee(E)}else{do{const{chunk:te,encoding:Pe,callback:H}=C[ce];C[ce++]=null;const Te=j?1:te.length;me(m,E,!1,Te,te,Pe,H)}while(ce<C.length&&!E.writing);ce===C.length?ee(E):ce>256?(C.splice(0,ce),E.bufferedIndex=0):E.bufferedIndex=ce}E.bufferProcessing=!1}Y.prototype._write=function(m,E,C){if(this._writev)this._writev([{chunk:m,encoding:E}],C);else throw new F("_write()")},Y.prototype._writev=null,Y.prototype.end=function(m,E,C){const W=this._writableState;typeof m=="function"?(C=m,m=null,E=null):typeof E=="function"&&(C=E,E=null);let j;if(m!=null){const ae=X(this,m,E);ae instanceof n&&(j=ae)}return W.corked&&(W.corked=1,this.uncork()),j||(!W.errored&&!W.ending?(W.ending=!0,Le(this,W,!0),W.ended=!0):W.finished?j=new fe("end"):W.destroyed&&(j=new G("end"))),typeof C=="function"&&(j||W.finished?e.nextTick(C,j):W[V].push(C)),this};function Fe(m){return m.ending&&!m.destroyed&&m.constructed&&m.length===0&&!m.errored&&m.buffered.length===0&&!m.finished&&!m.writing&&!m.errorEmitted&&!m.closeEmitted}function je(m,E){let C=!1;function W(j){if(C){xe(m,j??x());return}if(C=!0,E.pendingcb--,j){const ae=E[V].splice(0);for(let ce=0;ce<ae.length;ce++)ae[ce](j);xe(m,j,E.sync)}else Fe(E)&&(E.prefinished=!0,m.emit("prefinish"),E.pendingcb++,e.nextTick(Ye,m,E))}E.sync=!0,E.pendingcb++;try{m._final(W)}catch(j){W(j)}E.sync=!1}function Je(m,E){!E.prefinished&&!E.finalCalled&&(typeof m._final=="function"&&!E.destroyed?(E.finalCalled=!0,je(m,E)):(E.prefinished=!0,m.emit("prefinish")))}function Le(m,E,C){Fe(E)&&(Je(m,E),E.pendingcb===0&&(C?(E.pendingcb++,e.nextTick((W,j)=>{Fe(j)?Ye(W,j):j.pendingcb--},m,E)):Fe(E)&&(E.pendingcb++,Ye(m,E))))}function Ye(m,E){E.pendingcb--,E.finished=!0;const C=E[V].splice(0);for(let W=0;W<C.length;W++)C[W]();if(m.emit("finish"),E.autoDestroy){const W=m._readableState;(!W||W.autoDestroy&&(W.endEmitted||W.readable===!1))&&m.destroy()}}a(Y.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(m){this._writableState&&(this._writableState.destroyed=m)}},writable:{__proto__:null,get(){const m=this._writableState;return!!m&&m.writable!==!1&&!m.destroyed&&!m.errored&&!m.ending&&!m.ended},set(m){this._writableState&&(this._writableState.writable=!!m)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const m=this._writableState;return m?!m.destroyed&&!m.ending&&m.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const it=v.destroy;Y.prototype.destroy=function(m,E){const C=this._writableState;return!C.destroyed&&(C.bufferedIndex<C.buffered.length||C[V].length)&&e.nextTick(D,C),it.call(this,m,E),this},Y.prototype._undestroy=v.undestroy,Y.prototype._destroy=function(m,E){E(m)},Y.prototype[_.captureRejectionSymbol]=function(m){this.destroy(m)};let ot;function ze(){return ot===void 0&&(ot={}),ot}return Y.fromWeb=function(m,E){return ze().newStreamWritableFromWritableStream(m,E)},Y.toWeb=function(m){return ze().newWritableStreamFromStreamWritable(m)},ni}var ri,zo;function Fc(){if(zo)return ri;zo=1;const e=Ht,t=vt,{isReadable:n,isWritable:r,isIterable:s,isNodeStream:a,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:y,isReadableStream:g,isWritableStream:_}=xt,N=Mt,{AbortError:P,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:B}}=Ue,{destroyer:A}=on,I=St(),O=mr(),F=Ki(),{createDeferredPromise:x}=He,Q=Sa,G=globalThis.Blob||t.Blob,fe=typeof G<"u"?function(L){return L instanceof G}:function(L){return!1},Ne=globalThis.AbortController||Rn().AbortController,{FunctionPrototypeCall:se}=ve;class oe extends I{constructor(L){super(L),(L==null?void 0:L.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(L==null?void 0:L.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ri=function V(L,ee){if(y(L))return L;if(u(L))return K({readable:L});if(l(L))return K({writable:L});if(a(L))return K({writable:!1,readable:!1});if(g(L))return K({readable:O.fromWeb(L)});if(_(L))return K({writable:F.fromWeb(L)});if(typeof L=="function"){const{value:X,write:we,final:me,destroy:he}=xe(L);if(s(X))return Q(oe,X,{objectMode:!0,write:we,final:me,destroy:he});const _e=X==null?void 0:X.then;if(typeof _e=="function"){let q;const pe=se(_e,X,D=>{if(D!=null)throw new B("nully","body",D)},D=>{A(q,D)});return q=new oe({objectMode:!0,readable:!1,write:we,final(D){me(async()=>{try{await pe,e.nextTick(D,null)}catch(Ee){e.nextTick(D,Ee)}})},destroy:he})}throw new B("Iterable, AsyncIterable or AsyncFunction",ee,X)}if(fe(L))return V(L.arrayBuffer());if(s(L))return Q(oe,L,{objectMode:!0,writable:!1});if(g(L==null?void 0:L.readable)&&_(L==null?void 0:L.writable))return oe.fromWeb(L);if(typeof(L==null?void 0:L.writable)=="object"||typeof(L==null?void 0:L.readable)=="object"){const X=L!=null&&L.readable?u(L==null?void 0:L.readable)?L==null?void 0:L.readable:V(L.readable):void 0,we=L!=null&&L.writable?l(L==null?void 0:L.writable)?L==null?void 0:L.writable:V(L.writable):void 0;return K({readable:X,writable:we})}const Y=L==null?void 0:L.then;if(typeof Y=="function"){let X;return se(Y,L,we=>{we!=null&&X.push(we),X.push(null)},we=>{A(X,we)}),X=new oe({objectMode:!0,writable:!1,read(){}})}throw new v(ee,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function xe(V){let{promise:L,resolve:ee}=x();const Y=new Ne,X=Y.signal;return{value:V(async function*(){for(;;){const me=L;L=null;const{chunk:he,done:_e,cb:q}=await me;if(e.nextTick(q),_e)return;if(X.aborted)throw new P(void 0,{cause:X.reason});({promise:L,resolve:ee}=x()),yield he}}(),{signal:X}),write(me,he,_e){const q=ee;ee=null,q({chunk:me,done:!1,cb:_e})},final(me){const he=ee;ee=null,he({done:!0,cb:me})},destroy(me,he){Y.abort(),he(me)}}}function K(V){const L=V.readable&&typeof V.readable.read!="function"?O.wrap(V.readable):V.readable,ee=V.writable;let Y=!!n(L),X=!!r(ee),we,me,he,_e,q;function pe(D){const Ee=_e;_e=null,Ee?Ee(D):D&&q.destroy(D)}return q=new oe({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(ee!=null&&ee.writableObjectMode),readable:Y,writable:X}),X&&(N(ee,D=>{X=!1,D&&A(L,D),pe(D)}),q._write=function(D,Ee,Fe){ee.write(D,Ee)?Fe():we=Fe},q._final=function(D){ee.end(),me=D},ee.on("drain",function(){if(we){const D=we;we=null,D()}}),ee.on("finish",function(){if(me){const D=me;me=null,D()}})),Y&&(N(L,D=>{Y=!1,D&&A(L,D),pe(D)}),L.on("readable",function(){if(he){const D=he;he=null,D()}}),L.on("end",function(){q.push(null)}),q._read=function(){for(;;){const D=L.read();if(D===null){he=q._read;return}if(!q.push(D))return}}),q._destroy=function(D,Ee){!D&&_e!==null&&(D=new P),he=null,we=null,me=null,_e===null?Ee(D):(_e=Ee,A(ee,D),A(L,D))},q}return ri}var ii,Xo;function St(){if(Xo)return ii;Xo=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=ve;ii=u;const s=mr(),a=Ki();r(u.prototype,s.prototype),r(u,s);{const _=n(a.prototype);for(let N=0;N<_.length;N++){const P=_[N];u.prototype[P]||(u.prototype[P]=a.prototype[P])}}function u(_){if(!(this instanceof u))return new u(_);s.call(this,_),a.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(u.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});let l;function y(){return l===void 0&&(l={}),l}u.fromWeb=function(_,N){return y().newStreamDuplexFromReadableWritablePair(_,N)},u.toWeb=function(_){return y().newReadableWritablePairFromDuplex(_)};let g;return u.from=function(_){return g||(g=Fc()),g(_,"body")},ii}const{ObjectSetPrototypeOf:Aa,Symbol:jc}=ve;var Ra=At;const{ERR_METHOD_NOT_IMPLEMENTED:Uc}=Ue.codes,Ji=St(),{getHighWaterMark:Wc}=wr;Aa(At.prototype,Ji.prototype);Aa(At,Ji);const Sn=jc("kCallback");function At(e){if(!(this instanceof At))return new At(e);const t=e?Wc(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Ji.call(this,e),this._readableState.sync=!1,this[Sn]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Hc)}function Ni(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,n)=>{if(t){e?e(t):this.destroy(t);return}n!=null&&this.push(n),this.push(null),e&&e()}):(this.push(null),e&&e())}function Hc(){this._final!==Ni&&Ni.call(this)}At.prototype._final=Ni;At.prototype._transform=function(e,t,n){throw new Uc("_transform()")};At.prototype._write=function(e,t,n){const r=this._readableState,s=this._writableState,a=r.length;this._transform(e,t,(u,l)=>{if(u){n(u);return}l!=null&&this.push(l),s.ended||a===r.length||r.length<r.highWaterMark?n():this[Sn]=n})};At.prototype._read=function(){if(this[Sn]){const e=this[Sn];this[Sn]=null,e()}};const{ObjectSetPrototypeOf:va}=ve;var Ta=en;const Yi=Ra;va(en.prototype,Yi.prototype);va(en,Yi);function en(e){if(!(this instanceof en))return new en(e);Yi.call(this,e)}en.prototype._transform=function(e,t,n){n(null,e)};const _n=Ht,{ArrayIsArray:Gc,Promise:Vc,SymbolAsyncIterator:qc,SymbolDispose:Kc}=ve,tr=Mt,{once:Jc}=He,Yc=on,Qo=St(),{aggregateTwoErrors:zc,codes:{ERR_INVALID_ARG_TYPE:Ci,ERR_INVALID_RETURN_VALUE:oi,ERR_MISSING_ARGS:Xc,ERR_STREAM_DESTROYED:Qc,ERR_STREAM_PREMATURE_CLOSE:Zc},AbortError:ed}=Ue,{validateFunction:td,validateAbortSignal:nd}=Nn,{isIterable:Bt,isReadable:si,isReadableNodeStream:Xn,isNodeStream:Zo,isTransformStream:Jt,isWebStream:rd,isReadableStream:ai,isReadableFinished:id}=xt,od=globalThis.AbortController||Rn().AbortController;let li,ui,fi;function es(e,t,n){let r=!1;e.on("close",()=>{r=!0});const s=tr(e,{readable:t,writable:n},a=>{r=!a});return{destroy:a=>{r||(r=!0,Yc.destroyer(e,a||new Qc("pipe")))},cleanup:s}}function sd(e){return td(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function ci(e){if(Bt(e))return e;if(Xn(e))return ad(e);throw new Ci("val",["Readable","Iterable","AsyncIterable"],e)}async function*ad(e){ui||(ui=mr()),yield*ui.prototype[qc].call(e)}async function Vn(e,t,n,{end:r}){let s,a=null;const u=g=>{if(g&&(s=g),a){const _=a;a=null,_()}},l=()=>new Vc((g,_)=>{s?_(s):a=()=>{s?_(s):g()}});t.on("drain",u);const y=tr(t,{readable:!1},u);try{t.writableNeedDrain&&await l();for await(const g of e)t.write(g)||await l();r&&(t.end(),await l()),n()}catch(g){n(s!==g?zc(s,g):g)}finally{y(),t.off("drain",u)}}async function di(e,t,n,{end:r}){Jt(t)&&(t=t.writable);const s=t.getWriter();try{for await(const a of e)await s.ready,s.write(a).catch(()=>{});await s.ready,r&&await s.close(),n()}catch(a){try{await s.abort(a),n(a)}catch(u){n(u)}}}function ld(...e){return xa(e,Jc(sd(e)))}function xa(e,t,n){if(e.length===1&&Gc(e[0])&&(e=e[0]),e.length<2)throw new Xc("streams");const r=new od,s=r.signal,a=n==null?void 0:n.signal,u=[];nd(a,"options.signal");function l(){B(new ed)}fi=fi||He.addAbortListener;let y;a&&(y=fi(a,l));let g,_;const N=[];let P=0;function v(F){B(F,--P===0)}function B(F,x){var Q;if(F&&(!g||g.code==="ERR_STREAM_PREMATURE_CLOSE")&&(g=F),!(!g&&!x)){for(;N.length;)N.shift()(g);(Q=y)===null||Q===void 0||Q[Kc](),r.abort(),x&&(g||u.forEach(G=>G()),_n.nextTick(t,g,_))}}let A;for(let F=0;F<e.length;F++){const x=e[F],Q=F<e.length-1,G=F>0,fe=Q||(n==null?void 0:n.end)!==!1,Ne=F===e.length-1;if(Zo(x)){let se=function(oe){oe&&oe.name!=="AbortError"&&oe.code!=="ERR_STREAM_PREMATURE_CLOSE"&&v(oe)};if(fe){const{destroy:oe,cleanup:xe}=es(x,Q,G);N.push(oe),si(x)&&Ne&&u.push(xe)}x.on("error",se),si(x)&&Ne&&u.push(()=>{x.removeListener("error",se)})}if(F===0)if(typeof x=="function"){if(A=x({signal:s}),!Bt(A))throw new oi("Iterable, AsyncIterable or Stream","source",A)}else Bt(x)||Xn(x)||Jt(x)?A=x:A=Qo.from(x);else if(typeof x=="function"){if(Jt(A)){var I;A=ci((I=A)===null||I===void 0?void 0:I.readable)}else A=ci(A);if(A=x(A,{signal:s}),Q){if(!Bt(A,!0))throw new oi("AsyncIterable",`transform[${F-1}]`,A)}else{var O;li||(li=Ta);const se=new li({objectMode:!0}),oe=(O=A)===null||O===void 0?void 0:O.then;if(typeof oe=="function")P++,oe.call(A,V=>{_=V,V!=null&&se.write(V),fe&&se.end(),_n.nextTick(v)},V=>{se.destroy(V),_n.nextTick(v,V)});else if(Bt(A,!0))P++,Vn(A,se,v,{end:fe});else if(ai(A)||Jt(A)){const V=A.readable||A;P++,Vn(V,se,v,{end:fe})}else throw new oi("AsyncIterable or Promise","destination",A);A=se;const{destroy:xe,cleanup:K}=es(A,!1,!0);N.push(xe),Ne&&u.push(K)}}else if(Zo(x)){if(Xn(A)){P+=2;const se=ud(A,x,v,{end:fe});si(x)&&Ne&&u.push(se)}else if(Jt(A)||ai(A)){const se=A.readable||A;P++,Vn(se,x,v,{end:fe})}else if(Bt(A))P++,Vn(A,x,v,{end:fe});else throw new Ci("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=x}else if(rd(x)){if(Xn(A))P++,di(ci(A),x,v,{end:fe});else if(ai(A)||Bt(A))P++,di(A,x,v,{end:fe});else if(Jt(A))P++,di(A.readable,x,v,{end:fe});else throw new Ci("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=x}else A=Qo.from(x)}return(s!=null&&s.aborted||a!=null&&a.aborted)&&_n.nextTick(l),A}function ud(e,t,n,{end:r}){let s=!1;if(t.on("close",()=>{s||n(new Zc)}),e.pipe(t,{end:!1}),r){let a=function(){s=!0,t.end()};id(e)?_n.nextTick(a):e.once("end",a)}else n();return tr(e,{readable:!0,writable:!1},a=>{const u=e._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?e.once("end",n).once("error",n):n(a)}),tr(t,{readable:!1,writable:!0},n)}var zi={pipelineImpl:xa,pipeline:ld};const{pipeline:fd}=zi,qn=St(),{destroyer:cd}=on,{isNodeStream:Kn,isReadable:ts,isWritable:ns,isWebStream:hi,isTransformStream:Dt,isWritableStream:rs,isReadableStream:is}=xt,{AbortError:dd,codes:{ERR_INVALID_ARG_VALUE:os,ERR_MISSING_ARGS:hd}}=Ue,pd=Mt;var Ia=function(...t){if(t.length===0)throw new hd("streams");if(t.length===1)return qn.from(t[0]);const n=[...t];if(typeof t[0]=="function"&&(t[0]=qn.from(t[0])),typeof t[t.length-1]=="function"){const v=t.length-1;t[v]=qn.from(t[v])}for(let v=0;v<t.length;++v)if(!(!Kn(t[v])&&!hi(t[v]))){if(v<t.length-1&&!(ts(t[v])||is(t[v])||Dt(t[v])))throw new os(`streams[${v}]`,n[v],"must be readable");if(v>0&&!(ns(t[v])||rs(t[v])||Dt(t[v])))throw new os(`streams[${v}]`,n[v],"must be writable")}let r,s,a,u,l;function y(v){const B=u;u=null,B?B(v):v?l.destroy(v):!P&&!N&&l.destroy()}const g=t[0],_=fd(t,y),N=!!(ns(g)||rs(g)||Dt(g)),P=!!(ts(_)||is(_)||Dt(_));if(l=new qn({writableObjectMode:!!(g!=null&&g.writableObjectMode),readableObjectMode:!!(_!=null&&_.readableObjectMode),writable:N,readable:P}),N){if(Kn(g))l._write=function(B,A,I){g.write(B,A)?I():r=I},l._final=function(B){g.end(),s=B},g.on("drain",function(){if(r){const B=r;r=null,B()}});else if(hi(g)){const A=(Dt(g)?g.writable:g).getWriter();l._write=async function(I,O,F){try{await A.ready,A.write(I).catch(()=>{}),F()}catch(x){F(x)}},l._final=async function(I){try{await A.ready,A.close().catch(()=>{}),s=I}catch(O){I(O)}}}const v=Dt(_)?_.readable:_;pd(v,()=>{if(s){const B=s;s=null,B()}})}if(P){if(Kn(_))_.on("readable",function(){if(a){const v=a;a=null,v()}}),_.on("end",function(){l.push(null)}),l._read=function(){for(;;){const v=_.read();if(v===null){a=l._read;return}if(!l.push(v))return}};else if(hi(_)){const B=(Dt(_)?_.readable:_).getReader();l._read=async function(){for(;;)try{const{value:A,done:I}=await B.read();if(!l.push(A))return;if(I){l.push(null);return}}catch{return}}}}return l._destroy=function(v,B){!v&&u!==null&&(v=new dd),a=null,r=null,s=null,u===null?B(v):(u=B,Kn(_)&&cd(_,v))},l};const gd=globalThis.AbortController||Rn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:yd,ERR_INVALID_ARG_TYPE:On,ERR_MISSING_ARGS:bd,ERR_OUT_OF_RANGE:wd},AbortError:dt}=Ue,{validateAbortSignal:Vt,validateInteger:ss,validateObject:qt}=Nn,md=ve.Symbol("kWeak"),_d=ve.Symbol("kResistStopPropagation"),{finished:Ed}=Mt,Sd=Ia,{addAbortSignalNoValidate:Ad}=br,{isWritable:Rd,isNodeStream:vd}=xt,{deprecate:Td}=He,{ArrayPrototypePush:xd,Boolean:Id,MathFloor:as,Number:Nd,NumberIsNaN:Cd,Promise:ls,PromiseReject:us,PromiseResolve:Od,PromisePrototypeThen:fs,Symbol:Na}=ve,nr=Na("kEmpty"),cs=Na("kEof");function Ld(e,t){if(t!=null&&qt(t,"options"),(t==null?void 0:t.signal)!=null&&Vt(t.signal,"options.signal"),vd(e)&&!Rd(e))throw new yd("stream",e,"must be writable");const n=Sd(this,e);return t!=null&&t.signal&&Ad(t.signal,n),n}function _r(e,t){if(typeof e!="function")throw new On("fn",["Function","AsyncFunction"],e);t!=null&&qt(t,"options"),(t==null?void 0:t.signal)!=null&&Vt(t.signal,"options.signal");let n=1;(t==null?void 0:t.concurrency)!=null&&(n=as(t.concurrency));let r=n-1;return(t==null?void 0:t.highWaterMark)!=null&&(r=as(t.highWaterMark)),ss(n,"options.concurrency",1),ss(r,"options.highWaterMark",0),r+=n,(async function*(){const a=He.AbortSignalAny([t==null?void 0:t.signal].filter(Id)),u=this,l=[],y={signal:a};let g,_,N=!1,P=0;function v(){N=!0,B()}function B(){P-=1,A()}function A(){_&&!N&&P<n&&l.length<r&&(_(),_=null)}async function I(){try{for await(let O of u){if(N)return;if(a.aborted)throw new dt;try{if(O=e(O,y),O===nr)continue;O=Od(O)}catch(F){O=us(F)}P+=1,fs(O,B,v),l.push(O),g&&(g(),g=null),!N&&(l.length>=r||P>=n)&&await new ls(F=>{_=F})}l.push(cs)}catch(O){const F=us(O);fs(F,B,v),l.push(F)}finally{N=!0,g&&(g(),g=null)}}I();try{for(;;){for(;l.length>0;){const O=await l[0];if(O===cs)return;if(a.aborted)throw new dt;O!==nr&&(yield O),l.shift(),A()}await new ls(O=>{g=O})}}finally{N=!0,_&&(_(),_=null)}}).call(this)}function Md(e=void 0){return e!=null&&qt(e,"options"),(e==null?void 0:e.signal)!=null&&Vt(e.signal,"options.signal"),(async function*(){let n=0;for await(const s of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new dt({cause:e.signal.reason});yield[n++,s]}}).call(this)}async function Ca(e,t=void 0){for await(const n of Xi.call(this,e,t))return!0;return!1}async function Pd(e,t=void 0){if(typeof e!="function")throw new On("fn",["Function","AsyncFunction"],e);return!await Ca.call(this,async(...n)=>!await e(...n),t)}async function $d(e,t){for await(const n of Xi.call(this,e,t))return n}async function Dd(e,t){if(typeof e!="function")throw new On("fn",["Function","AsyncFunction"],e);async function n(r,s){return await e(r,s),nr}for await(const r of _r.call(this,n,t));}function Xi(e,t){if(typeof e!="function")throw new On("fn",["Function","AsyncFunction"],e);async function n(r,s){return await e(r,s)?r:nr}return _r.call(this,n,t)}class Bd extends bd{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function kd(e,t,n){var r;if(typeof e!="function")throw new On("reducer",["Function","AsyncFunction"],e);n!=null&&qt(n,"options"),(n==null?void 0:n.signal)!=null&&Vt(n.signal,"options.signal");let s=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){const g=new dt(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await Ed(this.destroy(g)),g}const a=new gd,u=a.signal;if(n!=null&&n.signal){const g={once:!0,[md]:this,[_d]:!0};n.signal.addEventListener("abort",()=>a.abort(),g)}let l=!1;try{for await(const g of this){var y;if(l=!0,n!=null&&(y=n.signal)!==null&&y!==void 0&&y.aborted)throw new dt;s?t=await e(t,g,{signal:u}):(t=g,s=!0)}if(!l&&!s)throw new Bd}finally{a.abort()}return t}async function Fd(e){e!=null&&qt(e,"options"),(e==null?void 0:e.signal)!=null&&Vt(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new dt(void 0,{cause:e.signal.reason});xd(t,r)}return t}function jd(e,t){const n=_r.call(this,e,t);return(async function*(){for await(const s of n)yield*s}).call(this)}function Oa(e){if(e=Nd(e),Cd(e))return 0;if(e<0)throw new wd("number",">= 0",e);return e}function Ud(e,t=void 0){return t!=null&&qt(t,"options"),(t==null?void 0:t.signal)!=null&&Vt(t.signal,"options.signal"),e=Oa(e),(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new dt;for await(const a of this){var s;if(t!=null&&(s=t.signal)!==null&&s!==void 0&&s.aborted)throw new dt;e--<=0&&(yield a)}}).call(this)}function Wd(e,t=void 0){return t!=null&&qt(t,"options"),(t==null?void 0:t.signal)!=null&&Vt(t.signal,"options.signal"),e=Oa(e),(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new dt;for await(const a of this){var s;if(t!=null&&(s=t.signal)!==null&&s!==void 0&&s.aborted)throw new dt;if(e-- >0&&(yield a),e<=0)return}}).call(this)}ji.streamReturningOperators={asIndexedPairs:Td(Md,"readable.asIndexedPairs will be removed in a future version."),drop:Ud,filter:Xi,flatMap:jd,map:_r,take:Wd,compose:Ld};ji.promiseReturningOperators={every:Pd,forEach:Dd,reduce:kd,toArray:Fd,some:Ca,find:$d};var pi,ds;function La(){if(ds)return pi;ds=1;const{ArrayPrototypePop:e,Promise:t}=ve,{isIterable:n,isNodeStream:r,isWebStream:s}=xt,{pipelineImpl:a}=zi,{finished:u}=Mt;Ma();function l(...y){return new t((g,_)=>{let N,P;const v=y[y.length-1];if(v&&typeof v=="object"&&!r(v)&&!n(v)&&!s(v)){const B=e(y);N=B.signal,P=B.end}a(y,(B,A)=>{B?_(B):g(A)},{signal:N,end:P})})}return pi={finished:u,pipeline:l},pi}var hs;function Ma(){if(hs)return Yr.exports;hs=1;const{Buffer:e}=vt,{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=ve,{promisify:{custom:s}}=He,{streamReturningOperators:a,promiseReturningOperators:u}=ji,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Ue,y=Ia,{setDefaultHighWaterMark:g,getDefaultHighWaterMark:_}=wr,{pipeline:N}=zi,{destroyer:P}=on,v=Mt,B=La(),A=xt,I=Yr.exports=Vi.Stream;I.isDestroyed=A.isDestroyed,I.isDisturbed=A.isDisturbed,I.isErrored=A.isErrored,I.isReadable=A.isReadable,I.isWritable=A.isWritable,I.Readable=mr();for(const F of n(a)){let Q=function(...G){if(new.target)throw l();return I.Readable.from(r(x,this,G))};const x=a[F];t(Q,"name",{__proto__:null,value:x.name}),t(Q,"length",{__proto__:null,value:x.length}),t(I.Readable.prototype,F,{__proto__:null,value:Q,enumerable:!1,configurable:!0,writable:!0})}for(const F of n(u)){let Q=function(...G){if(new.target)throw l();return r(x,this,G)};const x=u[F];t(Q,"name",{__proto__:null,value:x.name}),t(Q,"length",{__proto__:null,value:x.length}),t(I.Readable.prototype,F,{__proto__:null,value:Q,enumerable:!1,configurable:!0,writable:!0})}I.Writable=Ki(),I.Duplex=St(),I.Transform=Ra,I.PassThrough=Ta,I.pipeline=N;const{addAbortSignal:O}=br;return I.addAbortSignal=O,I.finished=v,I.destroy=P,I.compose=y,I.setDefaultHighWaterMark=g,I.getDefaultHighWaterMark=_,t(I,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return B}}),t(N,s,{__proto__:null,enumerable:!0,get(){return B.pipeline}}),t(v,s,{__proto__:null,enumerable:!0,get(){return B.finished}}),I.Stream=I,I._isUint8Array=function(x){return x instanceof Uint8Array},I._uint8ArrayToBuffer=function(x){return e.from(x.buffer,x.byteOffset,x.byteLength)},Yr.exports}(function(e){const t=Ma(),n=La(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(Is);var Er=Is.exports,Hd=vn;vn.default=vn;vn.stable=Da;vn.stableStringify=Da;var rr="[...]",Pa="[Circular]",Wt=[],Ft=[];function $a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function vn(e,t,n,r){typeof r>"u"&&(r=$a()),Oi(e,"",0,[],void 0,0,r);var s;try{Ft.length===0?s=JSON.stringify(e,t,n):s=JSON.stringify(e,Ba(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Wt.length!==0;){var a=Wt.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return s}function Zt(e,t,n,r){var s=Object.getOwnPropertyDescriptor(r,n);s.get!==void 0?s.configurable?(Object.defineProperty(r,n,{value:e}),Wt.push([r,n,t,s])):Ft.push([t,n,e]):(r[n]=e,Wt.push([r,n,t]))}function Oi(e,t,n,r,s,a,u){a+=1;var l;if(typeof e=="object"&&e!==null){for(l=0;l<r.length;l++)if(r[l]===e){Zt(Pa,e,t,s);return}if(typeof u.depthLimit<"u"&&a>u.depthLimit){Zt(rr,e,t,s);return}if(typeof u.edgesLimit<"u"&&n+1>u.edgesLimit){Zt(rr,e,t,s);return}if(r.push(e),Array.isArray(e))for(l=0;l<e.length;l++)Oi(e[l],l,l,r,e,a,u);else{var y=Object.keys(e);for(l=0;l<y.length;l++){var g=y[l];Oi(e[g],g,l,r,e,a,u)}}r.pop()}}function Gd(e,t){return e<t?-1:e>t?1:0}function Da(e,t,n,r){typeof r>"u"&&(r=$a());var s=Li(e,"",0,[],void 0,0,r)||e,a;try{Ft.length===0?a=JSON.stringify(s,t,n):a=JSON.stringify(s,Ba(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Wt.length!==0;){var u=Wt.pop();u.length===4?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function Li(e,t,n,r,s,a,u){a+=1;var l;if(typeof e=="object"&&e!==null){for(l=0;l<r.length;l++)if(r[l]===e){Zt(Pa,e,t,s);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof u.depthLimit<"u"&&a>u.depthLimit){Zt(rr,e,t,s);return}if(typeof u.edgesLimit<"u"&&n+1>u.edgesLimit){Zt(rr,e,t,s);return}if(r.push(e),Array.isArray(e))for(l=0;l<e.length;l++)Li(e[l],l,l,r,e,a,u);else{var y={},g=Object.keys(e).sort(Gd);for(l=0;l<g.length;l++){var _=g[l];Li(e[_],_,l,r,e,a,u),y[_]=e[_]}if(typeof s<"u")Wt.push([s,t,e]),s[t]=y;else return y}r.pop()}}function Ba(e){return e=typeof e<"u"?e:function(t,n){return n},function(t,n){if(Ft.length>0)for(var r=0;r<Ft.length;r++){var s=Ft[r];if(s[1]===t&&s[0]===n){n=s[2],Ft.splice(r,1);break}}return e.call(this,t,n)}}const ka=Lt(Hd);class Vd extends TypeError{constructor(t,n){let r;const{message:s,explanation:a,...u}=t,{path:l}=t,y=l.length===0?s:`At path: ${l.join(".")} -- ${s}`;super(a??y),a!=null&&(this.cause=y),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function qd(e){return tt(e)&&typeof e[Symbol.iterator]=="function"}function tt(e){return typeof e=="object"&&e!==null}function ps(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Me(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Kd(e){const{done:t,value:n}=e.next();return t?void 0:n}function Jd(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:a}=t,{type:u}=n,{refinement:l,message:y=`Expected a value of type \`${u}\`${l?` with refinement \`${l}\``:""}, but received: \`${Me(r)}\``}=e;return{value:r,type:u,refinement:l,key:s[s.length-1],path:s,branch:a,...e,message:y}}function*gs(e,t,n,r){qd(e)||(e=[e]);for(const s of e){const a=Jd(s,t,n,r);a&&(yield a)}}function*Qi(e,t,n={}){const{path:r=[],branch:s=[e],coerce:a=!1,mask:u=!1}=n,l={path:r,branch:s};if(a&&(e=t.coercer(e,l),u&&t.type!=="type"&&tt(t.schema)&&tt(e)&&!Array.isArray(e)))for(const g in e)t.schema[g]===void 0&&delete e[g];let y="valid";for(const g of t.validator(e,l))g.explanation=n.message,y="not_valid",yield[g,void 0];for(let[g,_,N]of t.entries(e,l)){const P=Qi(_,N,{path:g===void 0?r:[...r,g],branch:g===void 0?s:[...s,_],coerce:a,mask:u,message:n.message});for(const v of P)v[0]?(y=v[0].refinement===null||v[0].refinement===void 0?"not_valid":"not_refined",yield[v[0],void 0]):a&&(_=v[1],g===void 0?e=_:e instanceof Map?e.set(g,_):e instanceof Set?e.add(_):tt(e)&&(_!==void 0||g in e)&&(e[g]=_))}if(y!=="not_valid")for(const g of t.refiner(e,l))g.explanation=n.message,y="not_refined",yield[g,void 0];y==="valid"&&(yield[void 0,e])}class Oe{constructor(t){const{type:n,schema:r,validator:s,refiner:a,coercer:u=y=>y,entries:l=function*(){}}=t;this.type=n,this.schema=r,this.entries=l,this.coercer=u,s?this.validator=(y,g)=>{const _=s(y,g);return gs(_,g,this,y)}:this.validator=()=>[],a?this.refiner=(y,g)=>{const _=a(y,g);return gs(_,g,this,y)}:this.refiner=()=>[]}assert(t,n){return Fa(t,this,n)}create(t,n){return ja(t,this,n)}is(t){return pt(t,this)}mask(t,n){return Yd(t,this,n)}validate(t,n={}){return Ln(t,this,n)}}function Fa(e,t,n){const r=Ln(e,t,{message:n});if(r[0])throw r[0]}function ja(e,t,n){const r=Ln(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Yd(e,t,n){const r=Ln(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function pt(e,t){return!Ln(e,t)[0]}function Ln(e,t,n={}){const r=Qi(e,t,n),s=Kd(r);return s[0]?[new Vd(s[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,s[1]]}function $p(...e){var s;const t=((s=e[0])==null?void 0:s.type)==="type",n=e.map(({schema:a})=>a),r=Object.assign({},...n);return t?Sr(r):sn(r)}function Ke(e,t){return new Oe({type:e,schema:null,validator:t})}function Dp(e,t){return new Oe({...e,refiner:(n,r)=>n===void 0||e.refiner(n,r),validator(n,r){return n===void 0?!0:(t(n,r),e.validator(n,r))}})}function Bp(e){return new Oe({type:"dynamic",schema:null,*entries(t,n){yield*e(t,n).entries(t,n)},validator(t,n){return e(t,n).validator(t,n)},coercer(t,n){return e(t,n).coercer(t,n)},refiner(t,n){return e(t,n).refiner(t,n)}})}function ys(e){let t;return new Oe({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator(n,r){return t??(t=e()),t.validator(n,r)},coercer(n,r){return t??(t=e()),t.coercer(n,r)},refiner(n,r){return t??(t=e()),t.refiner(n,r)}})}function kp(e,t){const{schema:n}=e,r={...n};for(const s of t)delete r[s];switch(e.type){case"type":return Sr(r);default:return sn(r)}}function Fp(e){const t=e instanceof Oe,n=t?{...e.schema}:{...e};for(const r in n)n[r]=Mi(n[r]);return t&&e.type==="type"?Sr(n):sn(n)}function jp(e,t){const{schema:n}=e,r={};for(const s of t)r[s]=n[s];switch(e.type){case"type":return Sr(r);default:return sn(r)}}function zd(){return Ke("any",()=>!0)}function Ua(e){return new Oe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Me(t)}`}})}function Up(){return Ke("bigint",e=>typeof e=="bigint")}function Xd(){return Ke("boolean",e=>typeof e=="boolean")}function Wp(){return Ke("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Me(e)}`)}function Hp(e){const t={},n=e.map(r=>Me(r)).join();for(const r of e)t[r]=r;return new Oe({type:"enums",schema:t,validator(r){return e.includes(r)||`Expected one of \`${n}\`, but received: ${Me(r)}`}})}function Gp(){return Ke("func",e=>typeof e=="function"||`Expected a function, but received: ${Me(e)}`)}function Vp(e){return Ke("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Me(t)}`)}function Qd(){return Ke("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Me(e)}`)}function qp(e){return new Oe({type:"intersection",schema:null,*entries(t,n){for(const{entries:r}of e)yield*r(t,n)},*validator(t,n){for(const{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(const{refiner:r}of e)yield*r(t,n)}})}function Wa(e){const t=Me(e),n=typeof e;return new Oe({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Me(r)}`}})}function Kp(e,t){return new Oe({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,s]of n.entries())yield[r,r,e],yield[r,s,t]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${Me(n)}`}})}function Ha(){return Ke("never",()=>!1)}function Zd(e){return new Oe({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Ga(){return Ke("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Me(e)}`)}function sn(e){const t=e?Object.keys(e):[],n=Ha();return new Oe({type:"object",schema:e??null,*entries(r){if(e&&tt(r)){const s=new Set(Object.keys(r));for(const a of t)s.delete(a),yield[a,r[a],e[a]];for(const a of s)yield[a,r[a],n]}},validator(r){return tt(r)||`Expected an object, but received: ${Me(r)}`},coercer(r){return tt(r)?{...r}:r}})}function Mi(e){return new Oe({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Va(e,t){return new Oe({type:"record",schema:null,*entries(n){if(tt(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return tt(n)||`Expected an object, but received: ${Me(n)}`}})}function Jp(){return Ke("regexp",e=>e instanceof RegExp)}function Yp(e){return new Oe({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Me(t)}`}})}function Rt(){return Ke("string",e=>typeof e=="string"||`Expected a string, but received: ${Me(e)}`)}function zp(e){const t=Ha();return new Oe({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Me(n)}`}})}function Sr(e){const t=Object.keys(e);return new Oe({type:"type",schema:e,*entries(n){if(tt(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return tt(n)||`Expected an object, but received: ${Me(n)}`},coercer(n){return tt(n)?{...n}:n}})}function Ar(e){const t=e.map(n=>n.type).join(" | ");return new Oe({type:"union",schema:null,coercer(n){for(const r of e){const[s,a]=r.validate(n,{coerce:!0});if(!s)return a}return n},validator(n,r){const s=[];for(const a of e){const[...u]=Qi(n,a,r),[l]=u;if(!(l!=null&&l[0]))return[];for(const[y]of u)y&&s.push(y)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Me(n)}`,...s]}})}function qa(){return Ke("unknown",()=>!0)}function Zi(e,t,n){return new Oe({...e,coercer:(r,s)=>pt(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}function Xp(e,t,n={}){return Zi(e,qa(),r=>{const s=typeof t=="function"?t():t;if(r===void 0)return s;if(!n.strict&&ps(r)&&ps(s)){const a={...r};let u=!1;for(const l in s)a[l]===void 0&&(a[l]=s[l],u=!0);if(u)return a}return r})}function Qp(e){return Zi(e,Rt(),t=>t.trim())}class eo extends Error{constructor(t,{cause:n}={}){super(t),this.name=eo.name,n&&(this.cause=n),this.message=t}}function Zp(e){return Array.isArray(e)&&e.length>0}function eh(e){return e==null}function Tn(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}const Rr=(e,t)=>Object.hasOwnProperty.call(e,t);function eg(e){return Object.getOwnPropertyNames(e)}var gi;(function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"})(gi=gi||(gi={}));const th=/"|\\|\n|\r|\t/gu;function nh(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function rh(e){return e.charCodeAt(0)<=127}function tg(e){return e.split("").reduce((n,r)=>rh(r)?n+1:n+2,0)+(e.match(th)??[]).length}function ng(e){return e.toString().length}function ih(e){return e instanceof Error||Tn(e)&&e.constructor.name==="Error"}function oh(e){return typeof e=="object"&&e!==null&&"code"in e}function sh(e){return typeof e=="object"&&e!==null&&"message"in e}function rg(e){return typeof e=="object"&&e!==null&&"stack"in e}function ah(e){return sh(e)&&typeof e.message=="string"?e.message:eh(e)?"":String(e)}function ig(e,t){if(ih(e)){let n;return Error.length===2?n=new Error(t,{cause:e}):n=new eo(t,{cause:e}),oh(e)&&(n.code=e.code),n}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}function lh(e){var t,n;return typeof((n=(t=e==null?void 0:e.prototype)==null?void 0:t.constructor)==null?void 0:n.name)=="string"}function uh(e){return ah(e).replace(/\.$/u,"")}function Ka(e,t){return lh(e)?new e({message:t}):e({message:t})}class Ja extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}function og(e,t="Assertion failed.",n=Ja){if(!e)throw t instanceof Error?t:Ka(n,t)}function It(e,t,n="Assertion failed",r=Ja){try{Fa(e,t)}catch(s){throw Ka(r,`${n}: ${uh(s)}.`)}}function sg(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}const Mn=e=>sn(e);function bs({path:e,branch:t}){const n=e[e.length-1];return Rr(t[t.length-2],n)}function ir(e){return new Oe({...e,type:`optional ${e.type}`,validator:(t,n)=>!bs(n)||e.validator(t,n),refiner:(t,n)=>!bs(n)||e.refiner(t,n)})}const fh=()=>Ke("finite number",e=>pt(e,Ga())&&Number.isFinite(e)),or=Ar([Wa(null),Xd(),fh(),Rt(),Ua(ys(()=>or)),Va(Rt(),ys(()=>or))]),tn=Zi(or,zd(),e=>(It(e,or),JSON.parse(JSON.stringify(e,(t,n)=>{if(!(t==="__proto__"||t==="constructor"))return n}))));function Pi(e){try{return ch(e),!0}catch{return!1}}function ch(e){return ja(e,tn)}function ag(e){It(e,tn,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}const dh="2.0",Pn=Wa(dh),vr=Zd(Ar([Ga(),Rt()])),Tr=Mn({code:Qd(),message:Rt(),data:ir(tn),stack:ir(Rt())}),Ya=Ar([Va(Rt(),tn),Ua(tn)]),za=Mn({id:vr,jsonrpc:Pn,method:Rt(),params:ir(Ya)}),Xa=Mn({jsonrpc:Pn,method:Rt(),params:ir(Ya)});function lg(e){return pt(e,Xa)}function ug(e,t){It(e,Xa,"Invalid JSON-RPC notification",t)}function fg(e){return pt(e,za)}function cg(e,t){It(e,za,"Invalid JSON-RPC request",t)}const Qa=sn({id:vr,jsonrpc:Pn,result:Mi(qa()),error:Mi(Tr)}),to=Mn({id:vr,jsonrpc:Pn,result:tn}),no=Mn({id:vr,jsonrpc:Pn,error:Tr}),Za=Ar([to,no]);function dg(e){return pt(e,Qa)}function hg(e,t){It(e,Qa,"Invalid pending JSON-RPC response",t)}function pg(e){return pt(e,Za)}function gg(e,t){It(e,Za,"Invalid JSON-RPC response",t)}function yg(e){return pt(e,to)}function bg(e,t){It(e,to,"Invalid JSON-RPC success response",t)}function wg(e){return pt(e,no)}function mg(e,t){It(e,no,"Invalid JSON-RPC failure response",t)}function el(e){return pt(e,Tr)}function _g(e,t){It(e,Tr,"Invalid JSON-RPC error",t)}function Eg(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return a=>!!(typeof a=="number"&&(n||Number.isInteger(a))||typeof a=="string"&&(t||a.length>0)||r&&a===null)}const De={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},ws={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},ms=De.rpc.internal,hh="Unspecified error message. This is a bug, please report it.",ph={code:ms,message:ro(ms)},gh="Unspecified server error.";function ro(e,t=hh){if(yh(e)){const n=e.toString();if(Rr(ws,n))return ws[n].message;if(wh(e))return gh}return t}function yh(e){return Number.isInteger(e)}function $i(e,{fallbackError:t=ph,shouldIncludeStack:n=!0}={}){if(!el(t))throw new Error("Must provide fallback error with integer number code and string message.");const r=bh(e,t);return n||delete r.stack,r}function bh(e,t){if(e&&typeof e=="object"&&"serialize"in e&&typeof e.serialize=="function")return e.serialize();if(el(e))return e;const n=tl(e);return{...t,data:{cause:n}}}function wh(e){return e>=-32099&&e<=-32e3}function tl(e){return Array.isArray(e)?e.map(t=>Pi(t)?t:Tn(t)?_s(t):null):Tn(e)?_s(e):Pi(e)?e:null}function _s(e){return Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return Pi(r)&&(t[n]=r),t},{})}function mh(e){return Tn(e)&&Rr(e,"cause")&&Tn(e.cause)}function _h(e){return e!=null&&e.__esModule?e.default:e}const Eh=_h(ka);class nl extends Error{constructor(t,n,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');mh(r)?(super(n,{cause:r.cause}),Rr(this,"cause")||Object.assign(this,{cause:r.cause})):super(n),r!==void 0&&(this.data=r),this.code=t}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,nh(this.data)&&(t.data.cause=tl(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return Eh(this.serialize(),Ah,2)}}class rl extends nl{constructor(t,n,r){if(!Sh(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,n,r)}}function Sh(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Ah(e,t){if(t!=="[Circular]")return t}const Rh={parse:e=>Qe(De.rpc.parse,e),invalidRequest:e=>Qe(De.rpc.invalidRequest,e),invalidParams:e=>Qe(De.rpc.invalidParams,e),methodNotFound:e=>Qe(De.rpc.methodNotFound,e),internal:e=>Qe(De.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Qe(t,e)},invalidInput:e=>Qe(De.rpc.invalidInput,e),resourceNotFound:e=>Qe(De.rpc.resourceNotFound,e),resourceUnavailable:e=>Qe(De.rpc.resourceUnavailable,e),transactionRejected:e=>Qe(De.rpc.transactionRejected,e),methodNotSupported:e=>Qe(De.rpc.methodNotSupported,e),limitExceeded:e=>Qe(De.rpc.limitExceeded,e)},Sg={userRejectedRequest:e=>bn(De.provider.userRejectedRequest,e),unauthorized:e=>bn(De.provider.unauthorized,e),unsupportedMethod:e=>bn(De.provider.unsupportedMethod,e),disconnected:e=>bn(De.provider.disconnected,e),chainDisconnected:e=>bn(De.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new rl(t,n,r)}};function Qe(e,t){const[n,r]=il(t);return new nl(e,n??ro(e),r)}function bn(e,t){const[n,r]=il(t);return new rl(e,n??ro(e),r)}function il(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}var io={exports:{}},vh=ol;function ol(e,t){if(e&&t)return ol(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(r){n[r]=e[r]}),n;function n(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];var a=e.apply(this,r),u=r[r.length-1];return typeof a=="function"&&a!==u&&Object.keys(u).forEach(function(l){a[l]=u[l]}),a}}var sl=vh;io.exports=sl(Qn);io.exports.strict=sl(al);Qn.proto=Qn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Qn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return al(this)},configurable:!0})});function Qn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function al(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var oo=io.exports;const Th=Lt(oo);var xh=oo,Ih=function(){},Nh=function(e){return e.setHeader&&typeof e.abort=="function"},Ch=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},ll=function(e,t,n){if(typeof t=="function")return ll(e,null,t);t||(t={}),n=xh(n||Ih);var r=e._writableState,s=e._readableState,a=t.readable||t.readable!==!1&&e.readable,u=t.writable||t.writable!==!1&&e.writable,l=!1,y=function(){e.writable||g()},g=function(){u=!1,a||n.call(e)},_=function(){a=!1,u||n.call(e)},N=function(I){n.call(e,I?new Error("exited with error code: "+I):null)},P=function(I){n.call(e,I)},v=function(){process.nextTick(B)},B=function(){if(!l){if(a&&!(s&&s.ended&&!s.destroyed))return n.call(e,new Error("premature close"));if(u&&!(r&&r.ended&&!r.destroyed))return n.call(e,new Error("premature close"))}},A=function(){e.req.on("finish",g)};return Nh(e)?(e.on("complete",g),e.on("abort",v),e.req?A():e.on("request",A)):u&&!r&&(e.on("end",y),e.on("close",y)),Ch(e)&&e.on("exit",N),e.on("end",_),e.on("finish",g),t.error!==!1&&e.on("error",P),e.on("close",v),function(){l=!0,e.removeListener("complete",g),e.removeListener("abort",v),e.removeListener("request",A),e.req&&e.req.removeListener("finish",g),e.removeListener("end",y),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("exit",N),e.removeListener("end",_),e.removeListener("error",P),e.removeListener("close",v)}},ul=ll;const Es=Lt(ul),Oh={},Lh=Object.freeze(Object.defineProperty({__proto__:null,default:Oh},Symbol.toStringTag,{value:"Module"})),Mh=ru(Lh);var Ph=oo,$h=ul,Zn;try{Zn=Mh}catch{}var xn=function(){},Dh=/^v?\.0/.test(process.version),xr=function(e){return typeof e=="function"},Bh=function(e){return!Dh||!Zn?!1:(e instanceof(Zn.ReadStream||xn)||e instanceof(Zn.WriteStream||xn))&&xr(e.close)},kh=function(e){return e.setHeader&&xr(e.abort)},Fh=function(e,t,n,r){r=Ph(r);var s=!1;e.on("close",function(){s=!0}),$h(e,{readable:t,writable:n},function(u){if(u)return r(u);s=!0,r()});var a=!1;return function(u){if(!s&&!a){if(a=!0,Bh(e))return e.close(xn);if(kh(e))return e.abort();if(xr(e.destroy))return e.destroy();r(u||new Error("stream was destroyed"))}}},Ss=function(e){e()},jh=function(e,t){return e.pipe(t)},Uh=function(){var e=Array.prototype.slice.call(arguments),t=xr(e[e.length-1]||xn)&&e.pop()||xn;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var n,r=e.map(function(s,a){var u=a<e.length-1,l=a>0;return Fh(s,u,l,function(y){n||(n=y),y&&r.forEach(Ss),!u&&(r.forEach(Ss),t(n))})});return e.reduce(jh)},Wh=Uh;const Hh=Lt(Wh);function Jn(){}const As="SYN",yi="ACK",Rs="BRK";class Ag extends Er.Duplex{constructor(t){let{name:n,target:r,targetWindow:s=window,targetOrigin:a="*"}=t;if(super({objectMode:!0}),z(this,"_init",void 0),z(this,"_haveSyn",void 0),z(this,"_name",void 0),z(this,"_target",void 0),z(this,"_targetWindow",void 0),z(this,"_targetOrigin",void 0),z(this,"_onMessage",void 0),z(this,"_synIntervalId",void 0),!n||!r)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=n,this._target=r,this._targetWindow=s,this._targetOrigin=a,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(Rs,null,Jn),this._haveSyn=!1,this._init=!1}_handShake(){this._write(As,null,Jn),this.cork()}_onData(t){if(!this._init)t===As?(this._haveSyn=!0,this._write(yi,null,Jn)):t===yi&&(this._init=!0,this._haveSyn||this._write(yi,null,Jn),this.uncork());else if(t===Rs)this._break();else try{this.push(t)}catch(n){this.emit("error",n)}}_postMessage(t){const n=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:t},n)}onMessage(t){const n=t.data;this._targetOrigin!=="*"&&t.origin!==this._targetOrigin||t.source!==this._targetWindow||typeof n!="object"||n.target!==this._name||!n.data||this._onData(n.data)}_read(){}_write(t,n,r){this._postMessage(t),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function vs(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout(()=>{throw r})}}function Gh(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}class Ir extends nn.EventEmitter{emit(t){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];if(n){let y;if(a.length>0&&([y]=a),y instanceof Error)throw y;const g=new Error(`Unhandled error.${y?` (${y.message})`:""}`);throw g.context=y,g}const l=r[t];if(l===void 0)return!1;if(typeof l=="function")vs(l,this,a);else{const y=l.length,g=Gh(l);for(let _=0;_<y;_+=1)vs(g[_],this,a)}return!0}}class wn extends Error{constructor(t){let{code:n,message:r,data:s}=t;if(!Number.isInteger(n))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),z(this,"code",void 0),z(this,"data",void 0),this.code=n,s!==void 0&&(this.data=s)}toString(){return ka({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function Rg(){const e={};function t(){return!1}const n=new Ir;function r(y){const g=e[y.id];if(!g)throw new Error(`StreamMiddleware - Unknown response id "${y.id}"`);delete e[y.id],Object.assign(g.res,y),setTimeout(g.end)}function s(y){n.emit("notification",y)}function a(y,g,_){let N;try{!y.id?s(y):r(y)}catch(P){N=P}_(N)}const u=new Er.Duplex({objectMode:!0,read:t,write:a});return{events:n,middleware:(y,g,_,N)=>{u.push(y),e[y.id]={req:y,res:g,next:_,end:N}},stream:u}}function vg(e){return(t,n,r,s)=>{const a=e[t.method];return a===void 0?r():typeof a=="function"?a(t,n,r,s):(n.result=a,s())}}function Tg(){return(e,t,n,r)=>{const s=e.id,a=Math.random().toString(36).slice(2);e.id=a,t.id=a,n(u=>{e.id=s,t.id=s,u()})}}function xg(e){return async(t,n,r,s)=>{let a;const u=new Promise(_=>{a=_});let l=null,y=!1;const g=async()=>{y=!0,r(_=>{l=_,a()}),await u};try{await e(t,n,g),y?(await u,l(null)):s(null)}catch(_){const N=_;l?l(N):s(N)}}}class _t extends Ir{constructor(){super(),z(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(t,n,r){const s=[];let a=null,u=!1;for(const l of r)if([a,u]=await _t._runMiddleware(t,n,l,s),u)break;return[a,u,s.reverse()]}static _runMiddleware(t,n,r,s){return new Promise(a=>{const u=y=>{const g=y||n.error;g&&(Object.keys(g).includes("stack")===!1&&(g.stack="Stack trace is not available."),n.error=$i(g,{shouldIncludeStack:!0,fallbackError:{message:(g==null?void 0:g.message)||(g==null?void 0:g.toString()),code:(g==null?void 0:g.code)||-32603,stack:g==null?void 0:g.stack,data:(g==null?void 0:g.data)||(g==null?void 0:g.message)||(g==null?void 0:g.toString())}})),a([g,!0])},l=y=>{n.error?u(n.error):(y&&(typeof y!="function"&&u(new wn({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),s.push(y)),a([null,!1]))};try{r(t,n,l,u)}catch(y){u(y)}})}static async _runReturnHandlers(t){for(const n of t)await new Promise((r,s)=>{n(a=>a?s(a):r())})}static _checkForCompletion(t,n,r){if(!("result"in n)&&!("error"in n))throw new wn({code:-32603,message:"Response has no error or result for request"});if(!r)throw new wn({code:-32603,message:"Nothing ended request"})}push(t){this._middleware.push(t)}handle(t,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?n?this._handleBatch(t,n):this._handleBatch(t):n?this._handle(t,n):this._promiseHandle(t)}asMiddleware(){return async(t,n,r,s)=>{try{const[a,u,l]=await _t._runAllMiddleware(t,n,this._middleware);return u?(await _t._runReturnHandlers(l),s(a)):r(async y=>{try{await _t._runReturnHandlers(l)}catch(g){return y(g)}return y()})}catch(a){return s(a)}}}async _handleBatch(t,n){try{const r=await Promise.all(t.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(t){return new Promise((n,r)=>{this._handle(t,(s,a)=>{s&&a===void 0?r(s):n(a)}).catch(r)})}async _handle(t,n){if(!t||Array.isArray(t)||typeof t!="object"){const v=new wn({code:-32603,message:"request must be plain object"});return n(v,{id:void 0,jsonrpc:"2.0",error:v})}if(typeof t.method!="string"){const v=new wn({code:-32603,message:"method must be string"});return n(v,{id:t.id,jsonrpc:"2.0",error:v})}const r=ye({},t),s={id:r.id,jsonrpc:r.jsonrpc};let a=null;try{await this._processRequest(r,s)}catch(v){a=v}if(a&&(delete s.result,!s.error)){var u,l,y,g,_,N,P;Object.keys(a).includes("stack")===!1&&(a.stack="Stack trace is not available."),s.error=$i(a,{shouldIncludeStack:!0,fallbackError:{message:((u=a)===null||u===void 0?void 0:u.message)||((l=a)===null||l===void 0?void 0:l.toString()),code:((y=a)===null||y===void 0?void 0:y.code)||-32603,stack:(g=a)===null||g===void 0?void 0:g.stack,data:((_=a)===null||_===void 0?void 0:_.data)||((N=a)===null||N===void 0?void 0:N.message)||((P=a)===null||P===void 0?void 0:P.toString())}})}return n(a,s)}async _processRequest(t,n){const[r,s,a]=await _t._runAllMiddleware(t,n,this._middleware);if(_t._checkForCompletion(t,n,s),await _t._runReturnHandlers(a),r)throw r}}function Ig(e){const t=new _t;return e.forEach(n=>t.push(n)),t.asMiddleware()}function Ng(e){const t=new Ir;return t.sendAsync=async n=>{const r=await e.handle(n);if(r.error){var s,a,u,l,y,g,_;Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available.");const N=$i(r.error,{fallbackError:{message:((s=r.error)===null||s===void 0?void 0:s.message)||((a=r.error)===null||a===void 0?void 0:a.toString()),code:((u=r.error)===null||u===void 0?void 0:u.code)||-32603,stack:(l=r.error)===null||l===void 0?void 0:l.stack,data:((y=r.error)===null||y===void 0?void 0:y.data)||((g=r.error)===null||g===void 0?void 0:g.message)||((_=r.error)===null||_===void 0?void 0:_.toString())},shouldIncludeStack:!0});throw Rh.internal(N)}return r.result},t.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');e.handle(n,r)},e.on&&e.on("notification",n=>{t.emit("data",null,n)}),t.request=async n=>{const r=ye(ye({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await t.sendAsync(r)},t}class Vh extends Er.Duplex{constructor(t){let{parent:n,name:r}=t;super({objectMode:!0}),z(this,"_parent",void 0),z(this,"_name",void 0),this._parent=n,this._name=r}_read(){}_write(t,n,r){this._parent.push({name:this._name,data:t}),r()}}const Ts=Symbol("IGNORE_SUBSTREAM");class qh extends Er.Duplex{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(ye(ye({},t),{},{objectMode:!0})),z(this,"_substreams",void 0),z(this,"getStream",void 0),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const n=new Vh({parent:this,name:t});return this._substreams[t]=n,Kh(this,r=>n.destroy(r||void 0)),n}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=Ts}_read(){}_write(t,n,r){const{name:s,data:a}=t;if(!s)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),r();const u=this._substreams[s];return u?(u!==Ts&&u.push(a),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${s}"`),r())}}function Kh(e,t){const n=Th(t);Es(e,{readable:!1},n),Es(e,{writable:!1},n)}function Cg(e){const t=new qh;return t.getStream=function(r){return this._substreams[r]?this._substreams[r]:this.createStream(r)},Hh(e,t,e,n=>{n&&window.console.error(n)}),t}var fl={exports:{}},so={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});function Jh(e){var t=4,n=e.length,r=n%t;if(!r)return e;var s=n,a=t-r,u=n+a,l=Buffer.alloc(u);for(l.write(e);a--;)l.write("=",s++);return l.toString()}ao.default=Jh;Object.defineProperty(so,"__esModule",{value:!0});var Yh=ao;function cl(e,t){return t===void 0&&(t="utf8"),Buffer.isBuffer(e)?Di(e.toString("base64")):Di(Buffer.from(e,t).toString("base64"))}function zh(e,t){return t===void 0&&(t="utf8"),Buffer.from(lo(e),"base64").toString(t)}function lo(e){return e=e.toString(),Yh.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Di(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xh(e){return Buffer.from(lo(e),"base64")}var an=cl;an.encode=cl;an.decode=zh;an.toBase64=lo;an.fromBase64=Di;an.toBuffer=Xh;so.default=an;(function(e){e.exports=so.default,e.exports.default=e.exports})(fl);var Qh=fl.exports;const Zh=Lt(Qh),be={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Ot={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};be.MAINNET+"",be.TESTNET+"",be.CYAN+"",be.AQUA+"",be.CELESTE+"";be.AQUA+"",Ot.SAPPHIRE_MAINNET,be.CELESTE+"",Ot.SAPPHIRE_MAINNET,be.CYAN+"",Ot.SAPPHIRE_MAINNET,be.MAINNET+"",Ot.SAPPHIRE_MAINNET,be.TESTNET+"",Ot.SAPPHIRE_DEVNET;be.MAINNET+"",be.TESTNET+"",be.CYAN+"",be.AQUA+"",be.CELESTE+"";Ot.SAPPHIRE_MAINNET+"",Ot.SAPPHIRE_DEVNET+"",be.MAINNET+"",be.TESTNET+"",be.CYAN+"",be.AQUA+"",be.CELESTE+"";be.MAINNET+"",be.TESTNET+"",be.CYAN+"",be.AQUA+"",be.CELESTE+"";const Nr=Zh;function Og(e){return Nr.encode(e)}function Lg(e){return Nr.decode(e)}function Mg(e){return JSON.parse(Nr.decode(e))}function Pg(e){return Nr.encode(JSON.stringify(e))}function xs(e){let t=!1,n=0,r;try{r=window[e],t=!0,n=r.length;const s="__storage_test__";return r.setItem(s,s),r.removeItem(s),!0}catch(s){const a=s;return a&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&n!==0}}class ep{constructor(){z(this,"store",new Map)}getItem(t){return this.store.get(t)||null}setItem(t,n){this.store.set(t,n)}removeItem(t){this.store.delete(t)}}class tp{constructor(t,n){z(this,"storage",void 0),z(this,"_storeKey",void 0),this.storage=n,this._storeKey=t;try{n.getItem(t)||this.resetStore()}catch{}}static getInstance(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local";if(!this.instanceMap.has(t)){let r;n==="local"&&xs("localStorage")?r=window.localStorage:n==="session"&&xs("sessionStorage")?r=window.sessionStorage:r=new ep,this.instanceMap.set(t,new this(t,r))}return this.instanceMap.get(t)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const t=this.getStore();return this.storage.removeItem(this._storeKey),t}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(t){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[t]}set(t,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[t]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}z(tp,"instanceMap",new Map);const $g="openlogin_store",Dg={POPUP:"popup",REDIRECT:"redirect"},uo=ye(ye({},Ot),be),Bg={SECP256K1:"secp256k1",ED25519:"ed25519"},kg={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt"},Fg={DEFAULT:"default",OPTIONAL:"optional",MANDATORY:"mandatory",NONE:"none"},jg={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",MODIFY_SOCIAL_FACTOR:"modify_social_factor"},Ug={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Wg={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},Hg={light:"light",dark:"dark",auto:"auto"},Gg={DEVICE:"deviceShareFactor",BACKUP_SHARE:"backUpShareFactor",SOCIAL_BACKUP:"socialBackupFactor",PASSWORD:"passwordFactor",AUTHENTICATOR:"authenticatorFactor"};function np(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function rp(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var ip=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),op=function(e){ip(t,e);function t(n,r){var s=this.constructor,a=e.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1,configurable:!0}),np(a,s.prototype),rp(a),a}return t}(Error),sr={exports:{}};sr.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",s=800,a=16,u=9007199254740991,l="[object Arguments]",y="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",N="[object Date]",P="[object Error]",v="[object Function]",B="[object GeneratorFunction]",A="[object Map]",I="[object Number]",O="[object Null]",F="[object Object]",x="[object Proxy]",Q="[object RegExp]",G="[object Set]",fe="[object String]",Ne="[object Undefined]",se="[object WeakMap]",oe="[object ArrayBuffer]",xe="[object DataView]",K="[object Float32Array]",V="[object Float64Array]",L="[object Int8Array]",ee="[object Int16Array]",Y="[object Int32Array]",X="[object Uint8Array]",we="[object Uint8ClampedArray]",me="[object Uint16Array]",he="[object Uint32Array]",_e=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,D={};D[K]=D[V]=D[L]=D[ee]=D[Y]=D[X]=D[we]=D[me]=D[he]=!0,D[l]=D[y]=D[oe]=D[_]=D[xe]=D[N]=D[P]=D[v]=D[A]=D[I]=D[F]=D[Q]=D[G]=D[fe]=D[se]=!1;var Ee=typeof mn=="object"&&mn&&mn.Object===Object&&mn,Fe=typeof self=="object"&&self&&self.Object===Object&&self,je=Ee||Fe||Function("return this")(),Je=t&&!t.nodeType&&t,Le=Je&&!0&&e&&!e.nodeType&&e,Ye=Le&&Le.exports===Je,it=Ye&&Ee.process,ot=function(){try{var h=Le&&Le.require&&Le.require("util").types;return h||it&&it.binding&&it.binding("util")}catch{}}(),ze=ot&&ot.isTypedArray;function m(h,w,R){switch(R.length){case 0:return h.call(w);case 1:return h.call(w,R[0]);case 2:return h.call(w,R[0],R[1]);case 3:return h.call(w,R[0],R[1],R[2])}return h.apply(w,R)}function E(h,w){for(var R=-1,k=Array(h);++R<h;)k[R]=w(R);return k}function C(h){return function(w){return h(w)}}function W(h,w){return h==null?void 0:h[w]}function j(h,w){return function(R){return h(w(R))}}var ae=Array.prototype,ce=Function.prototype,te=Object.prototype,Pe=je["__core-js_shared__"],H=ce.toString,Te=te.hasOwnProperty,Nt=function(){var h=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ge=te.toString,ln=H.call(Object),f=RegExp("^"+H.call(Te).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),i=Ye?je.Buffer:void 0,o=je.Symbol,d=je.Uint8Array,b=i?i.allocUnsafe:void 0,S=j(Object.getPrototypeOf,Object),T=Object.create,J=te.propertyIsEnumerable,ge=ae.splice,ne=o?o.toStringTag:void 0,le=function(){try{var h=Ur(Object,"defineProperty");return h({},"",{}),h}catch{}}(),ie=i?i.isBuffer:void 0,un=Math.max,Dr=Date.now,fn=Ur(je,"Map"),gt=Ur(Object,"create"),Br=function(){function h(){}return function(w){if(!$t(w))return{};if(T)return T(w);h.prototype=w;var R=new h;return h.prototype=void 0,R}}();function yt(h){var w=-1,R=h==null?0:h.length;for(this.clear();++w<R;){var k=h[w];this.set(k[0],k[1])}}function cn(){this.__data__=gt?gt(null):{},this.size=0}function Dn(h){var w=this.has(h)&&delete this.__data__[h];return this.size-=w?1:0,w}function c(h){var w=this.__data__;if(gt){var R=w[h];return R===r?void 0:R}return Te.call(w,h)?w[h]:void 0}function p(h){var w=this.__data__;return gt?w[h]!==void 0:Te.call(w,h)}function $(h,w){var R=this.__data__;return this.size+=this.has(h)?0:1,R[h]=gt&&w===void 0?r:w,this}yt.prototype.clear=cn,yt.prototype.delete=Dn,yt.prototype.get=c,yt.prototype.has=p,yt.prototype.set=$;function M(h){var w=-1,R=h==null?0:h.length;for(this.clear();++w<R;){var k=h[w];this.set(k[0],k[1])}}function U(){this.__data__=[],this.size=0}function $e(h){var w=this.__data__,R=jn(w,h);if(R<0)return!1;var k=w.length-1;return R==k?w.pop():ge.call(w,R,1),--this.size,!0}function We(h){var w=this.__data__,R=jn(w,h);return R<0?void 0:w[R][1]}function Bn(h){return jn(this.__data__,h)>-1}function bt(h,w){var R=this.__data__,k=jn(R,h);return k<0?(++this.size,R.push([h,w])):R[k][1]=w,this}M.prototype.clear=U,M.prototype.delete=$e,M.prototype.get=We,M.prototype.has=Bn,M.prototype.set=bt;function wt(h){var w=-1,R=h==null?0:h.length;for(this.clear();++w<R;){var k=h[w];this.set(k[0],k[1])}}function kr(){this.size=0,this.__data__={hash:new yt,map:new(fn||M),string:new yt}}function kn(h){var w=Wn(this,h).delete(h);return this.size-=w?1:0,w}function Fn(h){return Wn(this,h).get(h)}function dn(h){return Wn(this,h).has(h)}function hn(h,w){var R=Wn(this,h),k=R.size;return R.set(h,w),this.size+=R.size==k?0:1,this}wt.prototype.clear=kr,wt.prototype.delete=kn,wt.prototype.get=Fn,wt.prototype.has=dn,wt.prototype.set=hn;function st(h){var w=this.__data__=new M(h);this.size=w.size}function Pt(){this.__data__=new M,this.size=0}function mt(h){var w=this.__data__,R=w.delete(h);return this.size=w.size,R}function rt(h){return this.__data__.get(h)}function Sl(h){return this.__data__.has(h)}function Al(h,w){var R=this.__data__;if(R instanceof M){var k=R.__data__;if(!fn||k.length<n-1)return k.push([h,w]),this.size=++R.size,this;R=this.__data__=new wt(k)}return R.set(h,w),this.size=R.size,this}st.prototype.clear=Pt,st.prototype.delete=mt,st.prototype.get=rt,st.prototype.has=Sl,st.prototype.set=Al;function Rl(h,w){var R=Gr(h),k=!R&&Hr(h),re=!R&&!k&&yo(h),de=!R&&!k&&!re&&wo(h),Ae=R||k||re||de,Z=Ae?E(h.length,String):[],Re=Z.length;for(var Xe in h)(w||Te.call(h,Xe))&&!(Ae&&(Xe=="length"||re&&(Xe=="offset"||Xe=="parent")||de&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||po(Xe,Re)))&&Z.push(Xe);return Z}function Fr(h,w,R){(R!==void 0&&!Hn(h[w],R)||R===void 0&&!(w in h))&&jr(h,w,R)}function vl(h,w,R){var k=h[w];(!(Te.call(h,w)&&Hn(k,R))||R===void 0&&!(w in h))&&jr(h,w,R)}function jn(h,w){for(var R=h.length;R--;)if(Hn(h[R][0],w))return R;return-1}function jr(h,w,R){w=="__proto__"&&le?le(h,w,{configurable:!0,enumerable:!0,value:R,writable:!0}):h[w]=R}var Tl=Fl();function Un(h){return h==null?h===void 0?Ne:O:ne&&ne in Object(h)?jl(h):ql(h)}function co(h){return pn(h)&&Un(h)==l}function xl(h){if(!$t(h)||Gl(h))return!1;var w=qr(h)?f:q;return w.test(zl(h))}function Il(h){return pn(h)&&bo(h.length)&&!!D[Un(h)]}function Nl(h){if(!$t(h))return Vl(h);var w=go(h),R=[];for(var k in h)k=="constructor"&&(w||!Te.call(h,k))||R.push(k);return R}function ho(h,w,R,k,re){h!==w&&Tl(w,function(de,Ae){if(re||(re=new st),$t(de))Cl(h,w,Ae,R,ho,k,re);else{var Z=k?k(Wr(h,Ae),de,Ae+"",h,w,re):void 0;Z===void 0&&(Z=de),Fr(h,Ae,Z)}},mo)}function Cl(h,w,R,k,re,de,Ae){var Z=Wr(h,R),Re=Wr(w,R),Xe=Ae.get(Re);if(Xe){Fr(h,R,Xe);return}var Ve=de?de(Z,Re,R+"",h,w,Ae):void 0,gn=Ve===void 0;if(gn){var Kr=Gr(Re),Jr=!Kr&&yo(Re),Eo=!Kr&&!Jr&&wo(Re);Ve=Re,Kr||Jr||Eo?Gr(Z)?Ve=Z:Xl(Z)?Ve=Dl(Z):Jr?(gn=!1,Ve=Ml(Re,!0)):Eo?(gn=!1,Ve=$l(Re,!0)):Ve=[]:Ql(Re)||Hr(Re)?(Ve=Z,Hr(Z)?Ve=Zl(Z):(!$t(Z)||qr(Z))&&(Ve=Ul(Re))):gn=!1}gn&&(Ae.set(Re,Ve),re(Ve,Re,k,de,Ae),Ae.delete(Re)),Fr(h,R,Ve)}function Ol(h,w){return Jl(Kl(h,w,_o),h+"")}var Ll=le?function(h,w){return le(h,"toString",{configurable:!0,enumerable:!1,value:tu(w),writable:!0})}:_o;function Ml(h,w){if(w)return h.slice();var R=h.length,k=b?b(R):new h.constructor(R);return h.copy(k),k}function Pl(h){var w=new h.constructor(h.byteLength);return new d(w).set(new d(h)),w}function $l(h,w){var R=w?Pl(h.buffer):h.buffer;return new h.constructor(R,h.byteOffset,h.length)}function Dl(h,w){var R=-1,k=h.length;for(w||(w=Array(k));++R<k;)w[R]=h[R];return w}function Bl(h,w,R,k){var re=!R;R||(R={});for(var de=-1,Ae=w.length;++de<Ae;){var Z=w[de],Re=k?k(R[Z],h[Z],Z,R,h):void 0;Re===void 0&&(Re=h[Z]),re?jr(R,Z,Re):vl(R,Z,Re)}return R}function kl(h){return Ol(function(w,R){var k=-1,re=R.length,de=re>1?R[re-1]:void 0,Ae=re>2?R[2]:void 0;for(de=h.length>3&&typeof de=="function"?(re--,de):void 0,Ae&&Wl(R[0],R[1],Ae)&&(de=re<3?void 0:de,re=1),w=Object(w);++k<re;){var Z=R[k];Z&&h(w,Z,k,de)}return w})}function Fl(h){return function(w,R,k){for(var re=-1,de=Object(w),Ae=k(w),Z=Ae.length;Z--;){var Re=Ae[h?Z:++re];if(R(de[Re],Re,de)===!1)break}return w}}function Wn(h,w){var R=h.__data__;return Hl(w)?R[typeof w=="string"?"string":"hash"]:R.map}function Ur(h,w){var R=W(h,w);return xl(R)?R:void 0}function jl(h){var w=Te.call(h,ne),R=h[ne];try{h[ne]=void 0;var k=!0}catch{}var re=Ge.call(h);return k&&(w?h[ne]=R:delete h[ne]),re}function Ul(h){return typeof h.constructor=="function"&&!go(h)?Br(S(h)):{}}function po(h,w){var R=typeof h;return w=w??u,!!w&&(R=="number"||R!="symbol"&&pe.test(h))&&h>-1&&h%1==0&&h<w}function Wl(h,w,R){if(!$t(R))return!1;var k=typeof w;return(k=="number"?Vr(R)&&po(w,R.length):k=="string"&&w in R)?Hn(R[w],h):!1}function Hl(h){var w=typeof h;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?h!=="__proto__":h===null}function Gl(h){return!!Nt&&Nt in h}function go(h){var w=h&&h.constructor,R=typeof w=="function"&&w.prototype||te;return h===R}function Vl(h){var w=[];if(h!=null)for(var R in Object(h))w.push(R);return w}function ql(h){return Ge.call(h)}function Kl(h,w,R){return w=un(w===void 0?h.length-1:w,0),function(){for(var k=arguments,re=-1,de=un(k.length-w,0),Ae=Array(de);++re<de;)Ae[re]=k[w+re];re=-1;for(var Z=Array(w+1);++re<w;)Z[re]=k[re];return Z[w]=R(Ae),m(h,this,Z)}}function Wr(h,w){if(!(w==="constructor"&&typeof h[w]=="function")&&w!="__proto__")return h[w]}var Jl=Yl(Ll);function Yl(h){var w=0,R=0;return function(){var k=Dr(),re=a-(k-R);if(R=k,re>0){if(++w>=s)return arguments[0]}else w=0;return h.apply(void 0,arguments)}}function zl(h){if(h!=null){try{return H.call(h)}catch{}try{return h+""}catch{}}return""}function Hn(h,w){return h===w||h!==h&&w!==w}var Hr=co(function(){return arguments}())?co:function(h){return pn(h)&&Te.call(h,"callee")&&!J.call(h,"callee")},Gr=Array.isArray;function Vr(h){return h!=null&&bo(h.length)&&!qr(h)}function Xl(h){return pn(h)&&Vr(h)}var yo=ie||nu;function qr(h){if(!$t(h))return!1;var w=Un(h);return w==v||w==B||w==g||w==x}function bo(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=u}function $t(h){var w=typeof h;return h!=null&&(w=="object"||w=="function")}function pn(h){return h!=null&&typeof h=="object"}function Ql(h){if(!pn(h)||Un(h)!=F)return!1;var w=S(h);if(w===null)return!0;var R=Te.call(w,"constructor")&&w.constructor;return typeof R=="function"&&R instanceof R&&H.call(R)==ln}var wo=ze?C(ze):Il;function Zl(h){return Bl(h,mo(h))}function mo(h){return Vr(h)?Rl(h,!0):Nl(h)}var eu=kl(function(h,w,R){ho(h,w,R)});function tu(h){return function(){return h}}function _o(h){return h}function nu(){return!1}e.exports=eu})(sr,sr.exports);var sp=sr.exports;const Cr=Lt(sp);var dl={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(mn,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],a={},u=null;function l(A,I){var O=A[I];if(typeof O.bind=="function")return O.bind(A);try{return Function.prototype.bind.call(O,A)}catch{return function(){return Function.prototype.apply.apply(O,[A,arguments])}}}function y(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function g(A){return A==="debug"&&(A="log"),typeof console===n?!1:A==="trace"&&r?y:console[A]!==void 0?l(console,A):console.log!==void 0?l(console,"log"):t}function _(){for(var A=this.getLevel(),I=0;I<s.length;I++){var O=s[I];this[O]=I<A?t:this.methodFactory(O,A,this.name)}if(this.log=this.debug,typeof console===n&&A<this.levels.SILENT)return"No console available for logging"}function N(A){return function(){typeof console!==n&&(_.call(this),this[A].apply(this,arguments))}}function P(A,I,O){return g(A)||N.apply(this,arguments)}function v(A,I){var O=this,F,x,Q,G="loglevel";typeof A=="string"?G+=":"+A:typeof A=="symbol"&&(G=void 0);function fe(K){var V=(s[K]||"silent").toUpperCase();if(!(typeof window===n||!G)){try{window.localStorage[G]=V;return}catch{}try{window.document.cookie=encodeURIComponent(G)+"="+V+";"}catch{}}}function Ne(){var K;if(!(typeof window===n||!G)){try{K=window.localStorage[G]}catch{}if(typeof K===n)try{var V=window.document.cookie,L=encodeURIComponent(G),ee=V.indexOf(L+"=");ee!==-1&&(K=/^([^;]+)/.exec(V.slice(ee+L.length+1))[1])}catch{}return O.levels[K]===void 0&&(K=void 0),K}}function se(){if(!(typeof window===n||!G)){try{window.localStorage.removeItem(G)}catch{}try{window.document.cookie=encodeURIComponent(G)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function oe(K){var V=K;if(typeof V=="string"&&O.levels[V.toUpperCase()]!==void 0&&(V=O.levels[V.toUpperCase()]),typeof V=="number"&&V>=0&&V<=O.levels.SILENT)return V;throw new TypeError("log.setLevel() called with invalid level: "+K)}O.name=A,O.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},O.methodFactory=I||P,O.getLevel=function(){return Q??x??F},O.setLevel=function(K,V){return Q=oe(K),V!==!1&&fe(Q),_.call(O)},O.setDefaultLevel=function(K){x=oe(K),Ne()||O.setLevel(K,!1)},O.resetLevel=function(){Q=null,se(),_.call(O)},O.enableAll=function(K){O.setLevel(O.levels.TRACE,K)},O.disableAll=function(K){O.setLevel(O.levels.SILENT,K)},O.rebuild=function(){if(u!==O&&(F=oe(u.getLevel())),_.call(O),u===O)for(var K in a)a[K].rebuild()},F=oe(u?u.getLevel():"WARN");var xe=Ne();xe!=null&&(Q=oe(xe)),_.call(O)}u=new v,u.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var O=a[I];return O||(O=a[I]=new v(I,u.methodFactory)),O};var B=typeof window!==n?window.log:void 0;return u.noConflict=function(){return typeof window!==n&&window.log===u&&(window.log=B),u},u.getLoggers=function(){return a},u.default=u,u})})(dl);var hl=dl.exports;const pl=Lt(hl),ar=pl.getLogger("http-helpers");ar.setLevel(hl.levels.INFO);let Bi="torus-default";const ap="x-api-key";function Vg(e){Bi=e}async function Or(e,t){let n=null;try{n=new URL(e)}catch{}return fetch(e,t)}function Lr(){const e={};return Bi&&(e[ap]=Bi),e}function Mr(e){ar.info(`Response: ${e.status} ${e.statusText}`),ar.info(`Url: ${e.url}`)}function lp(e){const t=e.headers.get("x-web3-correlation-id");t&&ar.info(`Request tracing with traceID = ${t}`)}const up=async(e,t)=>{let n=null;try{const r=new Promise((a,u)=>{n=setTimeout(()=>{u(new Error(`Timed out in ${e}ms`))},e)}),s=await Promise.race([t,r]);return n!=null&&clearTimeout(n),s}catch(r){throw n!=null&&clearTimeout(n),r}},qg=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=ye(ye({},r.headers),Lr()));const s=Cr(r,t,{method:"GET"}),a=await Or(e,s);if(a.ok){const u=a.headers.get("content-type");return u!=null&&u.includes("application/json")?a.json():a.text()}throw Mr(a),a},gl=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(s.headers=ye(ye({},s.headers),Lr()));const a=Cr(s,n,{method:"POST"});return r.isUrlEncodedData?(a.body=t,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t),up(r.timeout||6e4,Or(e,a).then(u=>{if(r.logTracingHeader&&lp(u),u.ok){const l=u.headers.get("content-type");return l!=null&&l.includes("application/json")?u.json():u.text()}throw Mr(u),u}))},Kg=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(s.headers=ye(ye({},s.headers),Lr()));const a=Cr(s,n,{method:"PATCH"});r.isUrlEncodedData?(a.body=t,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const u=await Or(e,a);if(u.ok){const l=u.headers.get("content-type");return l!=null&&l.includes("application/json")?u.json():u.text()}throw Mr(u),u},Jg=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(s.headers=ye(ye({},s.headers),Lr()));const a=Cr(s,n,{method:"PUT"});r.isUrlEncodedData?(a.body=t,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const u=await Or(e,a);if(u.ok){const l=u.headers.get("content-type");return l!=null&&l.includes("application/json")?u.json():u.text()}throw Mr(u),u};class En extends Error{}En.prototype.name="InvalidTokenError";function fp(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function cp(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return fp(t)}catch{return atob(t)}}function dp(e,t){if(typeof e!="string")throw new En("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new En(`Invalid token specified: missing part #${n+1}`);let s;try{s=cp(r)}catch(a){throw new En(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new En(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}const ct={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},hp={EIP155:"eip155",SOLANA:"solana",XRPL:"xrpl",MULTICHAIN:"multichain"},pp=e=>{if(e===ct.EIP155)return 1;if(e===ct.SOLANA)return 1;throw new Error(`Chain namespace ${e} is not supported`)},yl=e=>{const t=ct.EIP155;return e===1?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:e===5?{chainNamespace:t,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:e===11155111?{chainNamespace:t,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorer:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:e===137?{chainNamespace:t,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:e===80001?{chainNamespace:t,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon",decimals:18}:e===56?{chainNamespace:t,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:e===97?{chainNamespace:t,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:e===25?{chainNamespace:t,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:e===338?{chainNamespace:t,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:e===8217?{chainNamespace:t,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null},bl=e=>{const t=ct.SOLANA;return e===1?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:e===2?{chainNamespace:t,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:e===3?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},wl=(e,t)=>{if(e===ct.OTHER)return null;const n=t?typeof t=="number"?t:parseInt(t,16):pp(e);return e===ct.EIP155?yl(n):e===ct.SOLANA?bl(n):null};class $n extends op{constructor(t,n){super(n),z(this,"code",void 0),z(this,"message",void 0),this.code=t,this.message=n||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class Se extends $n{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Se(t,`${Se.messages[t]}, ${n}`)}static notFound(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5001,t)}static notInstalled(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5002,t)}static notReady(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5003,t)}static windowBlocked(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5004,t)}static windowClosed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5005,t)}static incompatibleChainNameSpace(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5006,t)}static duplicateAdapterError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5007,t)}static invalidProviderConfigError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5008,t)}static providerNotReadyError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5009,t)}static rpcConnectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5010,t)}static invalidParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5011,t)}static invalidNetwork(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Se.fromCode(5013,t)}}z(Se,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Ce extends $n{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Ce(t,`${Ce.messages[t]}. ${n}`)}static connectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5111,t)}static disconnectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5112,t)}static notConnectedError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5113,t)}static popupClosed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5114,t)}static mfaEnabled(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5115,t)}static chainConfigNotAdded(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5116,t)}static unsupportedOperation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5117,t)}static coreKitKeyNotFound(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5118,t)}static userNotLoggedIn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ce.fromCode(5119,t)}}z(Ce,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class qe extends $n{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new qe(t,`${qe.messages[t]}, ${n}`)}static chainIDNotAllowed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5201,t)}static operationNotAllowed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5202,t)}static chainNamespaceNotAllowed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5203,t)}}z(qe,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class Pr extends $n{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new qe(t,`${Pr.messages[t]}, ${n}`)}static invalidRequestArgs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5301,t)}static invalidRequestMethod(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5302,t)}static invalidRequestParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qe.fromCode(5303,t)}}z(Pr,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const In={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},Yt=ye({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},In),An=ye({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},In),ml=ye(ye({},An),Yt),gp={[In.OPENLOGIN]:"OpenLogin",[In.WALLET_CONNECT_V2]:"Wallet Connect v2",[Yt.TORUS_SOLANA]:"Torus",[Yt.PHANTOM]:"Phantom",[Yt.SOLFLARE]:"Solflare",[Yt.SLOPE]:"Slope",[An.TORUS_EVM]:"Torus",[An.METAMASK]:"Metamask",[An.COINBASE]:"Coinbase"},yp=uo,bp={EXTERNAL:"external",IN_APP:"in_app"},Ze={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},_l=ye(ye({},Ze),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class wp extends Ir{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),z(this,"adapterData",{}),z(this,"sessionTime",86400),z(this,"clientId",void 0),z(this,"web3AuthNetwork",uo.MAINNET),z(this,"useCoreKitKey",void 0),z(this,"rehydrated",!1),z(this,"chainConfig",null),z(this,"knownChainConfigs",{}),z(this,"adapterNamespace",void 0),z(this,"currentChainNamespace",void 0),z(this,"type",void 0),z(this,"name",void 0),z(this,"status",void 0),this.setAdapterSettings(t)}get chainConfigProxy(){return this.chainConfig?ye({},this.chainConfig):null}get connnected(){return this.status===Ze.CONNECTED}setAdapterSettings(t){if(this.status===Ze.READY)return;t!=null&&t.sessionTime&&(this.sessionTime=t.sessionTime),t!=null&&t.clientId&&(this.clientId=t.clientId),t!=null&&t.web3AuthNetwork&&(this.web3AuthNetwork=t.web3AuthNetwork),(t==null?void 0:t.useCoreKitKey)!==void 0&&(this.useCoreKitKey=t.useCoreKitKey);const n=t.chainConfig;if(n){if(!n.chainNamespace)throw Se.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=n.chainNamespace;const r=wl(n.chainNamespace,n.chainId),s=ye(ye({},r||{}),n);this.chainConfig=s,this.addChainConfig(s)}}checkConnectionRequirements(){if(!(this.name===ml.WALLET_CONNECT_V2&&this.status===Ze.CONNECTING)){if(this.status===Ze.CONNECTING)throw Se.notReady("Already connecting");if(this.status===Ze.CONNECTED)throw Ce.connectionError("Already connected");if(this.status!==Ze.READY)throw Ce.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw Se.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==ct.OTHER)throw Se.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==ct.OTHER)throw Se.invalidParams("chainID is required in chainConfig");if(this.status!==Ze.NOT_READY){if(this.status===Ze.CONNECTED)throw Se.notReady("Already connected");if(this.status===Ze.READY)throw Se.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==Ze.CONNECTED)throw Ce.disconnectionError("Not connected with wallet")}checkAddChainRequirements(t){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw Ce.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==t.chainNamespace)throw qe.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements(t){let{chainId:n}=t;if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw Ce.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[n])throw Ce.chainConfigNotAdded("Invalid chainId")}updateAdapterData(t){this.adapterData=t,this.emit(_l.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:t})}addChainConfig(t){const n=this.knownChainConfigs[t.chainId];this.knownChainConfigs[t.chainId]=ye(ye({},n||{}),t)}getChainConfig(t){return this.knownChainConfigs[t]||null}}class mp{}const fo="https://authjs.web3auth.io";var El=pl.getLogger("web3auth-logger");function $r(e){let t=!1,n=0,r;try{r=window[e],t=!0,n=r.length;const s="__storage_test__";return r.setItem(s,s),r.removeItem(s),!0}catch(s){const a=s;return!!(a&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&n!==0)}}const _p=e=>(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e),Ep=e=>{const t=dp(e);return!t.exp||t.exp<Math.floor(Date.now()/1e3)},Sp=async(e,t)=>{const a={payload:e,header:{t:t==="solana"?"sip99":"eip191"},network:t==="solana"?"solana":"ethereum"},u=await gl(`${fo}/siww/get`,a);if(!u.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return u.challenge},Ap=async(e,t,n,r,s,a,u)=>{const y={signature:{s:t,t:e==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window.location<"u"?window.location.hostname:"com://reactnative",timeout:s},g=await gl(`${fo}/siww/verify`,y,{headers:{client_id:a,wallet_provider:r,web3auth_network:u}});if(!g.success)throw El.error("Failed to authenticate user, ,message verification failed",g.error),new Error("Failed to authenticate user, ,message verification failed");return g.token},Rp=(e,t)=>$r("localStorage")?localStorage.getItem(`${e.toLowerCase()}_${t}`):null,vp=(e,t,n)=>$r("localStorage")?localStorage.setItem(`${e.toLowerCase()}_${t}`,n):null,Tp=(e,t)=>$r("localStorage")?localStorage.removeItem(`${e.toLowerCase()}_${t}`):null,xp={INITIALIZED:"initialized",ERRORED:"errored"},Yg=Object.freeze(Object.defineProperty({__proto__:null,ADAPTER_CATEGORY:bp,ADAPTER_EVENTS:_l,ADAPTER_NAMES:gp,ADAPTER_NAMESPACES:hp,ADAPTER_STATUS:Ze,BaseAdapter:wp,BaseNetworkSwitch:mp,CHAIN_NAMESPACES:ct,EVM_ADAPTERS:An,MULTI_CHAIN_ADAPTERS:In,OPENLOGIN_NETWORK:uo,PROVIDER_EVENTS:xp,SOLANA_ADAPTERS:Yt,WALLET_ADAPTERS:ml,WEB3AUTH_NETWORK:yp,WalletInitializationError:Se,WalletLoginError:Ce,WalletOperationsError:qe,WalletProviderError:Pr,Web3AuthError:$n,authServer:fo,checkIfTokenIsExpired:Ep,clearToken:Tp,getChainConfig:wl,getEvmChainConfig:yl,getSavedToken:Rp,getSolanaChainConfig:bl,isHexStrict:_p,log:El,saveToken:vp,signChallenge:Sp,storageAvailable:$r,verifySignedChallenge:Ap},Symbol.toStringTag,{value:"Module"}));export{_c as $,Ze as A,Ag as B,ct as C,Cg as D,An as E,$n as F,Er as G,nn as H,Th as I,_t as J,Es as K,kg as L,ka as M,be as N,qh as O,Hd as P,wp as Q,Rp as R,Ir as S,Ot as T,Ep as U,Sp as V,Se as W,Ap as X,vp as Y,Tp as Z,ye as _,Sg as a,tn as a$,vt as a0,Mh as a1,_p as a2,Mp as a3,qe as a4,Oe as a5,gs as a6,Vd as a7,zd as a8,Ua as a9,Mi as aA,Fp as aB,jp as aC,Va as aD,Jp as aE,Yp as aF,Rt as aG,Qp as aH,zp as aI,Sr as aJ,Ar as aK,qa as aL,Ln as aM,og as aN,It as aO,Ja as aP,th as aQ,Tr as aR,no as aS,vr as aT,Xa as aU,Ya as aV,za as aW,Za as aX,to as aY,Pn as aZ,gi as a_,Fa as aa,$p as ab,Up as ac,Xd as ad,Zi as ae,ja as af,Wp as ag,Xp as ah,Ke as ai,Dp as aj,Bp as ak,Hp as al,Gp as am,Vp as an,Qd as ao,qp as ap,pt as aq,ys as ar,Wa as as,Kp as at,Yd as au,Ha as av,Zd as aw,Ga as ax,sn as ay,kp as az,vg as b,Qa as b0,or as b1,sg as b2,_g as b3,mg as b4,ug as b5,cg as b6,gg as b7,bg as b8,hg as b9,Mn as bA,ig as bB,Oh as bC,Kg as bD,Jg as bE,hl as bF,uo as bG,Ug as bH,Dg as bI,tp as bJ,jg as bK,Pg as bL,op as bM,Lg as bN,Og as bO,Bg as bP,Wg as bQ,Gg as bR,Fg as bS,ep as bT,Hg as bU,Mg as bV,Nr as bW,xs as bX,$g as bY,Yg as bZ,ng as ba,tg as bb,ir as bc,ah as bd,Eg as be,ag as bf,eg as bg,ch as bh,Rr as bi,rh as bj,oh as bk,sh as bl,rg as bm,el as bn,wg as bo,lg as bp,fg as bq,pg as br,yg as bs,Zp as bt,eh as bu,Tn as bv,dg as bw,nh as bx,Pi as by,dh as bz,xg as c,Pr as d,hp as e,Ce as f,wl as g,_l as h,ml as i,Cr as j,gp as k,El as l,Ig as m,qg as n,gl as o,Ng as p,Yt as q,Rh as r,$r as s,bp as t,pl as u,Hh as v,Rg as w,Tg as x,rl as y,Vg as z};
